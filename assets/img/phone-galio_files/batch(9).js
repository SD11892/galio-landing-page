;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/jql-autocomplete.js' */
define("jira/autocomplete/jql-autocomplete",["jira/util/formatter","jira/autocomplete/autocomplete","jira/jql/jql-grammar","jira/jql/util","jira/jql/operator-util","jira/util/data/meta","jira/util/objects","jquery","underscore"],function(e,t,r,a,s,n,l,o,i){var g=function(i){var g,d=l.begetObject(t),u=i.parser,p=o.grep(i.jqlFieldNames,function(e){return e.searchable}),c=o.grep(i.jqlFieldNames,function(e){return e.orderable}),f=i.jqlFunctionNames,h=o("#"+i.errorID),m=0,O=o("#jqlcolumnnum"),v=o("#jqlrownum"),S=i.autoCompleteUrl||contextPath+"/rest/api/2/jql/autocompletedata/suggestions";return d.textToSuggestionCursorPosition=function(){return d.field.selectionRange().textBefore},d.pushSuggestionsOnHtmlStack=function(e,t,r,a,s){for(var n=Math.min(15,e.length),l=0;l<n;l++){var o,i;if(e[l].value){var d=e[l];o=g&&s?(g.getNeedsOpenParen()?"(":"")+d.value:d.value,i=d.displayName}else i=e[l],o=i;t.push(o);var u=i.replace(/<b>/g,"").replace(/<\/b>/g,"");r.push('<li id="',a,l,'" title="',u,'">',i,"</li>")}},d.renderSuggestions=function(t,r,a){var s=[];if(t instanceof Array){if(t.length<1&&r&&r.length<1&&a&&a.length<1)return s;var l=["<ul>"];a&&a.length>0&&d.pushSuggestionsOnHtmlStack(a,s,l,"jql_operator_suggest_",!1),d.pushSuggestionsOnHtmlStack(t,s,l,"jql_value_suggest_",!0),r&&r.length>0&&d.pushSuggestionsOnHtmlStack(r,s,l,"jql_function_suggest_",!1),l.push("</ul>");var i=o('<a class="syntax-help" target="_jiraHelp"></a>').attr("title",n.get("advanced-search-help-title")).attr("href",n.get("advanced-search-help-url")).text("Syntax Help"),g=o('<div class="syntax-help-container">').append(i);d.responseContainer.html(l.join("")).append(g).find("li").each(function(e){var t=o(this);s[e]=[t,s[e]],t.tooltip({gravity:"w"})}),d.addSuggestionControls(s)}return s},d.completeField=function(e){var t,r=d.getReplacementStartIndex(g,e),a=d.getReplacementEndIndex(g,r);t=d.isAutoSelectFirstEnabled()?g.isInsideList()?e:e+" ":e,d.replaceValue(r,a,t);var s=u.parse(d.field.val());d.updateParseIndicator(s)},d.prepareOperandSuggestions=function(e,t,r,n,l){if(e){var o=m,i=null==l?null===g.getLastOperand()?"":a.stripEscapeCharacters(g.getLastOperand()):l,u=t+":"+i,p={fieldName:a.stripEscapeCharacters(t)};null===g.getLastOperand()&&null===l||(p.fieldValue=i);var c=s.isWasOperator(g.getLastOperator());d.getSavedResponse(u)?d.renderSuggestionsForOperands(i,d.getSavedResponse(u),r,n,o):(d.dropdownController.dropdown.removeClass("dropdown-ready"),d.delay(function(){d._makeRequest({url:S,dataType:"json",data:p,success:function(e){var t;if(t=null!==e&&null!==e.results?e.results:[],c){var a=p.fieldValue;t=d.appendEmpty(a,t)}d.saveResponse(u,t),d.renderSuggestionsForOperands(i,t,r,n,o)},error:function(){d.renderSuggestionsForOperands(i,[],r,n,o)}})},d.queryDelay))}else d.renderSuggestionsForOperands(a.stripEscapeCharacters(g.getLastOperand()),[],r,n,m)},d.preparePredicateSuggestions=function(e,t){"undefined"==typeof t&&(t=null);var r=d.slimListForPredicates(t,f,e);d.boldMatchingString(t,r);var s=null==t?null===g.getLastOperand()?"":a.stripEscapeCharacters(g.getLastOperand()):t,n=e+":"+s,l={predicateName:a.stripEscapeCharacters(e)};null===g.getLastOperand()&&null===t||(l.predicateValue=s),null!==g.getLastFieldName()&&(l.fieldName=g.getLastFieldName(),n=g.getLastFieldName()+":"+n),d.predicateSupportsAutoComplete(e)?d.getSavedResponse(n)?d.renderSuggestions(d.getSavedResponse(n),r):(d.dropdownController.dropdown.removeClass("dropdown-ready"),d.delay(function(){d._makeRequest({url:S,dataType:"json",data:l,success:function(e){var t;t=null!==e&&null!==e.results?e.results:[];var a=l.predicateValue;t=d.appendEmpty(a,t),d.saveResponse(n,t),d.renderSuggestions(t,r)},error:function(){d.renderSuggestionsForOperands(s,[])}})},d.queryDelay)):d.renderSuggestions([],r)},d.incompleteOperator=function(){var e=g.getTokens();return null==e||e.length<2?"":(e=d.textToSuggestionCursorPosition().split(" "),e.length>2?e[e.length-1]:"")},d.incompletePredicateValue=function(){var e=g.getTokens();return null==e||e.length<3?"":(e=d.textToSuggestionCursorPosition().split(/[\s(,]+/),e.length>3?e[e.length-1]:"")},d.appendEmpty=function(e,t){var a=d.slimListForMapResults(e,r.empty_operand,!0);return null!=e&&d.boldMatchingString(e,a),t.length<15?t=t.concat(a):t[14]=a[0],t},d.dispatcher=function(e){var t,n,l=o(d.field).selectionRange(),i=e.substring(0,l.start),h=u.parse(i);if(g=h.getResult(),m++,g.getNeedsField())d.renderSuggestionsFromMap(a.stripEscapeCharacters(g.getLastFieldName()),p,r.jql_not_logical_operator,!0);else if(g.getNeedsOperatorOrOperand()){n=s.isEmptyOnlyOperator(g.getLastOperator())?r.empty_operand:f,h.calcLastOperandStartIndex();var O=h.getParsedOperator(),v=d.getSuggestionsForOperators(O,r.jql_operators);if(v&&v.length>0){var S=d.incompleteOperator();d.prepareOperandSuggestions(!0,g.getLastFieldName(),n,v,S)}}else if(g.getNeedsOperator())d.renderSuggestionsForOperators(g.getLastOperator(),r.jql_operators);else if(g.getNeedsPredicateOperand()){var L=g.getLastWasPredicate();d.preparePredicateSuggestions(L,a.stripEscapeCharacters(g.getLastOperand()))}else if(g.getNeedsLogicalOperator())g.getNeedsWasPredicate()?g.getNeedsOrderBy()?(t=null===g.getLastOrderBy()?g.getLastWasPredicate():g.getLastOrderBy(),"was"===g.getLastOperator()?d.renderSuggestionsFromMap(t,r.jql_was_predicates_and_order_by,!1):d.renderSuggestionsFromMap(t,r.jql_changed_predicates_and_order_by,!1)):"was"===g.getLastOperator()?d.renderSuggestionsFromMap(g.getLastWasPredicate(),r.jql_was_predicates_and_logical_operators,!1):d.renderSuggestionsFromMap(g.getLastWasPredicate(),r.jql_changed_predicates_and_logical_operators,!1):g.getNeedsOrderBy()?(t=null===g.getLastOrderBy()?g.getLastLogicalOperator():g.getLastOrderBy(),d.renderSuggestionsFromMap(t,r.jql_logical_operators_and_order_by,!1)):d.renderSuggestionsFromMap(g.getLastLogicalOperator(),r.jql_logical_operators,!1);else if(g.getNeedsOrderByField())d.renderSuggestionsFromMap(a.stripEscapeCharacters(g.getLastOrderByFieldName()),c,!0);else if(g.getNeedsOrderByDirection())d.renderSuggestionsFromMap(g.getLastOrderByDirection(),r.jql_order_by_direction,!1);else if(g.getNeedsOperand()){var y=g.getLastFieldName(),_=!1;if(!s.isEmptyOnlyOperator(g.getLastOperator()))for(var q=0;q<p.length;q++)if(a.equalsIgnoreCase(g.getUnquotedString(p[q].value),y)||p[q].cfid&&a.equalsIgnoreCase(p[q].cfid,y)){_=p[q].auto;break}n=s.isEmptyOnlyOperator(g.getLastOperator())?r.empty_operand:f,d.prepareOperandSuggestions(_,y,n,{})}else g.getNeedsOrderBy()?d.renderSuggestionsFromMap(g.getLastOrderBy(),r.jql_logical_operators_and_order_by,!1):d.dropdownController.hideDropdown();d.parse(e)},d.parse=function(e){var t=u.parse(e);return d.updateParseIndicator(t),d.updateColumnLineCount(),t.getResult()},d.renderSuggestionsFromMap=function(e,t,r,a){r||(r={});var s=d.slimListForMapResults(e,t,a),n=d.slimListForMapResults(e,r,a);d.boldMatchingString(e,n),d.boldMatchingString(e,s),d.renderSuggestions(s,n),0===s.length&&0===n.length&&d.dropdownController.hideDropdown()},d.getSuggestionsForOperators=function(e,t){for(var r,s=d.slimListForMapResults(e,t,!1),n=g.getLastFieldName(),l=0;l<p.length;l++)if(a.equalsIgnoreCase(g.getUnquotedString(p[l].value),n)||p[l].cfid&&a.equalsIgnoreCase(p[l].cfid,n)){r=p[l].operators;break}return r&&(s=o.grep(s,function(e){return o.inArray(e.value,r)>-1})),d.boldMatchingString(e,s),s},d.renderSuggestionsForOperators=function(e,t){var r=d.getSuggestionsForOperators(e,t);d.renderSuggestions(r),0===r.length&&d.dropdownController.hideDropdown()},d.renderSuggestionsForOperands=function(e,t,r,a,s){if(s===m){var n=d.slimListForFunctionResults(e,r,g.getLastOperator());d.boldMatchingString(e,n),d.renderSuggestions(t,n,a),0===t.length&&0===n.length&&0===a.length&&d.dropdownController.hideDropdown()}},d.boldMatchingString=function(e,t){if(null!=e&&0!==t.length){for(var r=e.length,a=0,s=r;a<s;a++)switch(e.charAt(a)){case"<":case">":r+=3;break;case"&":r+=4;break;case'"':r+=5}for(var n=0;n<t.length;n++)if(t[n].displayName){var l=t[n].displayName;t[n]={value:t[n].value,displayName:"<b>"+l.substring(0,r)+"</b>"+l.substring(r)}}else t[n]={value:t[n],displayName:"<b>"+t[n].substring(0,r)+"</b>"+t[n].substring(r)}}},d.getReplacementStartIndex=function(e,t){var r,a=o(d.field);return r=e.getNeedsField()?e.getLastFieldNameStartIndex():e.getNeedsOperatorOrOperand()?e.getNeedsOperator()&&s.isWasOperator(t)?e.getLastOperatorStartIndex():e.getLastOperandStartIndex():e.getNeedsOperand()?e.getLastOperandStartIndex():e.getNeedsOperator()?e.getLastOperatorStartIndex():e.getNeedsOrderByField()?e.getLastOrderByFieldNameStartIndex():e.getNeedsOrderByDirection()?e.getLastOrderByDirectionStartIndex():e.getNeedsPredicateOperand()?e.getLastOperandStartIndex():e.getNeedsLogicalOperator()?null!==e.getLastLogicalOperatorStartIndex()&&0!==e.getLastLogicalOperatorStartIndex()?e.getLastLogicalOperatorStartIndex():null!==e.getLastOrderBy()&&0!==e.getLastOrderByStartIndex()?e.getLastOrderByStartIndex():null!=e.getLastWasPredicate()&&0!==e.getLastWasPredicateStartIndex()?e.getLastWasPredicateStartIndex():e.getMustBeOperatorOrPredicate()===!0?a.selectionRange().start:a.selectionRange().start-1:e.getNeedsWasPredicate()?e.getLastWasPredicateStartIndex():e.getNeedsOrderBy()?e.getLastOrderByStartIndex():a.selectionRange().start-1,null!=r?r:a.selectionRange().start},d.getReplacementEndIndex=function(e,t){var a=o(d.field),s=a.selectionRange(),n=null;if(s.start===s.end&&s.end!==d.field.val().length&&t<s.start){var l=e.getTokens().length-1,i=u.parse(d.field.val());if(!i.getParseError()){var g=i.getResult().getTokens()[l];if(null!==g&&"("!==g&&")"!==g){for(var p=d.field.val(),c=p.substring(t,p.length),f=c.split(""),h=0,m=0;m<f.length&&r.REGEXP_WHITESPACE.test(f[m]);m++)h++;n=t+g.length+h}}}return null===n&&(n=s.end),n<t&&(d.replaceValue(t,n," "),n=t),n},d.replaceValue=function(e,t,r){var a=o(d.field);a.selectionRange(e,t),o.browser.webkit?document.execCommand("insertText",!1,r):a.selection(r);var s=a.selectionRange().end;a.selectionRange(s,s)},d.slimListForMapResults=function(e,t,r){var s=a.htmlEscape(e),n=o.grep(t,function(e){return a.startsWithIgnoreCaseNullsMeanAll(s,e.displayName)});return r||1!==n.length||a.startsWithNotEqualsIgnoreCaseNullMeansAll(s,n[0].displayName)?n:{}},d.slimListForFunctionResults=function(e,t,r){for(var n,l=g.getLastFieldName(),i=0;i<p.length;i++)if(a.equalsIgnoreCase(g.getUnquotedString(p[i].value),l)||p[i].cfid&&a.equalsIgnoreCase(p[i].cfid,l)){n=p[i].types;break}var d=o.grep(t,function(t){if(t.isList&&!s.isListSupportingOperator(r)||!t.isList&&s.isListSupportingOperator(r))return!1;if(!n)return!1;for(var l=o.inArray("java.lang.Object",t.types)>-1||o.inArray("java.lang.Object",n)>-1,i=0;i<n.length&&!l;i++)l=o.inArray(n[i],t.types)!==-1;return!!l&&(a.startsWithIgnoreCaseNullsMeanAll(e,t.value)||a.startsWithIgnoreCaseNullsMeanAll(e,t.displayName))});return 1!==d.length||a.startsWithNotEqualsIgnoreCaseNullMeansAll(e,d[0].displayName)?d:{}},d.slimListForPredicates=function(e,t,s){for(var n,l,i=0;i<r.jql_changed_predicates.length;i++)if(a.equalsIgnoreCase(g.getUnquotedString(r.jql_changed_predicates[i].value),s)){n=r.jql_changed_predicates[i].type,l=r.jql_changed_predicates[i].supportsList;break}var d=o.grep(t,function(t){if("undefined"!=typeof t.isList&&(t.isList&&l||!t.isList&&l))return!1;var r=o.inArray(n,t.types)!==-1;return!!r&&(a.startsWithIgnoreCaseNullsMeanAll(e,t.value)||a.startsWithIgnoreCaseNullsMeanAll(e,t.displayName))});return 1!==d.length||a.startsWithNotEqualsIgnoreCaseNullMeansAll(e,d[0].displayName)?d:{}},d.predicateSupportsAutoComplete=function(e){for(var t,s=0;s<r.jql_changed_predicates.length;s++)if(a.equalsIgnoreCase(g.getUnquotedString(r.jql_changed_predicates[s].value),e)){t=r.jql_changed_predicates[s].auto;break}return t},d.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},d.saveResponse=function(e,t){"string"==typeof e&&"object"==typeof t&&(this.requested||(this.requested={}),this.requested[e]=t)},d.startsWithIgnoreCase=function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},d.updateParseIndicator=function(e){e.getParseError()?h.attr("title",e.getResult().getParseErrorMsg()).removeClass("jqlgood").addClass("jqlerror"):h.attr("title","").removeClass("jqlerror").addClass("jqlgood")},d.updateColumnLineCount=function(){var e=o(d.field),t=0;if(d.field[0]===document.activeElement){var a=e.selectionRange();t=a.start}else t=d.field[0].value.length;for(var s=1,n=1,l=d.field.val(),i=0;i<t;i++)r.REGEXP_NEW_LINE.test(l.charAt(i))?(s++,n=1):n++;O.text(n),v.text(s)},d.isAutoSelectFirstEnabled=function(){var e=require("jira/featureflags/feature-manager");return e.isFeatureEnabled("jira.jql.autoselectfirst")},d.init(i),d};return g});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-grammar.js' */
define("jira/jql/jql-grammar",function(){"use strict";var a={};return a.jql_order_by=[{value:"ORDER BY",displayName:"ORDER BY"}],a.jql_operators=[{value:"=",displayName:"="},{value:"!=",displayName:"!="},{value:"~",displayName:"~"},{value:"<=",displayName:"&lt;="},{value:">=",displayName:"&gt;="},{value:">",displayName:"&gt;"},{value:"<",displayName:"&lt;"},{value:"!~",displayName:"!~"},{value:"is not",displayName:"is not"},{value:"is",displayName:"is"},{value:"not in",displayName:"not in"},{value:"in",displayName:"in"},{value:"was",displayName:"was"},{value:"was not",displayName:"was not"},{value:"was in",displayName:"was in"},{value:"was not in",displayName:"was not in"},{value:"changed",displayName:"changed"}],a.jql_logical_operators=[{value:"AND",displayName:"AND"},{value:"OR",displayName:"OR"}],a.jql_logical_operators_and_order_by=a.jql_logical_operators.concat(a.jql_order_by),a.jql_order_by_direction=[{value:"ASC",displayName:"ASC"},{value:"DESC",displayName:"DESC"}],a.empty_operand=[{value:"EMPTY",displayName:"EMPTY",types:["java.lang.Object"]}],a.jql_not_logical_operator=[{value:"NOT",displayName:"NOT"}],a.jql_was_predicates=[{value:"AFTER",displayName:"AFTER",type:"java.util.Date",supportsList:"false"},{value:"BEFORE",displayName:"BEFORE",type:"java.util.Date",supportsList:"false"},{value:"BY",displayName:"BY",type:"com.atlassian.crowd.embedded.api.User",supportsList:"false",auto:"true"},{value:"DURING",displayName:"DURING",type:"java.util.Date",supportsList:"true"},{value:"ON",displayName:"ON",type:"java.util.Date",supportsList:"false"}],a.jql_changed_predicates=a.jql_was_predicates.concat([{value:"FROM",displayName:"FROM",type:"java.lang.String",supportsList:"true",auto:"true"},{value:"TO",displayName:"TO",type:"java.lang.String",supportsList:"true",auto:"true"}]),a.jql_was_predicates_and_order_by=a.jql_was_predicates.concat(a.jql_logical_operators_and_order_by),a.jql_was_predicates_and_logical_operators=a.jql_was_predicates.concat(a.jql_logical_operators),a.jql_changed_predicates_and_order_by=a.jql_changed_predicates.concat(a.jql_logical_operators_and_order_by),a.jql_changed_predicates_and_logical_operators=a.jql_changed_predicates.concat(a.jql_logical_operators),a.REGEXP_ANDS=/^AND\s/i,a.REGEXP_ORS=/^OR\s/i,a.REGEXP_NOTS=/^NOT\s/i,a.REGEXP_SNOT=/^\s+not/i,a.REGEXP_SIN=/^\s+in/i,a.REGEXP_SNOT_IN=/^\s+(not\s+in|not|in)/i,a.REGEXP_COMMA_DELIMITER=/^\s*,/,a.REGEXP_ASCENDING=/^\s+asc/i,a.REGEXP_DESCENDING=/^\s+desc/i,a.REGEXP_ORDER_BY=/^order\s+by/i,a.REGEXP_WHITESPACE=/^\s/,a.REGEXP_UNICODE=/^u[a-fA-F0-9]{4}/,a.REGEXP_FIELD_NAME=/^\s-\scf\[\d\d\d\d\d\]/,a.REGEXP_NEW_LINE=/[\r\n]/,a.REGEXP_NUMBER=/\d/,a.REGEXP_TOKEN_CHAR=/[^=!~<>(),\s&|\]]/,a.REGEXP_SPECIAL_CHAR=/[{}*\/%+$#@?;\][]/,a.REGEXP_SPACE_OR_ELSE=/[\s(]/,a.REGEXP_CHARS_TO_ESCAPE=/[^trn"'\\\s]/,a.REGEXP_NOTSTART=/^NO?$/i,a.REGEXP_INSTART=/^IN?$/i,a.REGEXP_PREDICATE=/^(after|before|by|during|from|on|to)/i,a});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-parse-result.js' */
define("jira/jql/jql-parse-result",function(){"use strict";return function(){var e=[],t=0;return{getTokens:function(){return e},addToken:function(r){e[t++]=r},setLastFieldName:function(r,n){this.fieldNameStartIndex=null===r?n.getMaxTokenStringIdx():n.getTokenStringIdx()-r.length,this.lastFieldName=this.getUnquotedString(r),e[t++]=r},getLastFieldName:function(){return this.lastFieldName},getLastFieldNameStartIndex:function(){return this.fieldNameStartIndex},setLastOrderByFieldName:function(r,n){this.orderByFieldNameStartIndex=null===r?n.getMaxTokenStringIdx():n.getTokenStringIdx()-r.length,this.lastOrderByFieldName=this.getUnquotedString(r),this.lastOrderByDirection=null,e[t++]=r},getLastOrderByFieldName:function(){return this.lastOrderByFieldName},getLastOrderByFieldNameStartIndex:function(){return this.orderByFieldNameStartIndex},setLastOrderByDirection:function(r,n){this.orderByDirectionStartIndex=null===r?n.getMaxTokenStringIdx():n.getTokenStringIdx()-r.length,this.lastOrderByDirection=r,e[t++]=r},getLastOrderByDirection:function(){return this.lastOrderByDirection},getLastOrderByDirectionStartIndex:function(){return this.orderByDirectionStartIndex},setNeedsField:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!0,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1,this.needsWasPredicate=!1,this.lastWasOperator=null},getNeedsField:function(){return this.needsField},setNeedsOrderByField:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!0,this.needsOrderByDirection=!1,this.lastOrderByDirection=null,this.needsListComma=!1},getNeedsOrderByField:function(){return this.needsOrderByField},setNeedsOrderByDirection:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!0,this.needsListComma=!1},getNeedsOrderByDirection:function(){return this.needsOrderByDirection},setNeedsOrderByComma:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},setNeedsListComma:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!0},getNeedsListComma:function(){return this.needsListComma},setLastOperator:function(r,n){this.lastOperator=r,this.operatorStartIndex=n,e[t++]=r},setLastWasOperator:function(e){this.lastWasOperator=e},getLastWasOperator:function(){return this.lastWasOperator},getLastOperator:function(){return this.lastOperator},getLastOperatorStartIndex:function(){return this.operatorStartIndex},setLastOperand:function(r,n){this.operandStartIndex=null===r?n.getMaxTokenStringIdx():n.getTokenStringIdx()-r.length,this.lastOperand=this.getUnquotedString(r),e[t++]=r},getLastOperand:function(){return this.lastOperand},setNeedsOperand:function(){this.needsField=!1,this.needsOperator=!1,this.needsLogicalOperator=!1,this.needsOperand=!0,this.needsOrderBy=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},setNeedsOperandOrOperator:function(){this.needsField=!1,this.needsOperator=!0,this.needsLogicalOperator=!1,this.needsOperand=!0,this.needsOrderBy=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},getNeedsOperand:function(){return this.needsOperand},setNeedsPredicateOperand:function(){this.needsPredicateOperand=!0},resetNeedsPredicateOperand:function(){this.needsPredicateOperand=!1,this.needsOperand=!1},getNeedsPredicateOperand:function(){return this.needsPredicateOperand},getLastOperandStartIndex:function(){return this.operandStartIndex},setLastOperandStartIndex:function(e){this.operandStartIndex=e},setLastLogicalOperator:function(r,n){this.lastLogicalOperator=r,this.logicalOperatorStartIndex=n,e[t++]=r},setNeedsOperator:function(){this.needsField=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsOperator=!0,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},getNeedsOperatorOrOperand:function(){return this.needsOperator&&this.needsOperand},getNeedsOperator:function(){return this.needsOperator},getLastLogicalOperator:function(){return this.lastLogicalOperator},getLastLogicalOperatorStartIndex:function(){return this.logicalOperatorStartIndex},setNeedsLogicalOperator:function(e){this.needsLogicalOperator=!0,this.needsOperator=!1,this.needsOperand=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1,this.needsOrderBy=!e.getInParens(),null!=this.lastWasOperator&&(this.needsWasPredicate=!0)},setNeedsOpenParen:function(e){this.needsOpenParen=e},getNeedsOpenParen:function(){return this.needsOpenParen},getNeedsLogicalOperator:function(){return this.needsLogicalOperator},setNeedsOrderBy:function(e){this.needsOrderBy=e},getNeedsOrderBy:function(){return this.needsOrderBy},getNeedsWasPredicate:function(){return this.needsWasPredicate},setLastWasPredicate:function(r,n){this.wasPredicateStartIndex=null===r?n.getMaxTokenStringIdx():n.getTokenStringIdx()-r.length,this.lastWasPredicate=r,e[t++]=r},getLastWasPredicate:function(){return this.lastWasPredicate},resetLastPredicates:function(){this.lastLogicalOperator=null,this.lastWasPredicate=null,this.lastOperand=null,this.wasPredicateStartIndex=null,this.operandStartIndex=null},getLastWasPredicateStartIndex:function(){return this.wasPredicateStartIndex},setLastOrderBy:function(r,n){this.orderByStartIndex=null===r?n.getMaxTokenStringIdx():n.getTokenStringIdx()-r.length,this.lastOrderBy=r,e[t++]=r},getLastOrderBy:function(){return this.lastOrderBy},getLastOrderByStartIndex:function(){return this.orderByStartIndex},resetLogicalOperators:function(){this.lastLogicalOperator=null,this.logicalOperatorStartIndex=null,this.needsLogicalOperator=null},getUnquotedString:function(e){var t=null!=e&&e.length>=3&&"\\"!==e.charAt(e.length-2);return null!=e&&'"'===e.charAt(0)?(e=e.substring(1,e.length),'"'===e.charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1))):null!=e&&"'"===e.charAt(0)&&(e=e.substring(1,e.length),"'"===e.charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1))),e},setParseError:function(e){this.parseError=!0,this.parseErrorMsg=e},getParseError:function(){return this.parseError},getParseErrorMsg:function(){return this.parseErrorMsg},setNeedsNothing:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsOpenParen=!1,this.needsListComma=!1,this.needsWasPredicate=null,this.needsPredicateOperand=null,this.mustBeOperatorOrPredicate=null,this.lastWasOperator=null},setOperandComplete:function(){this.operandComplete=!0},getOperandComplete:function(){return this.operandComplete},setInsideList:function(e){this.insideList=e},isInsideList:function(){return this.insideList},setMustBeOperatorOrPredicate:function(e){this.mustBeOperatorOrPredicate=e},getMustBeOperatorOrPredicate:function(){return this.mustBeOperatorOrPredicate},resetTerminalClause:function(){this.lastFieldName=null,this.fieldNameStartIndex=null,this.needsField=null,this.lastOperator=null,this.operatorStartIndex=null,this.needsOperator=null,this.lastOperand=null,this.operandStartIndex=null,this.needsOperand=null,this.operandComplete=null,this.needsOpenParen=null,this.needsListComma=!1,this.mustBeOperatorOrPredicate=null},init:function(){this.lastFieldName=null,this.fieldNameStartIndex=null,this.needsField=null,this.lastOperator=null,this.operatorStartIndex=null,this.needsOperator=null,this.lastOperand=null,this.operandStartIndex=null,this.needsOperand=null,this.lastLogicalOperator=null,this.logicalOperatorStartIndex=null,this.lastOrderByFieldName=null,this.lastOrderByFieldNameStartIndex=null,this.lastOrderByDirection=null,this.lastOrderByDirectionStartIndex=null,this.orderByStartIndex=null,this.lastOrderBy=null,this.needsOrderBy=null,this.needsOrderByField=null,this.needsOrderByDirection=null,this.operandComplete=null,this.needsOpenParen=null,this.needsListComma=null,this.wasPredicateStartIndex=null,this.lastWasPredicate=null,this.needsWasPredicate=null,this.needsPredicateOperand=null,this.mustBeOperatorOrPredicate=null,this.lastWasOperator=null,this.insideList=null}}}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-parse-token.js' */
define("jira/jql/jql-parse-token",["jira/jql/jql-parse-result"],function(t){"use strict";return function(){return{init:function(n){this.tokenStringIdx=0,this.tokenString=n,this.parseError=!1,this.parseErrorMsg=null,this.result=t(),this.result.init(),this.inParens=0,this.inListParens=0},consumeCharacter:function(){this.tokenStringIdx++},consumeCharacters:function(t){this.tokenStringIdx=this.tokenStringIdx+t},backTrackToIdx:function(t){this.tokenStringIdx=t,this.parseError=!1,this.parseErrorMsg=null,this.result.parseError=!1,this.result.parseErrorMsg=null},getTokenStringIdx:function(){return this.tokenStringIdx},currentCharacter:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.charAt(this.tokenStringIdx)},remainingString:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.substr(this.tokenStringIdx,this.tokenString.length)},getMaxTokenStringIdx:function(){return this.tokenString.length},isComplete:function(){return!!this.parseError||this.tokenStringIdx>=this.tokenString.length},setInParens:function(){this.inParens++},setOutOfParens:function(){0!==this.inParens&&this.inParens--},getInParens:function(){return 0!==this.inParens},setInListParens:function(){this.inListParens++},setOutOfListParens:function(){this.inListParens>0&&this.inListParens--},getInListParens:function(){return this.inListParens>0},setParseError:function(){this.parseError=!0;var t=this.tokenStringIdx-9<0?0:this.tokenStringIdx-9,n=this.tokenString.substring(t,this.tokenStringIdx-1);this.result.setParseError("..."+n+"^"+this.tokenString.substring(this.tokenStringIdx,this.tokenString.length))},getParseError:function(){return this.parseError},calcLastOperandStartIndex:function(){var t=this.getResult(),n=t.getLastOperator();if(n.length>0){var r=n.length-n.replace(/\s+/g,"").length;t.setLastOperandStartIndex(t.getLastOperatorStartIndex()+n.length+r+1)}},getParsedOperator:function(){var t=this.getResult();return t.getLastOperator().length>0?this.tokenString.substr(t.getLastOperatorStartIndex()):null},getResult:function(){return this.result}}}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/jql-parser.js' */
define("jira/jql/jql-parser",["jira/jql/jql-grammar","jira/jql/jql-parse-token","jira/jql/operator-util","jquery"],function(e,t,s,r){return function(a){var i=a;return{parse:function(e){var s=t();return s.init(e),this.jql(s),s},orderByClause:function(t){var s=t.remainingString(),r=s.match(e.REGEXP_ORDER_BY);if(r){var a=s.substring(0,r[0].length);t.consumeCharacters(a.length),t.getResult().setLastOrderBy(a,t),t.isComplete()?(t.getResult().resetLogicalOperators(),t.setParseError()):(s=t.remainingString(),e.REGEXP_WHITESPACE.test(s)?(this.chewWhitespace(t),this.orderByFields(t)):(t.getResult().resetLogicalOperators(),t.setParseError()))}else t.consumeCharacters(s.length),t.getResult().setLastOrderBy(s,t),t.setParseError()},orderByFields:function(e){if(this.orderByField(e),this.chewWhitespace(e),e.isComplete())e.getResult().getNeedsOrderByField()||e.getResult().setLastOrderByDirection("",e);else{var t=e.remainingString();this.startsWithIgnoreCase(",",t)?(e.consumeCharacter(),this.orderByFields(e),this.chewWhitespace(e)):(t=e.remainingString(),null!==t&&e.consumeCharacters(t.length),e.getResult().setNeedsOrderByDirection(),e.getResult().setLastOrderByDirection(t,e),e.setParseError())}},orderByField:function(t){this.chewWhitespace(t);var s=this.fieldName(t);if(0!==s.length){t.getResult().setLastOrderByFieldName(s,t);var r=t.remainingString();t.isComplete()||e.REGEXP_COMMA_DELIMITER.test(r)?(t.getResult().setNeedsOrderByField(),this.chewWhitespace(t)):e.REGEXP_ASCENDING.test(r)?(this.chewWhitespace(t),t.consumeCharacters(3),t.getResult().setLastOrderByDirection("asc",t),t.getResult().setNeedsOrderByComma()):e.REGEXP_DESCENDING.test(r)?(this.chewWhitespace(t),t.consumeCharacters(4),t.getResult().setLastOrderByDirection("desc",t),t.getResult().setNeedsOrderByComma()):t.getResult().setNeedsOrderByDirection()}else t.getResult().setLastOrderByFieldName("",t),t.getResult().setNeedsOrderByField(),t.setParseError()},jql:function(e){this.orClause(e);var t=e.remainingString();this.startsWithIgnoreCase("ord",t)&&this.orderByClause(e),e.result.setInsideList(0!==e.inListParens)},orClause:function(t){for(;!t.isComplete()&&!this.startsWithIgnoreCase(")",t.remainingString());){this.chewWhitespace(t);var s=t.remainingString();if(this.startsWithIgnoreCase("ord",s))break;if(t.getResult().getMustBeOperatorOrPredicate()?t.getResult().resetLastPredicates():(t.getResult().resetLogicalOperators(),this.andClause(t)),!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){if(t.getResult().getNeedsWasPredicate()&&this.predicateClause(t),t.isComplete())return;if(s=t.remainingString(),this.startsWithIgnoreCase("ord",s))break;if(null!==s&&(e.REGEXP_ORS.test(s)||this.startsWithIgnoreCase("|",s)||this.startsWithIgnoreCase("||",s)))this.startsWithIgnoreCase("||",s)?(t.getResult().setLastLogicalOperator("||",t.getTokenStringIdx()),t.consumeCharacters(2)):e.REGEXP_ORS.test(s)?(t.getResult().setLastLogicalOperator("OR",t.getTokenStringIdx()),t.consumeCharacters(3)):(t.getResult().setLastLogicalOperator("|",t.getTokenStringIdx()),t.consumeCharacters(1)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField();else if(!this.startsWithIgnoreCase(")",s)||!t.getInParens()){this.chewWhitespace(t);var r,a=null===s?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-s.length;null!=s&&(r=s.split(" "),t.getResult().setLastLogicalOperator(r[0],a),t.getResult().setLastWasPredicate(r[0],t),t.getResult().setNeedsLogicalOperator(t)),null==t.getResult().getLastWasOperator()?t.setParseError():null!=r&&(e.REGEXP_PREDICATE.test(r[0])?(t.getResult().setLastLogicalOperator(null),t.getResult().resetNeedsPredicateOperand()):(e.REGEXP_ANDS.test(s)&&(t.consumeCharacters(4),t.getResult().resetTerminalClause(),t.getResult().setNeedsField()),(t.isComplete()||1===r.length)&&t.setParseError()))}}}},andClause:function(t){if(this.chewWhitespace(t),this.notClause(t),!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){this.chewWhitespace(t);var s=t.remainingString();null!==s&&(e.REGEXP_ANDS.test(s)||this.startsWithIgnoreCase("&",s)||this.startsWithIgnoreCase("&&",s))?(this.startsWithIgnoreCase("&&",s)?(t.getResult().setLastLogicalOperator("&&",t.getTokenStringIdx()),t.consumeCharacters(2)):this.startsWithIgnoreCase("&",s)?(t.getResult().setLastLogicalOperator("&",t.getTokenStringIdx()),t.consumeCharacters(1)):(t.getResult().setLastLogicalOperator("AND",t.getTokenStringIdx()),t.consumeCharacters(4)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField()):(t.getResult().setNeedsLogicalOperator(t),t.isComplete()&&t.getResult().setLastLogicalOperator(null,t.getMaxTokenStringIdx()))}},notClause:function(t){if(this.chewWhitespace(t),t.isComplete())this.terminalClause(t),t.setParseError();else{this.chewWhitespace(t);var s=t.remainingString();null!==s&&(e.REGEXP_NOTS.test(s)||this.startsWithIgnoreCase("!",s))?(t.getResult().needsField=!1,this.startsWithIgnoreCase("!",s)?(t.getResult().setLastLogicalOperator("!",t.getTokenStringIdx()),t.consumeCharacters(1)):(t.getResult().setLastLogicalOperator("NOT",t.getTokenStringIdx()),t.consumeCharacters(4)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField()):this.terminalClause(t)}},predicateClause:function(e){if(this.chewWhitespace(e),e.isComplete())e.setParseError();else{var t=e.remainingString(),s=t.split(/[\s(]+/);if(null!==t){if(e.getResult().setMustBeOperatorOrPredicate(!1),this.startsWithLogicalOperator(t)){if(1===s.length)return e.getResult().setLastWasPredicate(s[0],e),void e.setParseError();return}if(e.getResult().resetNeedsPredicateOperand(),e.consumeCharacters(s[0].length),e.getResult().setLastWasPredicate(s[0],e),1===s.length)return void e.setParseError();this.wasPredicateComplete(s[0])?(e.getResult().setNeedsPredicateOperand(),e.getResult().setLastOperand(null,e),this.predicateOperand(e)):e.setParseError()}}},predicateOperand:function(e){this.chewWhitespace(e);var t=this.collectPredicateOperands(e);null!=t&&""!=t||(e.getResult().setLastOperandStartIndex(e.getTokenStringIdx()),e.setParseError()),null!=e.remainingString()&&(e.getResult().resetNeedsPredicateOperand(),e.getResult().resetLastPredicates(),e.getResult().setMustBeOperatorOrPredicate(!0),e.getResult().setNeedsLogicalOperator(e),this.chewWhitespace(e))},collectPredicateOperands:function(e){"DURING"===e.getResult().getLastWasPredicate()&&e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);return 0===t.length?(t=this.functionOperand(e),0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)):e.getResult().setNeedsOpenParen(!1),e.getResult().getUnquotedString(t)},terminalClause:function(t){t.getResult().resetTerminalClause(),this.chewWhitespace(t);var s=t.remainingString();if(this.startsWithIgnoreCase("(",s))t.getResult().addToken("("),t.setInParens(),t.consumeCharacter(),this.orClause(t),this.chewWhitespace(t),s=t.remainingString(),this.startsWithIgnoreCase(")",s)?(t.getResult().addToken(")"),t.consumeCharacter(),t.setOutOfParens(),t.isComplete()&&(t.getResult().resetLogicalOperators(),t.getResult().resetLastPredicates())):t.setParseError();else if(this.field(t),t.isComplete())t.getResult().setNeedsField(),t.setParseError();else if(this.oper(t),t.isComplete()){if("was"===t.getResult().getLastOperator()||"was not"===t.getResult().getLastOperator())t.getResult().setNeedsOperandOrOperator();else{if("changed"===t.getResult().getLastWasOperator()){var r=t.currentCharacter();return void(null!==r&&e.REGEXP_SPACE_OR_ELSE.test(r)?t.getResult().setNeedsLogicalOperator(t):(t.getResult().resetLogicalOperators(),t.getResult().setNeedsOrderBy(!1)))}t.getResult().setNeedsOperator()}t.setParseError()}else{if("changed"===t.getResult().getLastWasOperator())return void t.getResult().setNeedsLogicalOperator(t);if(this.operand(t),t.getResult().getOperandComplete()){var a=t.getResult().getLastWasOperator();t.getResult().setNeedsNothing(),a&&t.getResult().setLastWasOperator(a)}else t.isComplete()&&!t.getResult().getNeedsListComma()&&t.getResult().setNeedsOperand()}},field:function(e){var t=this.fieldName(e);if(0!==t.length)e.getResult().setLastFieldName(t,e);else if(null===e.getResult().getLastFieldName()){var s=e.remainingString();e.getResult().setNeedsField(),e.getResult().setLastFieldName(s,e),e.setParseError()}},fieldName:function(e){this.chewWhitespace(e);var t=["issue","assignee","reporter","creator","watcher","project"],s=e.remainingString(),r=this.findStartsWith(t,s);if(r)return this.fieldProperty(r,e);if(this.startsWithIgnoreCase("cf",s)){var a=e.getTokenStringIdx(),i=e.remainingString();if(e.consumeCharacters(2),this.chewWhitespace(e),s=e.remainingString(),this.startsWithIgnoreCase("[",s)){e.consumeCharacter(),s=e.remainingString();var n=this.numberValue(e);if(0!==n.length&&(this.chewWhitespace(e),s=e.remainingString(),this.startsWithIgnoreCase("]",s)))return e.consumeCharacter(),i.substring(0,e.getTokenStringIdx()-a)}return e.setParseError(),i}return this.fieldOrFunctionName(e)},fieldProperty:function(e,t){t.consumeCharacters(e.length),this.chewWhitespace(t);var s=t.remainingString();if(this.startsWithIgnoreCase("[",s)){t.consumeCharacter();for(var r=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());)t.consumeCharacter(),r[r.length]=this.stringValue(t);if(0!==r.length&&0!==r[0].length&&!this.startsWithIgnoreCase(".",r[0])&&(this.chewWhitespace(t),s=t.remainingString(),this.startsWithIgnoreCase("]",s)&&(t.consumeCharacter(),s=t.remainingString(),!/\.\s*=/.test(s)))){for(var a=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());)t.consumeCharacter(),a[a.length]=this.stringValue(t);return e+"["+r.join(".")+"]"+a.join(".")}}return t.setParseError(),""},findStartsWith:function(e,t){var s=this.startsWithIgnoreCase,r=e.map(function(e){return e+".property"}),a=_.find(r,function(e){return s(e,t)});return a||null},oper:function(t){this.chewWhitespace(t);var r=t.remainingString(),a=this.getLongestOperatorMatch(r,e.jql_operators);if(null!==a){if(t.getResult().setLastOperator(a,t.getTokenStringIdx()),(s.isWasOperator(a)||s.isChangedOperator(a))&&t.getResult().setLastWasOperator(a),t.consumeCharacters(a.length),"in"===a||"is"===a||"is not"===a||"not in"===a||"was"===a||"was not"===a||"was in"===a||"was not in"===a){var i=t.currentCharacter();null===i||e.REGEXP_SPACE_OR_ELSE.test(i)||t.setParseError()}"was"===a?(t.getResult().setNeedsOperandOrOperator(),this.chewWhitespace(t),r=t.remainingString(),null!=r&&(e.REGEXP_NOTSTART.test(r)||e.REGEXP_INSTART.test(r))&&t.setParseError()):"was not"===a?(t.getResult().setNeedsOperandOrOperator(),this.chewWhitespace(t),r=t.remainingString(),null!=r&&e.REGEXP_INSTART.test(r)&&t.setParseError()):"changed"===a?t.getResult().setNeedsLogicalOperator(t):t.getResult().setNeedsOperand()}else if(null===t.getResult().getLastOperator()){var n=null===r?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-r.length;t.getResult().setLastOperator(r,n),t.getResult().setNeedsOperator(),t.setParseError()}},operand:function(e){this.chewWhitespace(e),"in"!==e.getResult().getLastOperator()&&"not in"!==e.getResult().getLastOperator()&&"was not in"!==e.getResult().getLastOperator()&&"was in"!==e.getResult().getLastOperator()||e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);if(0===t.length?(t=this.functionOperand(e),0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)):e.getResult().setNeedsOpenParen(!1),null===t||0===t.length){var s=e.remainingString();e.getResult().setLastOperand(s,e),e.getResult().setNeedsOperand(),e.setParseError()}return 0!==t.length?t:""},singleValueOperand:function(e){var t=this.stringValue(e);return 0!==t.length?(e.getResult().setLastOperand(t,e),"empty"!==t.toLowerCase()&&"null"!==t.toLowerCase()&&this.isReservedWord(t.toLowerCase())&&e.setParseError(),t):""},functionOperand:function(e){var t=e.getTokenStringIdx(),s=this.fieldOrFunctionName(e);this.chewWhitespace(e);var r=this.listOperand(e,!1);if(0!==s.length&&0!==r.length){var a=s+r;return e.getResult().setLastOperand(a,e),a}return e.backTrackToIdx(t),""},listOperand:function(e,t){if("("===e.currentCharacter()){e.consumeCharacter(),e.setInListParens();var s=this.collectListValues(e,t),r="("+s;return this.chewWhitespace(e),")"===e.currentCharacter()?(e.consumeCharacter(),e.setOutOfListParens(),r+=")","()"===r&&t&&e.getResult().setLastOperand(r,e),t&&(e.getResult().setOperandComplete(),e.getResult().resetNeedsPredicateOperand())):e.setParseError(),r}return""},collectListValues:function(e,t){t&&e.getResult().setNeedsOperand(),this.chewWhitespace(e);var s=t?this.operand(e):this.stringValue(e);if(0!==s.length){if(this.chewWhitespace(e)&&t&&e.getResult().setNeedsListComma(),","===e.currentCharacter()){e.consumeCharacter();var r=this.collectListValues(e,t);return 0===r.length&&e.setParseError(),s+", "+r}return s}return""},startsWithIgnoreCase:function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},startsWithLogicalOperator:function(e){return null!==e&&(this.startsWithOr(e)||this.startsWithAnd(e)||this.startsWithNot(e)||this.startsWithBraces(e))},startsWithOr:function(e){return this.startsWithIgnoreCase("|",e)||this.startsWithIgnoreCase("||",e)||this.startsWithIgnoreCase("or",e)},startsWithAnd:function(e){return this.startsWithIgnoreCase("&",e)||this.startsWithIgnoreCase("&&",e)||this.startsWithIgnoreCase("and",e)},startsWithNot:function(e){return this.startsWithIgnoreCase("!",e)||this.startsWithIgnoreCase("not",e)},startsWithBraces:function(e){return this.startsWithIgnoreCase("(",e)||this.startsWithIgnoreCase(")",e)},chewWhitespace:function(t){for(var s=!1,r=t.currentCharacter();null!==r&&e.REGEXP_WHITESPACE.test(r);)t.consumeCharacter(),r=t.currentCharacter(),s=!0;return s},getLongestOperatorMatch:function(t,s){var r,a=null;if(this.startsWithIgnoreCase("is",t)&&(r=t.substring(2).match(e.REGEXP_SNOT),a=r?t.substring(0,r[0].length+2):"is"),this.startsWithIgnoreCase("was",t))r=t.substring(3).match(e.REGEXP_SNOT_IN),a=r?t.substring(0,r[0].length+3):"was";else if(this.startsWithIgnoreCase("not",t)){var i=t.substring(3).match(e.REGEXP_SIN);i&&(a=t.substring(0,i[0].length+3))}else for(var n=0;n<s.length;n++)this.startsWithIgnoreCase(s[n].value,t)&&(null===a||e.jql_operators[n].value.length>a)&&(a=e.jql_operators[n].value);return a},getValueMinusExtraWhitespace:function(t){if(null===t)return null;for(var s="",r=!0,a=t.split(""),i=0;i<a.length;i++){var n=a[i];e.REGEXP_WHITESPACE.test(n)?r&&(r=!1,s+=n):(r=!0,s+=n)}return s},fieldOrFunctionName:function(e){var t=this.stringValue(e);return'""'!==t&&"''"!==t||e.setParseError(),this.isReservedWord(t.toLowerCase())&&e.setParseError(),t},isReservedWord:function(e){return r.inArray(e,i)!==-1},stringValue:function(t){for(var s="",r=!1,a=!1,i=t.currentCharacter();null!==i&&(r||a||e.REGEXP_TOKEN_CHAR.test(i));){if(s+=i,t.consumeCharacter(),"\\"===i){if(i=t.currentCharacter(),null===i){t.setParseError();break}if(e.REGEXP_CHARS_TO_ESCAPE.test(i)){var n=t.remainingString();if(!e.REGEXP_UNICODE.test(n)){t.setParseError();break}}s+=i,t.consumeCharacter()}else{if(e.REGEXP_SPECIAL_CHAR.test(i)&&!r&&!a){t.setParseError();break}'"'!==i||a?"'"!==i||r||(a=!a):r=!r}i=t.currentCharacter()}return t.isComplete()&&(r||a)&&t.setParseError(),s},numberValue:function(t){var s="";this.chewWhitespace(t);for(var r=t.currentCharacter();null!==r&&e.REGEXP_NUMBER.test(r);)s+=r,t.consumeCharacter(),r=t.currentCharacter();return s},wasPredicateComplete:function(t){for(var s=!1,r=e.jql_changed_predicates.length,a=0;a<r;++a)if(t.toLowerCase()==e.jql_changed_predicates[a].value.toLowerCase()){s=!0;break}return s}}}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/operator-util.js' */
define("jira/jql/operator-util",function(){"use strict";var n={};return n.isListSupportingOperator=function(n){return"in"===n||"not in"===n||"was not in"===n||"was in"===n},n.isEmptyOnlyOperator=function(n){return"is"===n||"is not"===n},n.isWasOperator=function(n){return"was"===n||"was in"===n||"was not in"===n||"was not"===n},n.isChangedOperator=function(n){return"changed"===n},n.isHistoryOperator=function(r){return n.isWasOperator(r)||n.isChangedOperator(r)},n});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/jql/util.js' */
define("jira/jql/util",["jira/jql/jql-grammar"],function(t){"use strict";var e={};return e.htmlEscape=function(t){if(null==t)return null;for(var e="",l=t.split(""),n=0;n<l.length;n++)e+="<"===l[n]?"&lt;":">"===l[n]?"&gt;":"&"===l[n]?"&amp;":'"'===l[n]?"&quot;":l[n];return e},e.stripEscapeCharacters=function(e){if(null==e)return e;for(var l="",n=e.split(""),r=0;r<n.length&&("\\"!==n[r]||t.REGEXP_UNICODE.test(e.substring(r,e.length))||(r++,!(r>=e.length)));r++)l+=n[r];return l},e.equalsIgnoreCase=function(t,e){return null===t&&null===e||null!==t&&null!==t&&t.toLowerCase()===e.toLowerCase()},e.startsWithIgnoreCaseNullsMeanAll=function(t,e){return null===e||null===t||!(e.length<t.length)&&t.toLowerCase()==e.substr(0,t.length).toLowerCase()},e.startsWithNotEqualsIgnoreCaseNullMeansAll=function(e,l){if(null===l||null===e)return!0;if(l.length<e.length)return!1;var n=e.toLowerCase()==l.substr(0,e.length).toLowerCase();if(n){var r=null;return r=t.REGEXP_FIELD_NAME.test(l.substr(e.length,l.length))?l.substr(0,e.length):l,e.toLowerCase()!=r.toLowerCase()}return!1},e});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/namespace.js' */
AJS.namespace("jira.widget.autocomplete.JQL",null,require("jira/autocomplete/jql-autocomplete")),AJS.namespace("JIRA.JQLAutoComplete",null,require("jira/autocomplete/jql-autocomplete")),AJS.namespace("JIRA.JQLAutoComplete.MyParser",null,require("jira/jql/jql-parser")),AJS.namespace("JIRA.JQLAutoComplete.ParseResult",null,require("jira/jql/jql-parse-result")),AJS.namespace("JIRA.JQLAutoComplete.Token",null,require("jira/jql/jql-parse-token"));;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/initJQLAutoComplete.js' */
!function(){"use strict";var e=require("jira/autocomplete/jql-autocomplete"),r=require("jira/jql/jql-parser"),t=require("jira/util/forms"),n=require("jquery");n(function(){n(".jql-autocomplete-params").each(function(){var i={};n(this).find("input").each(function(){var e=n(this);i[e.attr("id")]=e.val()});var l=JSON.parse(n("#jqlFieldz").text()),o=JSON.parse(n("#jqlFunctionNamez").text()),a=JSON.parse(n("#jqlReservedWordz").text()),u=function(){var e=require("jira/featureflags/feature-manager");return e.isFeatureEnabled("jira.jql.autoselectfirst")},s=e({fieldID:"jqltext",parser:r(a),queryDelay:.65,jqlFieldNames:l,jqlFunctionNames:o,minQueryLength:0,allowArrowCarousel:!0,autoSelectFirst:u(),errorID:"jqlerrormsg"}),d=n("#jqltext");d.unbind("keypress",t.submitOnEnter).keypress(function(e){if(null===s.dropdownController||!s.dropdownController.displayed||s.selectedIndex<0)return!(13===e.keyCode&&!e.ctrlKey&&!e.shiftKey)||(n("#jqlform").submit(),!1)}),s.buildResponseContainer(),s.parse(d.text()),s.updateColumnLineCount(),d.click(function(){s.dropdownController.hideDropdown()})})})}();;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-internal-constants', location = 'node_modules/@atlassian/aui/src/js/aui/internal/constants.js' */
("undefined"===typeof window?global:window).__fa2d609d3773596cc2b702b68678a39c=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={INPUT_SUFFIX:"-input"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-toggle', location = 'node_modules/@atlassian/aui/src/js/aui/toggle.js' */
("undefined"===typeof window?global:window).__1840a42d6d7e6ab244ecf3cf5bcc56cd=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function c(a){return a._input||(a._input=a.querySelector("input"))}function f(a,b){c(b).removeAttribute(a)}function h(a,b,d){c(b).setAttribute(a,d.newValue)}function i(a){return{removed:f.bind(this,a),fallback:h.bind(this,a)}}"use strict";__e573296a636ce4ee054d5d3b9c8823fb;__8a6820c3d0bc5d638a8490d849a5b750;var g=__29fa312a51517f20df339a1900640e1d,d=e(__307d3e18fd611f85395c67cddeb1fe24),
k=e(__8339408c10b0a9052af9f3aad7b3a4e8),l=e(__f52b7059926ab2bdcd0aee12b4bc782b),m=e(__c1ce1f1e3e613f564fc234ff043570f1),n=__fa2d609d3773596cc2b702b68678a39c,j={removed:function(a){f.call(this,"form",a);a._formId=null},fallback:function(a,b){h.call(this,"form",a,b);a._formId=b.newValue}},o={removed:f.bind(void 0,"id"),fallback:function(a,b){c(a).setAttribute("id",""+b.newValue+n.INPUT_SUFFIX)}};(0,m.default)("aui-toggle",{template:(0,l.default)('<input type="checkbox" class="aui-toggle-input">','<span class="aui-toggle-view">',
'<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(a){a._input=c(a);a._tick=a.querySelector(".aui-toggle-tick");a._cross=a.querySelector(".aui-toggle-cross");(0,d.default)(a._input).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1});a._input.addEventListener("keydown",
function(b){a.busy&&b.keyCode===AJS.keyCode.SPACE&&b.preventDefault()});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&a._input.addEventListener("click",function(b){a.busy&&b.preventDefault()})},attached:function(a){(0,k.default)(a).attributeExists("label")},events:{click:function(a,b){!a.disabled&&(!a.busy&&b.target!==a._input)&&a._input.click();(0,g.setBooleanAttribute)(a,"checked",c(a).checked)}},attributes:{id:o,checked:{removed:function(a){f.call(this,"checked",a);c(a).checked=!1},
fallback:function(a,b){h.call(this,"checked",a,b);c(a).checked=!0}},disabled:i("disabled"),form:j,name:i("name"),value:i("value"),"tooltip-on":{value:"On",fallback:function(a,b){c(a).setAttribute("tooltip-on",b.newValue||"On")}},"tooltip-off":{value:"Off",fallback:function(a,b){c(a).setAttribute("tooltip-off",b.newValue||"Off")}},label:{removed:function(a){c(a).removeAttribute("aria-label")},
fallback:function(a,b){c(a).setAttribute("aria-label",b.newValue)}}},prototype:{focus:function(){this._input.focus();return this},get checked(){return this._input.checked},set checked(a){this._input.checked=a;return(0,g.setBooleanAttribute)(this,"checked",a)},get disabled(){return this._input.disabled},set disabled(a){return(0,g.setBooleanAttribute)(this,"disabled",a)},get form(){return document.getElementById(this._formId)},set form(a){j.fallback.call(this,this,{newValue:a||null});return this.form},
get name(){return this._input.name},set name(a){this.setAttribute("name",a);return a},get value(){return this._input.value},set value(a){this.setAttribute("value",null===a?"":a);return a},get busy(){return"true"===this._input.getAttribute("aria-busy")},set busy(a){(0,g.setBooleanAttribute)(this,"busy",a);a?(this._input.setAttribute("aria-busy","true"),this._input.indeterminate=!0,this.checked?((0,d.default)(this._input).addClass("indeterminate-checked"),(0,d.default)(this._tick).spin({zIndex:null})):
(0,d.default)(this._cross).spin({zIndex:null,color:"black"})):((0,d.default)(this._input).removeClass("indeterminate-checked"),this._input.indeterminate=!1,this._input.removeAttribute("aria-busy"),(0,d.default)(this._cross).spinStop(),(0,d.default)(this._tick).spinStop());var b=!!a;this.id&&Array.prototype.forEach.call(document.querySelectorAll('aui-label[for="'+this.id+'"]'),function(a){a.disabled=b});return a}}});return{}}.call(this);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/jquery/colorpicker2/colorpicker.js' */
!function(e){var o=function(){var o=65,t='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',r={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},i=function(o,t){var r=j(o);e(t).data("colorpicker").fields.eq(1).val(r.r).end().eq(2).val(r.g).end().eq(3).val(r.b).end()},a=function(o,t){e(t).data("colorpicker").fields.eq(4).val(o.h).end().eq(5).val(o.s).end().eq(6).val(o.b).end()},c=function(o,t){e(t).data("colorpicker").fields.eq(0).val(B(o)).end()},n=function(o,t){e(t).data("colorpicker").selector.css("backgroundColor","#"+B({h:o.h,s:100,b:100})),e(t).data("colorpicker").selectorIndic.css({left:parseInt(150*o.s/100,10),top:parseInt(150*(100-o.b)/100,10)})},d=function(o,t){e(t).data("colorpicker").hue.css("top",parseInt(150-150*o.h/360,10))},l=function(o,t){e(t).data("colorpicker").currentColor.css("backgroundColor","#"+B(o))},s=function(o,t){e(t).data("colorpicker").newColor.css("backgroundColor","#"+B(o))},p=function(t){var r=t.charCode||t.keyCode||-1;if(r>o&&r<=90||32==r)return!1;var i=e(this).parent().parent();i.data("colorpicker").livePreview===!0&&u.apply(this)},u=function(o){var t,r=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?r.data("colorpicker").color=t=E(z(this.value)):this.parentNode.className.indexOf("_hsb")>0?r.data("colorpicker").color=t=H({h:parseInt(r.data("colorpicker").fields.eq(4).val(),10),s:parseInt(r.data("colorpicker").fields.eq(5).val(),10),b:parseInt(r.data("colorpicker").fields.eq(6).val(),10)}):r.data("colorpicker").color=t=T(O({r:parseInt(r.data("colorpicker").fields.eq(1).val(),10),g:parseInt(r.data("colorpicker").fields.eq(2).val(),10),b:parseInt(r.data("colorpicker").fields.eq(3).val(),10)})),o&&(i(t,r.get(0)),c(t,r.get(0)),a(t,r.get(0))),n(t,r.get(0)),d(t,r.get(0)),s(t,r.get(0)),r.data("colorpicker").onChange.apply(r,[t,B(t),j(t)])},h=function(o){var t=e(this).parent().parent();t.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},f=function(){o=this.parentNode.className.indexOf("_hex")>0?70:65,e(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),e(this).parent().addClass("colorpicker_focus")},v=function(o){var t=e(this).parent().find("input").focus(),r={el:e(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:o.pageY,field:t,val:parseInt(t.val(),10),preview:e(this).parent().parent().data("colorpicker").livePreview};e(document).bind("mouseup",r,g),e(document).bind("mousemove",r,m)},m=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&u.apply(e.data.field.get(0),[!0]),!1},g=function(o){return u.apply(o.data.field.get(0),[!0]),o.data.el.removeClass("colorpicker_slider").find("input").focus(),e(document).unbind("mouseup",g),e(document).unbind("mousemove",m),!1},k=function(o){var t={cal:e(this).parent(),y:e(this).offset().top};t.preview=t.cal.data("colorpicker").livePreview,e(document).bind("mouseup",t,_),e(document).bind("mousemove",t,b)},b=function(e){return u.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},_=function(o){return i(o.data.cal.data("colorpicker").color,o.data.cal.get(0)),c(o.data.cal.data("colorpicker").color,o.data.cal.get(0)),e(document).unbind("mouseup",_),e(document).unbind("mousemove",b),!1},x=function(o){var t={cal:e(this).parent(),pos:e(this).offset()};t.preview=t.cal.data("colorpicker").livePreview,e(document).bind("mouseup",t,y),e(document).bind("mousemove",t,w)},w=function(e){return u.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},y=function(o){return i(o.data.cal.data("colorpicker").color,o.data.cal.get(0)),c(o.data.cal.data("colorpicker").color,o.data.cal.get(0)),e(document).unbind("mouseup",y),e(document).unbind("mousemove",w),!1},C=function(o){e(this).addClass("colorpicker_focus")},M=function(o){e(this).removeClass("colorpicker_focus")},I=function(o){var t=e(this).parent(),r=t.data("colorpicker").color;t.data("colorpicker").origColor=r,l(r,t.get(0)),t.data("colorpicker").onSubmit(r,B(r),j(r),t.data("colorpicker").el)},q=function(o){var t=e("#"+e(this).data("colorpickerId"));t.data("colorpicker").onBeforeShow.apply(this,[t.get(0)]);var r=e(this).offset(),i=S(),a=r.top+this.offsetHeight,c=r.left;return a+176>i.t+i.h&&(a-=this.offsetHeight+176),c+356>i.l+i.w&&(c-=356),t.css({left:c+"px",top:a+"px"}),0!=t.data("colorpicker").onShow.apply(this,[t.get(0)])&&t.show(),e(document).bind("mousedown",{cal:t},P),!1},P=function(o){N(o.data.cal.get(0),o.target,o.data.cal.get(0))||(0!=o.data.cal.data("colorpicker").onHide.apply(this,[o.data.cal.get(0)])&&o.data.cal.hide(),e(document).unbind("mousedown",P))},N=function(e,o,t){if(e==o)return!0;if(e.contains)return e.contains(o);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(o));for(var r=o.parentNode;r&&r!=t;){if(r==e)return!0;r=r.parentNode}return!1},S=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},H=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},O=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},z=function(e){var o=6-e.length;if(o>0){for(var t=[],r=0;r<o;r++)t.push("0");t.push(e),e=t.join("")}return e},Y=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},E=function(e){return T(Y(e))},T=function(e){var o={h:0,s:0,b:0},t=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),i=r-t;return o.b=r,o.s=0!=r?255*i/r:0,0!=o.s?e.r==r?o.h=(e.g-e.b)/i:e.g==r?o.h=2+(e.b-e.r)/i:o.h=4+(e.r-e.g)/i:o.h=-1,o.h*=60,o.h<0&&(o.h+=360),o.s*=100/255,o.b*=100/255,o},j=function(e){var o={},t=Math.round(e.h),r=Math.round(255*e.s/100),i=Math.round(255*e.b/100);if(0==r)o.r=o.g=o.b=i;else{var a=i,c=(255-r)*i/255,n=(a-c)*(t%60)/60;360==t&&(t=0),t<60?(o.r=a,o.b=c,o.g=c+n):t<120?(o.g=a,o.b=c,o.r=a-n):t<180?(o.g=a,o.r=c,o.b=c+n):t<240?(o.b=a,o.r=c,o.g=a-n):t<300?(o.b=a,o.g=c,o.r=c+n):t<360?(o.r=a,o.g=c,o.b=a-n):(o.r=0,o.g=0,o.b=0)}return{r:Math.round(o.r),g:Math.round(o.g),b:Math.round(o.b)}},W=function(o){var t=[o.r.toString(16),o.g.toString(16),o.b.toString(16)];return e.each(t,function(e,o){1==o.length&&(t[e]="0"+o)}),t.join("")},B=function(e){return W(j(e))},D=function(){var o=e(this).parent(),t=o.data("colorpicker").origColor;o.data("colorpicker").color=t,i(t,o.get(0)),c(t,o.get(0)),a(t,o.get(0)),n(t,o.get(0)),d(t,o.get(0)),s(t,o.get(0))};return{init:function(o){if(o=e.extend({},r,o||{}),"string"==typeof o.color)o.color=E(o.color);else if(void 0!=o.color.r&&void 0!=o.color.g&&void 0!=o.color.b)o.color=T(o.color);else{if(void 0==o.color.h||void 0==o.color.s||void 0==o.color.b)return this;o.color=H(o.color)}return this.each(function(){if(!e(this).data("colorpickerId")){var r=e.extend({},o);r.origColor=o.color;var m="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colorpickerId",m);var g=e(t).attr("id",m);r.flat?g.appendTo(this).show():g.appendTo(document.body),r.fields=g.find("input").bind("keyup",p).bind("change",u).bind("blur",h).bind("focus",f),g.find("span").bind("mousedown",v).end().find(">div.colorpicker_current_color").bind("click",D),r.selector=g.find("div.colorpicker_color").bind("mousedown",x),r.selectorIndic=r.selector.find("div div"),r.el=this,r.hue=g.find("div.colorpicker_hue div"),g.find("div.colorpicker_hue").bind("mousedown",k),r.newColor=g.find("div.colorpicker_new_color"),r.currentColor=g.find("div.colorpicker_current_color"),g.data("colorpicker",r),g.find("div.colorpicker_submit").bind("mouseenter",C).bind("mouseleave",M).bind("click",I),i(r.color,g.get(0)),a(r.color,g.get(0)),c(r.color,g.get(0)),d(r.color,g.get(0)),n(r.color,g.get(0)),l(r.color,g.get(0)),s(r.color,g.get(0)),r.flat?g.css({position:"relative",display:"block"}):e(this).bind(r.eventName,q)}})},showPicker:function(){return this.each(function(){e(this).data("colorpickerId")&&q.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colorpickerId")&&e("#"+e(this).data("colorpickerId")).hide()})},setColor:function(o){if("string"==typeof o)o=E(o);else if(void 0!=o.r&&void 0!=o.g&&void 0!=o.b)o=T(o);else{if(void 0==o.h||void 0==o.s||void 0==o.b)return this;o=H(o)}return this.each(function(){if(e(this).data("colorpickerId")){var t=e("#"+e(this).data("colorpickerId"));t.data("colorpicker").color=o,t.data("colorpicker").origColor=o,i(o,t.get(0)),a(o,t.get(0)),c(o,t.get(0)),d(o,t.get(0)),n(o,t.get(0)),l(o,t.get(0)),s(o,t.get(0))}})}}}();e.fn.extend({ColorPicker:o.init,ColorPickerHide:o.hidePicker,ColorPickerShow:o.showPicker,ColorPickerSetColor:o.setColor})}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/gh-shortener.js' */
GH.Shortener=AJS.Control.extend({_getDefaultOptions:function(){return{items:"a, span",numRows:1,shortenText:"hide",shortenOnInit:!0,persist:!0,expandButtonTooltip:"Click to view {0} more",collapseButtonTooltip:"Hide"}},init:function(t){"string"==typeof t&&(t={element:t}),t=t||{},this.options=AJS.$.extend(this._getDefaultOptions(),t),this._timerId=0,this.expanded=!1,this.$container=AJS.$(this.options.element),this._assignEvents("body",document.body),this._ready()},_isValid:function(){return!this.initialized&&this.$container.is(":visible")&&this.$container.children().length>0},_ready:function(){this._isValid()&&(this.$items=this.$container.children(this.options.items),this.$expandButton=this._render("expandButton"),this.$collapseButton=this._render("collapseButton"),this._assignEvents("expand-button",".gh-shortener-expand"),this._assignEvents("collapse-button",".gh-shortener-collapse"),this._assignEvents("resize-region",window),this._isCollapsedOnInit()?this.collapse():this.expand(),this.initialized=!0)},_renders:{expandButton:function(){return AJS.$("<a href='#' class='ellipsis gh-shortener-expand' title='"+this.options.expandButtonTooltip+"'></a><br>")},collapseButton:function(){return AJS.$(" <a title='Hide' class='gh-shortener-collapse' style='margin-left:3px' href='#'></a>")}},_events:{"expand-button":{click:function(t){t.currentTarget===this.$expandButton[0]&&(t.preventDefault(),this.expand(),this._saveState("expanded"))}},"collapse-button":{click:function(t){t.currentTarget===this.$collapseButton[0]&&(t.preventDefault(),this.collapse(),this._saveState("collapsed"),this.$container.scrollIntoView())}},"resize-region":{resize:function(){if(clearTimeout(this._timerId),!this.expanded){var t=this;this._timerId=setTimeout(function(){t.collapse()},400)}}},body:{tabSelect:function(){this._ready()}}},_saveState:function(t){try{localStorage.setItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"),t)}catch(e){}},_loadState:function(){return localStorage.getItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"))},_isCollapsedOnInit:function(){var t=this._loadState();return null!==t?"expanded"!==t:this.options.shortenOnInit},_removeButtons:function(){this.$expandButton.remove(),this.$collapseButton.remove()},_getOverflowIndex:function(){if(this.$items.length>1)for(var t=1,e=-1,i=0;i<this.$items.length;i++){var n=this.$items.eq(i).offset().left;if(n<=e&&(t++,t>this.options.numRows))return i;e=n}return-1},expand:function(){this._removeButtons(),this._getOverflowIndex()>0&&(this.$collapseButton=this._render("collapseButton"),this.$container.append(this.$collapseButton),this.$container.css("height","auto")),this.expanded=!0},collapse:function(){this._removeButtons();var t=this._getOverflowIndex();if(t>0){this.$container.css({position:"absolute",visibility:"hidden",width:this.$container[0].clientWidth+"px"});var e=this.$expandButton.first();do{var i=this.$items.length-t;e.text("("+i+")"),this.$expandButton.insertBefore(this.$items[t]),t--;var n=this.$items.eq(t).offset(),s=this.$expandButton.offset();if(n.left<s.left&&s.top<n.top+10)break}while(t>0);var o=t<this.$items.length-1?this.$items.eq(t+1).offset().top-this.$container.offset().top+"px":"auto";this.$container.css({height:o,position:"static",visibility:"visible",width:"auto"}),e.attr("title",AJS.format(this.options.expandButtonTooltip,i))}else this.$container.css("height","auto");this.expanded=!1}}),function(){"use strict";var t=require("jquery");t.fn.shorten=function(t){var e=[];return t=t||{},this.each(function(){t.element=this,e.push(new AJS.Shortener(t))}),e}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/backbone.js' */
(function(){var t,e=this,i=e.Backbone,s=Array.prototype.slice,n=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var r=e._;r||"undefined"==typeof require||(r=require("underscore"));var a=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){a=t},t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=/\s+/,h=t.Events={on:function(t,e,i){var s,n,r,a,h;if(!e)return this;for(t=t.split(o),s=this._callbacks||(this._callbacks={});n=t.shift();)h=s[n],r=h?h.tail:{},r.next=a={},r.context=i,r.callback=e,s[n]={tail:a,next:h?h.next:r};return this},off:function(t,e,i){var s,n,a,h,c,u;if(n=this._callbacks){if(!(t||e||i))return delete this._callbacks,this;for(t=t?t.split(o):r.keys(n);s=t.shift();)if(a=n[s],delete n[s],a&&(e||i))for(h=a.tail;(a=a.next)!==h;)c=a.callback,u=a.context,(e&&c!==e||i&&u!==i)&&this.on(s,c,u);return this}},trigger:function(t){var e,i,n,r,a,h,c;if(!(n=this._callbacks))return this;for(h=n.all,t=t.split(o),c=s.call(arguments,1);e=t.shift();){if(i=n[e])for(r=i.tail;(i=i.next)!==r;)i.callback.apply(i.context||this,c);if(i=h)for(r=i.tail,a=[e].concat(c);(i=i.next)!==r;)i.callback.apply(i.context||this,a)}return this}};h.bind=h.on,h.unbind=h.off;var c=t.Model=function(t,e){var i;t||(t={}),e&&e.parse&&(t=this.parse(t)),(i=A(this,"defaults"))&&(t=r.extend({},i,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=r.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=r.clone(this.attributes),this.initialize.apply(this,arguments)};r.extend(c.prototype,h,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return r.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var i=this.get(t);return this._escapedAttributes[t]=r.escape(null==i?"":""+i)},has:function(t){return null!=this.get(t)},set:function(t,e,i){var s,n,a;if(r.isObject(t)||null==t?(s=t,i=e):(s={},s[t]=e),i||(i={}),!s)return this;if(s instanceof c&&(s=s.attributes),i.unset)for(n in s)s[n]=void 0;if(!this._validate(s,i))return!1;this.idAttribute in s&&(this.id=s[this.idAttribute]);var o=i.changes={},h=this.attributes,u=this._escapedAttributes,l=this._previousAttributes||{};for(n in s)a=s[n],(!r.isEqual(h[n],a)||i.unset&&r.has(h,n))&&(delete u[n],(i.silent?this._silent:o)[n]=!0),i.unset?delete h[n]:h[n]=a,r.isEqual(l[n],a)&&r.has(h,n)==r.has(l,n)?(delete this.changed[n],delete this._pending[n]):(this.changed[n]=a,i.silent||(this._pending[n]=!0));return i.silent||this.change(i),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(r.clone(this.attributes),t)},fetch:function(e){e=e?r.clone(e):{};var i=this,s=e.success;return e.success=function(t,n,r){return!!i.set(i.parse(t,r),e)&&void(s&&s(i,t))},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,i,s){var n,a;if(r.isObject(e)||null==e?(n=e,s=i):(n={},n[e]=i),s=s?r.clone(s):{},s.wait){if(!this._validate(n,s))return!1;a=r.clone(this.attributes)}var o=r.extend({},s,{silent:!0});if(n&&!this.set(n,s.wait?o:s))return!1;var h=this,c=s.success;s.success=function(t,e,i){var a=h.parse(t,i);return s.wait&&(delete s.wait,a=r.extend(n||{},a)),!!h.set(a,s)&&void(c?c(h,t):h.trigger("sync",h,t,s))},s.error=t.wrapError(s.error,h,s);var u=this.isNew()?"create":"update",l=(this.sync||t.sync).call(this,u,this,s);return s.wait&&this.set(a,o),l},destroy:function(e){e=e?r.clone(e):{};var i=this,s=e.success,n=function(){i.trigger("destroy",i,i.collection,e)};if(this.isNew())return n(),!1;e.success=function(t){e.wait&&n(),s?s(i,t):i.trigger("sync",i,t,e)},e.error=t.wrapError(e.error,i,e);var a=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||n(),a},url:function(){var t=A(this,"urlRoot")||A(this.collection,"url")||C();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var s=r.extend({},t.changes,this._silent);this._silent={};for(var i in s)this.trigger("change:"+i,this,this.get(i),t);if(e)return this;for(;!r.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var i in this.changed)this._pending[i]||this._silent[i]||delete this.changed[i];this._previousAttributes=r.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?r.has(this.changed,t):!r.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&r.clone(this.changed);var e,i=!1,s=this._previousAttributes;for(var n in t)r.isEqual(s[n],e=t[n])||((i||(i={}))[n]=e);return i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=r.extend({},this.attributes,t);var i=this.validate(t,e);return!i||(e&&e.error?e.error(this,i,e):this.trigger("error",this,i,e),!1)}});var u=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};r.extend(u.prototype,h,{model:c,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var i,s,a,o,h,c,u={},l={},d=[];for(e||(e={}),t=r.isArray(t)?t.slice():[t],i=0,a=t.length;i<a;i++){if(!(o=t[i]=this._prepareModel(t[i],e)))throw new Error("Can't add an invalid model to a collection");h=o.cid,c=o.id,u[h]||this._byCid[h]||null!=c&&(l[c]||this._byId[c])?d.push(i):u[h]=l[c]=o}for(i=d.length;i--;)t.splice(d[i],1);for(i=0,a=t.length;i<a;i++)(o=t[i]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);if(this.length+=a,s=null!=e.at?e.at:this.models.length,n.apply(this.models,[s,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(i=0,a=this.models.length;i<a;i++)u[(o=this.models[i]).cid]&&(e.index=i,o.trigger("add",o,this,e));return this},remove:function(t,e){var i,s,n,a;for(e||(e={}),t=r.isArray(t)?t.slice():[t],i=0,s=t.length;i<s;i++)a=this.getByCid(t[i])||this.get(t[i]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],n=this.indexOf(a),this.models.splice(n,1),this.length--,e.silent||(e.index=n,a.trigger("remove",a,this,e)),this._removeReference(a));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,r.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return r.isEmpty(t)?[]:this.filter(function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=r.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return r.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var i=0,s=this.models.length;i<s;i++)this._removeReference(this.models[i]);return this._reset(),this.add(t,r.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var i=this,s=e.success;return e.success=function(t,n,r){i[e.add?"add":"reset"](i.parse(t,r),e),s&&s(i,t)},e.error=t.wrapError(e.error,i,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var i=this;if(e=e?r.clone(e):{},t=this._prepareModel(t,e),!t)return!1;e.wait||i.add(t,e);var s=e.success;return e.success=function(n,r,a){e.wait&&i.add(n,e),s?s(n,r):n.trigger("sync",t,r,e)},t.save(null,e),t},parse:function(t,e){return t},chain:function(){return r(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(e||(e={}),t instanceof c)t.collection||(t.collection=this);else{var i=t;e.collection=this,t=new this.model(i,e),t._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"!=t&&"remove"!=t||i==this)&&("destroy"==t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var l=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];r.each(l,function(t){u.prototype[t]=function(){return r[t].apply(r,[this.models].concat(r.toArray(arguments)))}});var d=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},f=/:\w+/g,p=/\*\w+/g,g=/[-[\]{}()+?.,\\^$|#\s]/g;r.extend(d.prototype,h,{initialize:function(){},route:function(e,i,s){return t.history||(t.history=new v),r.isRegExp(e)||(e=this._routeToRegExp(e)),s||(s=this[i]),t.history.route(e,r.bind(function(n){var r=this._extractParameters(e,n);s&&s.apply(this,r),this.trigger.apply(this,["route:"+i].concat(r)),t.history.trigger("route",this,i,r)},this)),this},navigate:function(e,i){t.history.navigate(e,i)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var i=0,s=t.length;i<s;i++)this.route(t[i][0],t[i][1],this[t[i][1]])}},_routeToRegExp:function(t){return t=t.replace(g,"\\$&").replace(f,"([^/]+)").replace(p,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var v=t.History=function(){this.handlers=[],r.bindAll(this,"checkUrl")},m=/^[#\/]/,_=/msie [\w.]+/;v.started=!1,r.extend(v.prototype,h,{interval:50,getHash:function(t){var e=t?t.location:window.location,i=e.href.match(/#(.*)$/);return i?i[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var i=window.location.search;i&&(t+=i)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(m,"")},start:function(t){if(v.started)throw new Error("Backbone.history has already been started");v.started=!0,this.options=r.extend({},{root:"/"},this.options,t),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),i=document.documentMode,s=_.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);s&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var n=window.location,o=n.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&n.hash&&(this.fragment=this.getHash().replace(m,""),window.history.replaceState({},document.title,n.protocol+"//"+n.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e!=this.fragment&&(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),i=r.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0});return i},navigate:function(t,e){if(!v.started)return!1;e&&e!==!0||(e={trigger:e});var i=(t||"").replace(m,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[e.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,e.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,i){i?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var y=t.View=function(t){this.cid=r.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName"];r.extend(y.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,i){var s=document.createElement(t);return e&&a(s).attr(e),i&&a(s).html(i),s},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof a?t:a(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=A(this,"events"))){this.undelegateEvents();for(var e in t){var i=t[e];if(r.isFunction(i)||(i=this[t[e]]),!i)throw new Error('Method "'+t[e]+'" does not exist');var s=e.match(w),n=s[1],a=s[2];i=r.bind(i,this),n+=".delegateEvents"+this.cid,""===a?this.$el.bind(n,i):this.$el.delegate(a,n,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=r.extend({},this.options,t));for(var e=0,i=b.length;e<i;e++){var s=b[e];t[s]&&(this[s]=t[s])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=A(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var x=function(t,e){var i=k(this,t,e);return i.extend=this.extend,i};c.extend=u.extend=d.extend=y.extend=x;var E={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,i,s){var n=E[e];s||(s={});var o={type:n,dataType:"json"};return s.url||(o.url=A(i,"url")||C()),s.data||!i||"create"!=e&&"update"!=e||(o.contentType="application/json",o.data=JSON.stringify(i.toJSON())),t.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),t.emulateHTTP&&("PUT"!==n&&"DELETE"!==n||(t.emulateJSON&&(o.data._method=n),o.type="POST",o.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n)})),"GET"===o.type||t.emulateJSON||(o.processData=!1),a.ajax(r.extend(o,s))},t.wrapError=function(t,e,i){return function(s,n){n=s===e?n:s,t?t(e,n,i):e.trigger("error",e,n,i)}};var S=function(){},k=function(t,e,i){var s;return s=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(s,t),S.prototype=t.prototype,s.prototype=new S,e&&r.extend(s.prototype,e),i&&r.extend(s,i),s.prototype.constructor=s,s.__super__=t.prototype,s},A=function(t,e){return t&&t[e]?r.isFunction(t[e])?t[e]():t[e]:null},C=function(){throw new Error('A "url" property or function must be specified')}}).call(this);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/backbone-overrides.js' */
!function(n,o){GH.Backbone=o.noConflict()}(AJS.$,Backbone);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/events.js' */
!function(t){GH.triggerEvt=function(i,r){t(AJS).trigger(i,r)},GH.bindEvt=function(i,r){t(AJS).bind(i,r)},GH.triggerEvtForInst=function(i,r,g){t(r).trigger(i,g),GH.triggerEvt(i,g),r.id&&GH.triggerEvt(r.id+"_"+i,g)}}(AJS.$);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/serializetoobject.js' */
jQuery.fn.serializeObject=function(){var t={};return this.find(":input:not(:button):not(:submit):not(:radio):not('select[multiple]')").each(function(){""!==this.name&&(null===this.value&&(this.value=""),t[this.name]=this.value.match(/^(tru|fals)e$/i)?"true"==this.value.toLowerCase():this.value)}),this.find("input:radio:checked").each(function(){t[this.name]=this.value}),this.find("select[multiple]").each(function(){var i=jQuery(this),e=i.val();i.data("aui-ss")?e?t[this.name]=e[0]:t[this.name]="":null!==e?t[this.name]=e:t[this.name]=[]}),t};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/color.js' */
!function(r){function e(e){var a;return e&&e.constructor==Array&&3==e.length?e:(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]:(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3])]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]:t[r.trim(e).toLowerCase()]}function a(a,t){var o;do{if(o=r.curCSS(a,t),""!=o&&"transparent"!=o||r.nodeName(a,"body"))break;t="backgroundColor"}while(a=a.parentNode);return e(o)}r.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(t,o){r.fx.step[o]=function(r){0==r.state&&(r.start=a(r.elem,o),r.end=e(r.end)),r.elem.style[o]="rgb("+[Math.max(Math.min(parseInt(r.pos*(r.end[0]-r.start[0])+r.start[0]),255),0),Math.max(Math.min(parseInt(r.pos*(r.end[1]-r.start[1])+r.start[1]),255),0),Math.max(Math.min(parseInt(r.pos*(r.end[2]-r.start[2])+r.start[2]),255),0)].join(",")+")"}});var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/restfultable.js' */
!function(e,t){GH.RestfulTable=t.View.extend({initialize:function(t){var s=this;if(s.options=e.extend(!0,s._getDefaultOptions(t),t),s.id=this.options.id,s._events=GH.RestfulTable.Events,s.classNames=GH.RestfulTable.ClassNames,s.dataKeys=GH.RestfulTable.DataKeys,this.$table=e(t.el).addClass(this.classNames.RESTFUL_TABLE).addClass(this.classNames.ALLOW_HOVER).addClass("aui").addClass(s.classNames.LOADING),this.$table.wrapAll("<form class='aui' action='#' />"),this.$thead=e("<thead/>"),this.$theadRow=e("<tr />").appendTo(this.$thead),this.$tbody=e("<tbody/>"),!this.$table.length)throw new Error("GH.RestfulTable: Init failed! The table you have specified ["+this.$table.selector+"] cannot be found.");if(!this.options.columns)throw new Error("GH.RestfulTable: Init failed! You haven't provided any columns to render.");this.showGlobalLoading(),e.each(this.options.columns,function(t,i){var o=e.isFunction(i.header)?i.header():i.header;"undefined"==typeof o&&(console.warn("You have not specified [header] for column ["+i.id+"]. Using id for now..."),o=i.id),s.$theadRow.append("<th>"+o+"</th>")}),s.$theadRow.append("<th></th><th></th>"),this._models=this._createCollection(),this._rowClass=this.options.views.row,this.editRows=[],this.$table.closest("form").submit(function(e){s.focusedRow&&s.focusedRow.trigger(s._events.SAVE),e.preventDefault()}),this.options.allowReorder&&(this.$theadRow.prepend("<th />"),this.$tbody.agileSortable({handle:"."+this.classNames.DRAG_HANDLE,helper:function(t,i){var o=i.clone(!0).addClass(s.classNames.MOVEABLE);return o.children().each(function(t){e(this).width(i.children().eq(t).width())}),o},helperAdjusted:function(){this.helper[0].style.top=parseInt(this.helper[0].style.top,10)+window.scrollY+"px"},start:function(t,i){var o=i.placeholder.find("td");i.item.addClass(s.classNames.MOVEABLE).children().each(function(t){e(this).width(o.eq(t).width())}),i.placeholder.html('<td colspan="'+s.getColumnCount()+'">&nbsp;</td>').css("visibility","visible"),s.getRowFromElement(i.item[0]).trigger(s._events.MODAL)},stop:function(e,t){jQuery(t.item[0]).is(":visible")&&(t.item.removeClass(s.classNames.MOVEABLE).children().attr("style",""),t.placeholder.removeClass(s.classNames.ROW),s.getRowFromElement(t.item[0]).trigger(s._events.MODELESS))},update:function(t,i){var o,n,a={},r=s.getRowFromElement(i.item[0]);r&&(s.options.reverseOrder?(n=i.item.next(),n.length?(o=s.getRowFromElement(n).model,a.after=o.url()):a.position="First"):(n=i.item.prev(),n.length?(o=s.getRowFromElement(n).model,a.after=o.url()):a.position="First"),e.ajax({url:r.model.url()+"/move",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),complete:function(){r.hideLoading()},success:function(e){GH.triggerEvtForInst(s._events.REORDER_SUCCESS,s,[e])},error:function(t){var i=e.parseJSON(t.responseText||t.data);GH.triggerEvtForInst(s._events.SERVER_ERROR,s,[i,t])}}),r.showLoading())},axis:"y",delay:0,containment:"document",cursor:"move",scroll:!0,zIndex:8e3}),this.$tbody.bind("selectstart mousedown",function(t){return!e(t.target).is("."+s.classNames.DRAG_HANDLE)})),this.options.allowCreate!==!1&&(this._createRow=new this.options.views.editRow({columns:this.options.columns,isCreateRow:!0,model:this.options.model.extend({url:function(){return s.options.resources.self}}),cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey,allowReorder:this.options.allowReorder}).bind(this._events.CREATED,function(e){"bottom"===s.options.createPosition?s.addRow(e):s.addRow(e,0)}).bind(this._events.VALIDATION_ERROR,function(){this.trigger(s._events.FOCUS)}).render({errors:{},values:{}}),this.$create=e('<tbody class="'+this.classNames.CREATE+'" />').append(this._createRow.el),this._applyFocusCoordinator(this._createRow),this._createRow.trigger(this._events.FOCUS)),this._models.bind("remove",function(t){e.each(s.getRows(),function(e,i){i.model===t&&(i.hasFocus()&&s._createRow&&s._createRow.trigger(s._events.FOCUS),s.removeRow(i))})}),e.isFunction(this.options.resources.all)?this.options.resources.all(function(e){s.populate(e)}):e.get(this.options.resources.all,function(e){s.populate(e)})},_createCollection:function(){var s=this,i=this.options.Collection.extend({sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");return this.tableRows=s.getRows(),this.models=this.sortBy(this.comparator),this.tableRows=void 0,e.silent||this.trigger("refresh",this,e),this},remove:function(e,i){return this.tableRows=s.getRows(),t.Collection.prototype.remove.apply(this,arguments),this.tableRows=void 0,this}});return new i([],{comparator:function(t){var i;return e.each(void 0!==this.tableRows?this.tableRows:s.getRows(),function(e){if(this.model.id===t.id)return i=e,!1}),i}})},populate:function(e){this.options.reverseOrder&&e.reverse(),this.hideGlobalLoading(),e&&e.length?(this._models.reset([],{silent:!0}),this.renderRows(e),this.isEmpty()&&this.showNoEntriesMsg()):this.showNoEntriesMsg(),this.$table.append(this.$thead),"bottom"===this.options.createPosition?this.$table.append(this.$tbody).append(this.$create):this.$table.append(this.$create).append(this.$tbody),this.$table.removeClass(this.classNames.LOADING).trigger(this._events.INITIALIZED,[this]),GH.triggerEvtForInst(this._events.INITIALIZED,this,[this]),this.options.autoFocus&&this.$table.find(":input:text:first").focus()},showGlobalLoading:function(){return this.$loading||(this.$loading=e('<div class="aui-restfultable-init"><span class="aui-restfultable-throbber"></span><span class="aui-restfultable-loading">'+this.options.loadingMsg+"</span></div>")),this.$loading.is(":visible")||this.$loading.insertAfter(this.$table),this},hideGlobalLoading:function(){return this.$loading&&this.$loading.remove(),this},addRow:function(e,t){var s,i;if(!e.id)throw new Error("GH.RestfulTable.addRow: to add a row values object must contain an id. Maybe you are not returning it from your restend point?Recieved:"+JSON.stringify(e));return i=new this.options.model(e),s=this._renderRow(i,t),this._models.add(i),this.removeNoEntriesMsg(),GH.triggerEvtForInst(this._events.ROW_ADDED,this,[s,this]),this},removeRow:function(e){this._models.remove(e.model),e.remove(),this.isEmpty()&&this.showNoEntriesMsg(),GH.triggerEvtForInst(this._events.ROW_REMOVED,this,[e,this])},isEmpty:function(){return 0===this._models.length},getModels:function(){return this._models},getTable:function(){return this.$table},getTableBody:function(){return this.$tbody},getCreateRow:function(){return this._createRow},getColumnCount:function(){return this.options.columns.length+2},getRowFromElement:function(t){return e(t).data(this.dataKeys.ROW_VIEW)},showNoEntriesMsg:function(){return this.$noEntries&&this.$noEntries.remove(),this.$noEntries=e("<tr>").addClass(this.classNames.NO_ENTRIES).append(e("<td>").attr("colspan",this.getColumnCount()).text(this.options.noEntriesMsg)).appendTo(this.$tbody),this},removeNoEntriesMsg:function(){return this.$noEntries&&this._models.length>0&&this.$noEntries.remove(),this},getRows:function(){var t=this,s=[];return this.$tbody.find("."+this.classNames.READ_ONLY).each(function(){var i=e(this),o=i.data(t.dataKeys.ROW_VIEW);o&&s.push(o)}),s},_renderRow:function(t,s){var i,o,n=this,a=this.$tbody.find("."+this.classNames.READ_ONLY);return o=new this._rowClass({model:t,columns:this.options.columns,allowEdit:this.options.allowEdit,allowDelete:this.options.allowDelete,allowReorder:this.options.allowReorder,deleteConfirmation:this.options.deleteConfirmation}),this.removeNoEntriesMsg(),o.bind(this._events.EDIT_ROW,function(e){n.edit(this,e)}),i=o.render().$el,s!==-1&&("number"==typeof s&&0!==a.length?i.insertBefore(a[s]):this.$tbody.append(i)),i.data(this.dataKeys.ROW_VIEW,o),o.bind(this._events.MODAL,function(){n.$table.removeClass(n.classNames.ALLOW_HOVER),n.$tbody.agileSortable("disable"),e.each(n.getRows(),function(){n.isRowBeingEdited(this)||this.delegateEvents({})})}),o.bind(this._events.ANIMATION_STARTED,function(){n.$table.removeClass(n.classNames.ALLOW_HOVER)}),o.bind(this._events.ANIMATION_FINISHED,function(){n.$table.addClass(n.classNames.ALLOW_HOVER)}),o.bind(this._events.MODELESS,function(){n.$table.addClass(n.classNames.ALLOW_HOVER),n.$tbody.agileSortable("enable"),e.each(n.getRows(),function(){n.isRowBeingEdited(this)||this.delegateEvents()})}),this._applyFocusCoordinator(o),this.trigger(this._events.ROW_INITIALIZED,o),o},isRowBeingEdited:function(t){var s=!1;return e.each(this.editRows,function(){if(this.el===t.el)return s=!0,!1}),s},_applyFocusCoordinator:function(e){var t=this;return e.hasFocusBound||(e.hasFocusBound=!0,e.bind(this._events.FOCUS,function(){t.focusedRow&&t.focusedRow!==e&&t.focusedRow.trigger(t._events.BLUR),t.focusedRow=e,e instanceof GH.RestfulTable.Row&&t._createRow&&t._createRow.enable()})),this},_removeEditRow:function(t){var s=e.inArray(t,this.editRows);return this.editRows.splice(s,1),this},_shiftFocusAfterEdit:function(){return this.editRows.length>0?this.editRows[this.editRows.length-1].trigger(this._events.FOCUS):this._createRow&&this._createRow.trigger(this._events.FOCUS),this},_saveEditRowOnBlur:function(){return this.editRows.length<=1},dismissEditRows:function(){var t=this;e.each(this.editRows,function(){this.hasUpdates()||this.trigger(t._events.FINISHED_EDITING)})},edit:function(e,t){var s=this,i=new this.options.views.editRow({el:e.el,columns:this.options.columns,isUpdateMode:!0,allowReorder:this.options.allowReorder,model:e.model,cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey}),o=e.model.toJSON();return o.update=!0,i.render({errors:{},update:!0,values:o}).bind(s._events.UPDATED,function(t,i){s._removeEditRow(this),this.unbind(),e.render().delegateEvents(),e.trigger(s._events.UPDATED),i!==!1&&s._shiftFocusAfterEdit()}).bind(s._events.VALIDATION_ERROR,function(){this.trigger(s._events.FOCUS)}).bind(s._events.FINISHED_EDITING,function(){s._removeEditRow(this),e.render().delegateEvents(),this.unbind()}).bind(s._events.CANCEL,function(){s._removeEditRow(this),this.unbind(),e.render().delegateEvents(),s._shiftFocusAfterEdit()}).bind(s._events.BLUR,function(){s.dismissEditRows(),s._saveEditRowOnBlur()&&this.trigger(s._events.SAVE,!1)}),this._applyFocusCoordinator(i),i.trigger(s._events.FOCUS,t),s._createRow&&s._createRow.disable(),this.editRows.push(i),i},renderRows:function(e){var t=this._models.comparator,s=[];this._models.comparator=void 0;var i=_.map(e,function(e){var t=new this.options.model(e);return s.push(this._renderRow(t,-1).el),t},this);return this._models.add(i,{silent:!0}),this._models.comparator=t,this.removeNoEntriesMsg(),this.$tbody.append(s),this},_getDefaultOptions:function(e){return{model:e.model||GH.RestfulTable.EntryModel,allowEdit:!0,views:{editRow:GH.RestfulTable.EditRow,row:GH.RestfulTable.Row},Collection:t.Collection.extend({url:e.resources.self,model:e.model||GH.RestfulTable.EntryModel}),allowReorder:!1,loadingMsg:e.loadingMsg||"Loading"}}}),GH.RestfulTable.DataKeys={ENABLED_SUBMIT:"enabledSubmit",ROW_VIEW:"RestfulTable_Row_View"},GH.RestfulTable.ClassNames={NO_VALUE:"aui-restfultable-editable-no-value",NO_ENTRIES:"aui-restfultable-no-entires",RESTFUL_TABLE:"aui-restfultable",ROW:"aui-restfultable-row",READ_ONLY:"aui-restfultable-readonly",ACTIVE:"aui-restfultable-active",ALLOW_HOVER:"aui-restfultable-allowhover",FOCUSED:"aui-restfultable-focused",MOVEABLE:"aui-restfultable-movable",ANIMATING:"aui-restfultable-animate",DISABLED:"aui-restfultable-disabled",SUBMIT:"aui-restfultable-submit",CANCEL:"aui-restfultable-cancel",EDIT_ROW:"aui-restfultable-editrow",CREATE:"aui-restfultable-create",DRAG_HANDLE:"aui-restfultable-draghandle",ORDER:"aui-restfultable-order",EDITABLE:"aui-restfultable-editable",ERROR:"error",DELETE:"aui-restfultable-delete",LOADING:"loading"},GH.RestfulTable.Events={REORDER_SUCCESS:"RestfulTable.reorderSuccess",ROW_ADDED:"RestfulTable.rowAdded",ROW_REMOVED:"RestfulTable.rowRemoved",EDIT_ROW:"RestfulTable.switchedToEditMode",SERVER_ERROR:"RestfulTable.serverError",CREATED:"created",UPDATED:"updated",FOCUS:"focus",BLUR:"blur",SUBMIT:"submit",SAVE:"save",MODAL:"modal",MODELESS:"modeless",CANCEL:"cancel",CONTENT_REFRESHED:"contentRefreshed",RENDER:"render",FINISHED_EDITING:"finishedEditing",VALIDATION_ERROR:"validationError",SUBMIT_STARTED:"submitStarted",SUBMIT_FINISHED:"submitFinished",ANIMATION_STARTED:"animationStarted",ANIMATION_FINISHED:"animationFinisehd",INITIALIZED:"initialized",ROW_INITIALIZED:"rowInitialized"}}(AJS.$,GH.Backbone);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/restfultable.entrymodel.js' */
!function(r,e){GH.RestfulTable.EntryModel=e.Model.extend({save:function(t,s){s=s||{};var a,n,o=this,c=s.error,i=s.success;s.error=function(e,t){var s=r.parseJSON(t.responseText||t.data);o._serverErrorHandler(t),c&&c.call(o,o,s,t)},this.isNew()?e.Model.prototype.save.call(this,t,s):t&&(a=e.Model.extend({url:this.url()}),n=new a({id:this.id}),s.success=function(r,e){o.clear().set(r.toJSON()),i&&i.call(o,o,e)},n.save(t,s))},destroy:function(e){e=e||{};var t,s=this,a=this.url();return e.data&&(t=r.param(e.data)),""!==t&&(a=a+"?"+t),r.ajax({url:a,type:"DELETE",dataType:"json",success:function(r){s.collection&&s.collection.remove(s),e.success&&e.success.call(s,r)},error:function(r){s._serverErrorHandler(r),e.error&&e.error.call(s,r)}}),this},changedAttributes:function(e){var t={},s=this.toJSON();if(r.each(e,function(e,a){s[e]?s[e]&&s[e]!==a&&("object"==typeof a?_.isEqual(a,s[e])||(t[e]=a):t[e]=a):"string"==typeof a?""!==r.trim(a)&&(t[e]=a):r.isArray(a)?0!==a.length&&(t[e]=a):t[e]=a}),!_.isEmpty(t))return this.addExpand(t),t},addExpand:function(r){},_serverErrorHandler:function(e){var t;400!==e.status&&(t=r.parseJSON(e.responseText||e.data),GH.triggerEvtForInst(GH.RestfulTable.Events.SERVER_ERROR,this,[t,e]))},fetch:function(r){r=r||{};var t=this,s=r.error;this.clear(),r.error=function(r,e){t._serverErrorHandler(e),s&&s.apply(this,arguments)},e.Model.prototype.fetch.call(this,r)}})}(AJS.$,GH.Backbone);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/restfultable.editrow.js' */
!function(e,t){GH.RestfulTable.EditRow=t.View.extend({tagName:"tr",events:{focusin:"_focus",click:"_focus",keyup:"_handleKeyUpEvent"},initialize:function(t){this.$el=e(this.el),this._events=GH.RestfulTable.Events,this.classNames=GH.RestfulTable.ClassNames,this.dataKeys=GH.RestfulTable.DataKeys,this.columns=t.columns,this.isCreateRow=t.isCreateRow,this.allowReorder=t.allowReorder,this.events["click ."+this.classNames.CANCEL]="_cancel",this.delegateEvents(),t.isUpdateMode?this.isUpdateMode=!0:(this._modelClass=t.model,this.model=new this._modelClass),this.bind(this._events.CANCEL,function(){this.disabled=!0}).bind(this._events.SAVE,function(e){this.disabled||this.submit(e)}).bind(this._events.FOCUS,function(e){this.focus(e)}).bind(this._events.BLUR,function(){this.$el.removeClass(this.classNames.FOCUSED),this.disable()}).bind(this._events.SUBMIT_STARTED,function(){this._submitStarted()}).bind(this._events.SUBMIT_FINISHED,function(){this._submitFinished()})},defaultColumnRenderer:function(t){return t.allowEdit!==!1?e("<input type='text' />").addClass("text").attr({name:t.name,value:t.value}):t.value?document.createTextNode(t.value):void 0},renderDragHandle:function(){return'<span class="'+this.classNames.DRAG_HANDLE+'"></span></td>'},_handleKeyUpEvent:function(e){27===e.keyCode&&this.trigger(this._events.CANCEL)},_cancel:function(e){return this.trigger(this._events.CANCEL),e.preventDefault(),this},_submitStarted:function(){return this.submitting=!0,this.showLoading().disable().delegateEvents({}),this},_submitFinished:function(){return this.submitting=!1,this.hideLoading().enable().delegateEvents(this.events),this},_focus:function(e){return this.hasFocus()||this.trigger(this._events.FOCUS,e.target.name),this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(e){var t,s;return this.enable(),e?t=this.$el.find(":input[name="+e+"], #"+e):(s=this.$el.find(this.classNames.ERROR+":first"),t=0===s.length?this.$el.find(":input:text:first"):s.parent().find(":input")),this.$el.addClass(this.classNames.FOCUSED),t.focus().trigger("select"),this},disable:function(){var t,s;return e.browser.mozilla&&(s=this.$el.find(":submit"),s.length&&(t=e("<input type='submit' class='"+this.classNames.SUBMIT+"' />").addClass(s.attr("class")).val(s.val()).data(this.dataKeys.ENABLED_SUBMIT,s),s.replaceWith(t))),this.$el.addClass(this.classNames.DISABLED).find(":submit").attr("disabled","disabled"),this},enable:function(){var t,s;return e.browser.mozilla&&(t=this.$el.find(this.classNames.SUBMIT),s=t.data(this.dataKeys.ENABLED_SUBMIT),s&&t.length&&t.replaceWith(s)),this.$el.removeClass(this.classNames.DISABLED).find(":submit").removeAttr("disabled"),this},showLoading:function(){return this.$el.addClass(this.classNames.LOADING),this},hideLoading:function(){return this.$el.removeClass(this.classNames.LOADING),this},hasUpdates:function(){return!!this.mapSubmitParams(this.$el.serializeObject())},mapSubmitParams:function(e){return this.model.changedAttributes(e)},submit:function(t){var s,i=this;if(document.activeElement!==window&&e(document.activeElement).blur(),this.isUpdateMode){if(s=this.mapSubmitParams(this.$el.serializeObject()),!s)return i.trigger(i._events.CANCEL)}else this.model.clear(),s=this.mapSubmitParams(this.$el.serializeObject());return this.trigger(this._events.SUBMIT_STARTED),this.model.save(s,{success:function(){i.isUpdateMode?i.trigger(i._events.UPDATED,i.model,t):(i.trigger(i._events.CREATED,i.model.toJSON()),i.model=new i._modelClass,i.render({errors:{},values:{}}),i.trigger(i._events.FOCUS)),i.trigger(i._events.SUBMIT_FINISHED)},error:function(e,t,s){400===s.status&&i.renderErrors(t.errors).trigger(i._events.VALIDATION_ERROR,t.errors),i.trigger(i._events.SUBMIT_FINISHED)},silent:!0}),this},renderError:function(t,s){return e("<div />").attr("data-field",t).addClass(this.classNames.ERROR).text(s)},renderErrors:function(t){var s=this;return this.$("."+this.classNames.ERROR).remove(),t&&e.each(t,function(e,t){s.$el.find("[name='"+e+"']").closest("td").append(s.renderError(e,t))}),this},render:function(t){var s=this;return this.$el.empty(),this.allowReorder&&e('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(s.$el),e.each(this.columns,function(i,a){var n,r,l=t.values[a.id],d=[{name:a.id,value:l,allowEdit:a.allowEdit},t.values,s.model];l&&s.$el.attr("data-"+a.id,l),n=s.isCreateRow&&a.createView?new a.createView({model:s.model}).render(d[0]):a.editView?new a.editView({model:s.model}).render(d[0]):s.defaultColumnRenderer.apply(s,d),r=e("<td />"),"object"==typeof n&&n.done?n.done(function(e){r.append(e)}):r.append(n),a.styleClass&&r.addClass(a.styleClass),r.appendTo(s.$el)}),this.$el.append(this.renderOperations(t.update,t.values)).addClass(this.classNames.ROW+" "+this.classNames.EDIT_ROW),this.trigger(this._events.RENDER,this.$el,t.values),this.$el.trigger(this._events.CONTENT_REFRESHED,[this.$el]),this},renderOperations:function(t){var s=e('<td class="aui-restfultable-operations" />');return t?s.append(e('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:"Update"})).append(e('<a class="aui-button aui-button-link" href="#" />').addClass(this.classNames.CANCEL).text("Cancel").attr({accesskey:this.cancelAccessKey})):s.append(e('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:"Add"})),s.add(e('<td class="aui-restfultable-throbber" />'))}})}(AJS.$,GH.Backbone);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/restfultable.customview.js' */
GH.RestfulTable.CustomEditView=GH.RestfulTable.CustomCreateView=GH.RestfulTable.CustomReadView=GH.Backbone.View;;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/lib/restfultable/restfultable.row.js' */
!function(e,t){GH.RestfulTable.Row=t.View.extend({tagName:"tr",events:{"click .aui-restfultable-editable":"edit"},initialize:function(t){if(t=t||{},this._events=GH.RestfulTable.Events,this.classNames=GH.RestfulTable.ClassNames,this.dataKeys=GH.RestfulTable.DataKeys,this.columns=t.columns,this.allowEdit=t.allowEdit,this.allowDelete=t.allowDelete,!this.events["click .aui-restfultable-editable"])throw new Error("It appears you have overridden the events property. To add events you will need to usea work around. https://github.com/documentcloud/backbone/issues/244");this.index=t.index||0,this.deleteConfirmation=t.deleteConfirmation,this.allowReorder=t.allowReorder,this.$el=e(this.el),this.bind(this._events.CANCEL,function(){this.disabled=!0}).bind(this._events.FOCUS,function(e){this.focus(e)}).bind(this._events.BLUR,function(){this.unfocus()}).bind(this._events.UPDATED,function(){this._showUpdated()}).bind(this._events.MODAL,function(){this.$el.addClass(this.classNames.ACTIVE)}).bind(this._events.MODELESS,function(){this.$el.removeClass(this.classNames.ACTIVE)})},renderDragHandle:function(){return'<span class="'+this.classNames.DRAG_HANDLE+'"></span></td>'},defaultColumnRenderer:function(e){if(e.value)return document.createTextNode(e.value.toString())},_showUpdated:function(){var t=this,s=this.$el.addClass(this.classNames.ANIMATING).find("td").css("backgroundColor","#ebf1fd");this.trigger(this._events.ANIMATION_STARTED),t.delegateEvents({}),setTimeout(function(){s.animate({backgroundColor:"white"},function(){s.css("backgroundColor",""),t.trigger(t._events.ANIMATION_FINISHED),e(document).one("mousemove",function(){t.delegateEvents(),t.$el.removeClass(t.classNames.ANIMATING)})})},500)},sync:function(e){this.model.addExpand(e);var t=this;return this.showLoading(),this.model.save(e,{success:function(){t.hideLoading().render(),t.trigger(t._events.UPDATED)},error:function(){t.hideLoading()}}),this},refresh:function(e,t){var s=this;return this.showLoading(),this.model.fetch({success:function(){s.hideLoading().render(),e&&e.apply(this,arguments)},error:function(){s.hideLoading(),t&&t.apply(this,arguments)}}),this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(){return e(this.el).addClass(this.classNames.FOCUSED),this},unfocus:function(){return e(this.el).removeClass(this.classNames.FOCUSED),this},showLoading:function(){return this.$el.addClass(this.classNames.LOADING),this},hideLoading:function(){return this.$el.removeClass(this.classNames.LOADING),this},edit:function(t){var s;return s=e(t.target).is("."+this.classNames.EDITABLE)?e(t.target).attr("data-field-name"):e(t.target).closest("."+this.classNames.EDITABLE).attr("data-field-name"),this.trigger(GH.RestfulTable.Events.EDIT_ROW,s),this},renderOperations:function(){var t=this;if(this.allowDelete!==!1)return e("<a href='#' class='aui-button' />").addClass(this.classNames.DELETE).text("Delete").click(function(e){e.preventDefault(),t.destroy()})},destroy:function(){if(this.deleteConfirmation){var e=GH.Dialog.create({width:500,height:200,id:"delete-entity-"+this.model.get("id")});e.addHeader(this.deleteConfirmation.header),e.addPanel("","panel"),e.getCurrentPanel().html(this.deleteConfirmation.content(this.model.toJSON())),e.addButtonPanel(),e.addButton("Delete",_.bind(function(t){this.model.destroy(),e.hide()},this),"aui-button"),GH.Dialog.addCancelButton(e),e.show()}else this.model.destroy()},render:function(){var t=this,s=this.model.toJSON(),a=e("<td class='aui-restfultable-operations' />").append(this.renderOperations({},s)),i=e("<td class='aui-restfultable-throbber' />");return this.$el.removeClass(this.classNames.DISABLED+" "+this.classNames.FOCUSED+" "+this.classNames.LOADING+" "+this.classNames.EDIT_ROW).addClass(this.classNames.READ_ONLY).empty(),this.allowReorder&&e('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(t.$el),this.$el.attr("data-id",this.model.id),e.each(this.columns,function(a,i){var n,l=e("<td />"),d=s[i.id],o=i.fieldName||i.id,r=[{name:o,value:d,allowEdit:i.allowEdit},s,t.model];if(d&&t.$el.attr("data-"+i.id,d),n=i.readView?new i.readView({model:t.model}).render(r[0]):t.defaultColumnRenderer.apply(t,r),t.allowEdit!==!1&&i.allowEdit!==!1){var h=e("<span />").addClass(t.classNames.EDITABLE).append('<span class="aui-icon icon-edit-sml" />').append(n).attr("data-field-name",o);l=e("<td />").append(h).appendTo(t.$el),n&&""!=e.trim(n)||(l.addClass(t.classNames.NO_VALUE),h.html(e("<em />").text(this.emptyText||"Enter value")))}else l.append(n);i.styleClass&&l.addClass(i.styleClass),l.appendTo(t.$el)}),this.$el.append(a).append(i).addClass(this.classNames.ROW+" "+this.classNames.READ_ONLY),this.trigger(this._events.RENDER,this.$el,s),this.$el.trigger(this._events.CONTENT_REFRESHED,[this.$el]),this}})}(AJS.$,GH.Backbone);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/BoardAdminWarning.js' */
define("jira-agile/rapid/configuration/BoardAdminWarning",[],function(){function n(n,i){var r=GH.tpl.boardAdminWarning.adminWarningText();return e(r,n,i)}function i(n,i,r){var o=GH.tpl.boardAdminWarning.locationWarningText({name:n});return e(o,i,r)}function e(n,i,e){r._warningDialog(n,i,e)}var r={};return r.init=function(n){var i=n.warnBeforeEditingOwner,e=n.warnBeforeEditingLocation;this.warnBeforeEditingOwner=i,this.warnBeforeEditingLocation=e},r.confirmBoardAdminChange=function(i){var e=this,r=i.userKeys,o=i.groupKeys;return new Promise(function(i,a){return e.warnBeforeEditingOwner?void AJS.$.ajax({url:AJS.contextPath()+"/rest/api/2/user?expand=groups",type:"get",dataType:"json",data:{username:GH.UserData.getUserName()}}).done(function(e){var t=function(n,i){return n.some(function(n){return i.includes(n.name)})},u=e.key||e.name;r.includes(u)||t(e.groups.items,o)?i():n(i,a)}).fail(function(){i()}):void i()})},r.confirmLocationChange=function(n){var e=this,r=n.value,o=n.name;return new Promise(function(n,a){return e.warnBeforeEditingLocation?void AJS.$.ajax({url:AJS.contextPath()+"/rest/api/2/mypermissions?projectId="+r+"&permissions=ADMINISTER_PROJECTS",type:"get",dataType:"json"}).done(function(e){var r=e.permissions,t=r.ADMINISTER_PROJECTS.havePermission;"boolean"!=typeof t||t?n():i(o,n,a)}).fail(function(){n()}):void n()})},r._warningDialog=function(n,i,e){var r=GH.ConfirmDialog.create("ghx-admin-confirm-dialog",{content:n,contentEscaping:!1,onConfirmFn:i,onCancelFn:e,height:230});r.show()},r});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/BoardAdminWarning.soy' */
// This file was automatically generated from BoardAdminWarning.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.boardAdminWarning.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.boardAdminWarning == 'undefined') { GH.tpl.boardAdminWarning = {}; }


GH.tpl.boardAdminWarning.adminWarningText = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml('Removing yourself as a board administrator means you\x27ll no longer be able to change any board settings. Do you still want to do this?');
};
if (goog.DEBUG) {
  GH.tpl.boardAdminWarning.adminWarningText.soyTemplateName = 'GH.tpl.boardAdminWarning.adminWarningText';
}


GH.tpl.boardAdminWarning.locationWarningText = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml(AJS.format('If you move this board into the \x3cstrong\x3e{0}\x3c/strong\x3e project, you\x27\x27ll no longer be able to change any board settings. Do you still want to do this?',typeof (opt_data.name) === 'number' ? opt_data.name : soy.$$escapeHtml(opt_data.name))));
};
if (goog.DEBUG) {
  GH.tpl.boardAdminWarning.locationWarningText.soyTemplateName = 'GH.tpl.boardAdminWarning.locationWarningText';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/CardLayoutConfigTable.js' */
!function(e,t,r,n,a){"use strict";function i(e,t,n){this.mode=e,this.model=t,this.el=r(n)}i.prototype={render:function(){function i(e){e.forEach(function(e){r(e).on(GH.RestfulTable.Events.SERVER_ERROR,l)})}function l(e,t,r){h.refresh().done(i)}function d(t){h.refresh().done(i),e.warning(g.el,{body:t.cardlayoutConfig,insert:"prepend"})}var o=this.model,s=o.canEdit,u=this.mode,c=t.filter(o.currentFields,function(e){return e.mode===this.mode},this),f=this._getAvailableCardLayoutFields(!1);if(0!==c.length||0!==f.length){this.el.html("<table></table>");var h=this.restfulTable=new n({el:this.el.find("table"),resources:{all:function(e){return e(c)},self:a.buildRestUrl("/cardlayout/"+o.rapidViewId+"/"+this.mode+"/field/")},columns:this._getTableColumns(),allowEdit:!1,allowDelete:s,allowReorder:s,allowCreate:s});this.model.canEdit&&(i(h.getModels()),h.refresh=function(){var e=r.Deferred();return h.getCreateRow().render({values:{},errors:{}}),h.getModels().fetch({success:function(r,n){h.$tbody.empty(),h.renderRows(n.fields),o.currentFields=t.filter(o.currentFields,function(e){return e.mode!==u}),o.currentFields.concat(n.fields),e.resolve(r)}}),e.promise()},r(h).bind(n.Events.ROW_ADDED,function(e,t,r){h.refresh().done(i),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("cardLayout")}),r(h).bind(n.Events.ROW_REMOVED,function(){h.getCreateRow().render({values:{},errors:{}}),h.refresh().done(i),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("cardLayout")}),h.getCreateRow().bind(GH.RestfulTable.Events.VALIDATION_ERROR,d));var g=this}},_getTableColumns:function(){return[{id:"fieldId",header:"Field Name",fieldName:"fieldId",readView:n.CustomReadView.extend({render:function(){return GH.tpl.cardlayoutconfig.renderFieldCell(this.model.toJSON())}}),createView:this._getCustomCreateView()}]},_getCustomCreateView:function(){var e=this;return n.CustomCreateView.extend({render:function(t){var n=this,a=r('<select class="select"></select>').attr("name",t.name),i=e._getAvailableCardLayoutFields(!1);return i.length?a.html(this.renderOptions(i)):a.hide(),e._getAvailableCardLayoutFields(!0).done(function(t){i=t.fields,i.sort(function(e,t){return e.name.localeCompare(t.name)}),i.length?(e.restfulTable.getCreateRow().enable(),a.html(n.renderOptions(i)).show()):(a.hide(),e.restfulTable.getCreateRow().disable())}),a},renderOptions:function(e){return t.reduce(e,function(e,t){var n=r("<option></option>").val(t.fieldId).text(t.name);return e.add(n)},r())}})},_getAvailableCardLayoutFields:function(e){var t=this.model;return e?a.get({url:"/cardlayout/"+t.rapidViewId+"/"+this.mode+"/available"},"cardLayoutConfig").done(function(e){t.availableFields=e.fields}):t.availableFields}},GH.CardLayoutConfigTable=i}(AJS.messages,_,AJS.$,GH.RestfulTable,GH.Ajax);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/CardLayoutConfig.js' */
define("jira-agile/rapid/configuration/CardLayoutConfig",["jquery","jira-agile/rapid/ajax"],function(n,a){"use strict";function i(a,i){this.model=a,this.cardLayoutConfig=a.cardLayoutConfig,this.isSprintSupportEnabled=a.isSprintSupportEnabled,this.isKanPlanEnabled=a.isKanPlanEnabled,this.canEdit=a.canEdit,this.showDaysInColumn=a.showDaysInColumn,this.rapidViewId=a.rapidListConfig.rapidViewId,this.el=n(i)}var o=GH.CardLayoutConfigTable;return i.prototype={render:function(){this.el.html(GH.tpl.cardlayoutconfig.renderCardLayoutConfig({isSprintSupportEnabled:this.isSprintSupportEnabled,isKanPlanEnabled:this.isKanPlanEnabled,canEdit:this.canEdit,showDaysInColumn:this.showDaysInColumn})),(this.isSprintSupportEnabled||this.isKanPlanEnabled)&&new o("planMode",this.cardLayoutConfig,"#ghx-card-layout-config-plan").render(),new o("workMode",this.cardLayoutConfig,"#ghx-card-layout-config-work").render(),this.initEvents()},getDaysInColumnCheckbox:function(){return this.el.find(".js-config-load-days-toggle")},initEvents:function(){this.getDaysInColumnCheckbox().change(this.saveShowDaysInColumn.bind(this))},saveShowDaysInColumn:function(){var n=this,i={rapidViewId:this.rapidViewId,showDaysInColumn:this.getDaysInColumnCheckbox().prop("checked")};a.put({url:"/rapidviewconfig/showDaysInColumn",data:i}).done(function(a){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("showDaysInColumn",{oldValId:n.showDaysInColumn,newValId:i.showDaysInColumn}),n.showDaysInColumn=i.showDaysInColumn}).fail(function(){n.getDaysInColumnCheckbox().prop("checked",!i.showDaysInColumn)})}},i});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/CardLayoutConfig.soy' */
// This file was automatically generated from CardLayoutConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.cardlayoutconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.cardlayoutconfig == 'undefined') { GH.tpl.cardlayoutconfig = {}; }


GH.tpl.cardlayoutconfig.renderCardLayoutConfig = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Card layout') + '</h2><p>' + soy.$$escapeHtml('Cards can be configured to show up to three extra fields.') + '</p>' + ((opt_data.isSprintSupportEnabled || opt_data.isKanPlanEnabled) ? '<h5>' + soy.$$escapeHtml('Backlog') + '</h5><div id="ghx-card-layout-config-plan" class="ghx-margin-top"></div>' : '') + '<h5>' + soy.$$escapeHtml(opt_data.isSprintSupportEnabled ? 'Active sprints' : 'Kanban board') + '</h5><div id="ghx-card-layout-config-work" class="ghx-margin-top"></div><form class="aui"><div class="field-group"><label for="ghx-config-load-days-toggle">' + soy.$$escapeHtml('Days in column') + '</label><aui-toggle id="ghx-config-load-days-toggle" class="js-config-load-days-toggle" label="' + soy.$$escapeHtml('Days in column') + '"' + ((! opt_data.canEdit) ? ' disabled="disabled"' : '') + ((opt_data.showDaysInColumn) ? ' checked="checked"' : '') + '></aui-toggle><div class="description">' + soy.$$escapeHtml('Show a visual indicator on each card that represents the time spent in the column. This can help identify slow moving issues.') + '</div></div></form>';
};
if (goog.DEBUG) {
  GH.tpl.cardlayoutconfig.renderCardLayoutConfig.soyTemplateName = 'GH.tpl.cardlayoutconfig.renderCardLayoutConfig';
}


GH.tpl.cardlayoutconfig.renderFieldCell = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(opt_data.name) + ((! opt_data.isValid) ? ' <span title="' + soy.$$escapeHtml('This field is currently unavailable. It may have been removed from the system.') + '" class="ghx-icon ghx-icon-warning"></span>' : '');
};
if (goog.DEBUG) {
  GH.tpl.cardlayoutconfig.renderFieldCell.soyTemplateName = 'GH.tpl.cardlayoutconfig.renderFieldCell';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/RapidViewConfiguration.js' */
var _extends=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var d=arguments[a];for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(i[e]=d[e])}return i};!function(){"use strict";function i(i){return i.replace(/(!|"|#|\$|%|&|'|\(|\)|\*|\+|,|\.|\/|:|;|<|=|>|\?|@|\[|\\|\]|\^|`|\{|\||\}|~)/g,"\\$1")}function a(a){if(a)return AJS.$("#"+i(a))}function d(i){return i&&a(i).length>0}function e(i){GH.RapidBoard.State.setSelectedConfigTab(i),GH.RapidBoard.Config.setTab(i),GH.RapidBoard.State.pushState(),GH.RapidBoard.State.setStoredSelectedConfigTab(i)}function o(i){var a=i.replace(/^\w/,function(i){return i.toUpperCase()});return"boardSettings"+a+"Screen"}var n=require("jira/analytics/web-client"),r=require("jira-agile/rapid/analytics-tracker"),t=require("jira-agile/rapid/configuration/CardLayoutConfig"),s=require("jira-agile/rapid/events"),g=(require("jira/featureflags/feature-manager"),require("jira-agile/rapid/configuration/BoardAdminWarning")),p=require("jira-agile/rapid/ui/SPConfig"),l=require("jira-agile/rapid/ui/SPConfigView"),f=require("jira-agile/boardlocation/location-type"),c=require("jira/atlaskit/breadcrumbs"),u=new r("gh.config.tab");GH.RapidBoard.Config={},GH.RapidBoard.Config.BoardAdmins={editData:null},GH.RapidBoard.Config.analytics={fieldChange:new r("gh.config.field"),sendBoardUpdatedTrackEvent:function(i,a){var d=GH.RapidBoard.State.getRapidViewId(),e={containerType:GH.RapidViewConfig.currentData.data.locationType,objectType:"board",objectId:d,attributes:{boardId:d,boardType:GH.RapidBoard.State.getBoardTypeForAnalytics(),updatedItems:[_extends({name:i},a)]},action:"updated",actionSubject:"board",actionSubjectId:d,source:o(GH.RapidBoard.State.getSelectedConfigTab())};"project"===e.containerType&&JIRA.API&&JIRA.API.Projects&&(e.containerId=JIRA.API.Projects.getCurrentProjectId()),n.sendTrackEvent(e)},tabChange:{trigger:function(i){n.sendScreenEvent(o(i),null,{boardType:GH.RapidBoard.State.getBoardTypeForAnalytics()}),u.trigger(i+".view")}}},GH.RapidBoard.Config.BoardAdmins.analytics={update:new r("gh.config.boardadmins","update")},GH.RapidBoard.Config.defaultTab="filter",GH.RapidBoard.Config.storedTabKey="selectedConfigTab",GH.RapidBoard.Config.events=new s,GH.RapidBoard.Config.BACKLOG_COLUMN_STATUS_UPDATE="backlog.column.status.update",GH.RapidBoard.Config.LOCATION_CHANGED="location.changed",GH.RapidBoard.Config.init=function(){GH.RapidBoard.Config.events.trigger("before:renderBoardConfig"),GH.Dialog.CreateView.init(),GH.RapidBoard.Config.loadEditModel(),GH.RapidBoard.Config.initRapidViewNameEdit(),GH.RapidBoard.Config.initRapidViewBoardAdminsEdit(),GH.PersistentMessages.CreateViewMessage.renderMessage()},GH.RapidBoard.Config.loadEditModel=function(){var i=GH.State.toViewState(window.location.href),a=i.rapidView;if(!a)return void GH.RapidBoard.gotoManageViewsPage();var d=GH.Ajax.get({url:"/xboard/configuration-tabs",data:{rapidViewId:a},deferErrorHandling:!0}),e=GH.Ajax.get({url:"/rapidviewconfig/editmodel.json",data:{rapidViewId:a},deferErrorHandling:!0},"rapidBoardConfig");AJS.$.when(e,d).done(function(i,a){var d=i[0],e=a[0].values;GH.RapidBoard.Config.renderEditScreen(d,e)}).fail(GH.RapidViewConfig.handleRapidLoadError)},GH.RapidBoard.Config.editedRapidViewId=void 0,GH.RapidBoard.Config.renderEditScreen=function(i,a){function d(i,a,d){a.projectId?e(a.projectId).then(function(a){o(i,{containerType:"PROJECT",projectKey:a,rapidViewId:d})}):o(i,{containerType:a.userLocationId?"USER":null,rapidViewId:d})}function e(i){var a=$.Deferred();return AJS.$.get(contextPath+"/rest/api/2/project/"+i).then(function(i){a.resolve(i.key)}),a.promise()}function o(i,a){i.updateContext({containerType:a.containerType,projectKey:a.projectKey},!0),i.updateData({rapidView:a.rapidViewId},!0)}var n=require("jira/util/events/types"),r=require("includes/js/rapid/configuration/BoardLocationConfig");GH.RapidBoard.State.setRapidViewId(i.id),GH.RapidViewConfig.storeGlobalConfig(i.globalConfig);var s=i.isSprintSupportEnabled,p=AJS.$("body");p.removeClass("ghx-sprint-support ghx-no-sprint-support ghx-days-in-column-enabled ghx-days-in-column-disabled"),i.showDaysInColumn?p.addClass("ghx-days-in-column-enabled"):p.addClass("ghx-days-in-column-disabled"),s?p.addClass("ghx-sprint-support"):p.addClass("ghx-no-sprint-support"),p.addClass("ghx-board-configure"),AJS.$("#ghx-content-main").html(GH.tpl.rapid.view.renderConfigurationTabs({rapidViewId:i.id,configurationTabs:a})),AJS.$.support.touch&&AJS.$("#gh").removeClass("ghx-no-touch").addClass("ghx-touch"),GH.JQLAutoComplete.setModel(i),GH.RapidBoard.Config.renderHeader(i),GH.RapidBoard.Config.renderViewNameForm(i),_.extend(GH.RapidBoard.Config.BoardAdmins,{model:i.boardAdmins,canEdit:i.canEdit,canUsePicker:i.canUseBoardAdminsPicker}),g.init(i),GH.RapidBoard.Config.renderViewBoardAdminsForm();var l=new r(AJS.$("#ghx-view-board-location-edit"));l.init(Object.assign({},i,{selectedCallback:function(a){var e=i.boardLocationModel;GH.RapidBoard.Config.events.trigger(GH.RapidBoard.Config.LOCATION_CHANGED),GH.Ajax.put({url:"/rapidviewconfig/boardLocation",data:{rapidViewId:GH.RapidBoard.State.getRapidViewId(),locationType:a.projectId?f.project:a.userLocationId?f.user:null,locationId:a.projectId}}).done(function(){JIRA.API.getSidebar().then(function(e){d(e,a,i.id)}),require("jira/navigation").then(function(e){d(e,a,i.id)}),GH.RapidBoard.Config.loadEditModel(),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("boardLocation",{newValName:a.projectId?f.project:f.user,oldValName:e.projectId?f.project:f.user,newValId:a.projectId||a.userLocationId,oldValId:e.projectId||e.userLocationId})})},boardLocation:i.boardLocationModel,validationCallback:g.confirmLocationChange.bind(g)})),GH.RapidBoard.Config.Filter.init(i),GH.RapidBoard.Config.Columns.init(i),GH.RapidBoard.Config.Swimlanes.init(i),GH.RapidBoard.Config.QuickFilter.init(i),s&&GH.RapidBoard.Config.Estimation.init(i),GH.WorkingDaysConfig.init(i),GH.CardColorConfig.init(i),new t(i,"#ghx-config-cardLayout").render(),GH.DetailViewConfig.init(i),GH.RapidBoard.Config.editedRapidViewId=i.id,JIRA.bind(n.NEW_CONTENT_ADDED,function(i,a){var d=AJS.$(a).find(".js-jql-autocomplete-field"),e=AJS.$(a).find(".js-jql-autocomplete-error");if(d.length>0&&e.length>0){var o=d.attr("id"),n=e.attr("id");d=AJS.$("#"+o),e=AJS.$("#"+n),d.length>0&&e.length>0&&GH.JQLAutoComplete.initialize(o,n)}}),GH.RapidBoard.Config.initState(),GH.RapidBoard.Config.initListeners(),_.delay(function(){AJS.$("#ghx-config-header").attr("data-rendered",(new Date).getTime())}),GH.Footer.agileFooter(),GH.RapidBoard.Config.events.trigger("after:renderBoardConfig")},GH.RapidBoard.Config.renderHeader=function(i){l.renderTitle({model:i});GH.UserData.hasUser();GH.ViewActions.renderOnConfiguration(i);var a=AJS.$("#ghx-config-header");a.html(GH.tpl.rapid.view.renderConfigPermissionsWarning({model:i})),i.canEdit?AJS.$("#gh").addClass("ghx-editor").removeClass("ghx-reader"):AJS.$("#gh").addClass("ghx-reader").removeClass("ghx-editor")},GH.RapidBoard.Config.updateTitle=function(i){AJS.$("#js-nav-view-name").text(i)},GH.RapidBoard.Config.initRapidViewNameEdit=function(){GH.RapidBoard.Util.InlineEditable.register(".js-edit-rapidViewName",{validate:GH.RapidBoard.Config.validateViewName,save:GH.RapidBoard.Config.saveViewName,renderView:GH.RapidBoard.Config.renderViewNameField,postEdit:GH.RapidBoard.Config.handleTitleUpdate})},GH.RapidBoard.Config.renderViewNameForm=function(i){var a=AJS.$("#ghx-view-name-edit");a.html(GH.tpl.rapid.view.renderViewNameEditForm({rapidViewName:i.name,canEdit:i.canEdit}))},GH.RapidBoard.Config.validateViewName=function(i){var a=i.editElement.val();return!!GH.Validation.notBlank(i.editElement,"Name is a required field")&&(i.newValue=a,!0)},GH.RapidBoard.Config.saveViewName=function(i){var a=GH.RapidBoard.Config.editedRapidViewId;GH.Ajax.put({url:"/rapidviewconfig/name",data:{id:a,name:i.newValue}}).done(function(){GH.RapidBoard.Config.analytics.fieldChange.trigger("boardname.update"),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("boardName"),c.isEnabled()&&(JIRA.API.getSidebar().then(function(i){return i.updateData({rapidView:a})}),require("jira/navigation").then(function(i){return i.updateData({rapidView:a})}))}),GH.RapidBoard.Util.InlineEditable.updateView(i)},GH.RapidBoard.Config.handleTitleUpdate=function(i){i.canceled||GH.RapidBoard.Config.updateTitle(i.newValue)},GH.RapidBoard.Config.renderViewNameField=function(i){var a=AJS.$(GH.tpl.rapid.view.renderViewNameField({rapidViewName:i.newValue,canEdit:!0}));return a},GH.RapidBoard.Config.initRapidViewBoardAdminsEdit=function(){GH.RapidBoard.Util.InlineEditable.register(".js-edit-rapidViewBoardAdmin",{renderEdit:GH.RapidBoard.Config.renderViewBoardAdminsEditField,activate:null})},GH.RapidBoard.Config.renderViewBoardAdminsForm=function(){var i=AJS.$("#ghx-view-board-admins-edit");i.html(GH.tpl.rapid.view.renderViewBoardAdminsEditForm({model:GH.RapidBoard.BoardAdminsPicker.getOrderedUnion(GH.RapidBoard.Config.BoardAdmins.model),canEdit:GH.RapidBoard.Config.BoardAdmins.canEdit,canUsePicker:GH.RapidBoard.Config.BoardAdmins.canUsePicker}))},GH.RapidBoard.Config.renderViewBoardAdminsEditField=function(i){GH.RapidBoard.Config.BoardAdmins.editData=i,GH.RapidBoard.Config.BoardAdmins.canUsePicker?GH.RapidBoard.Config.renderViewBoardAdminsMultiselect():GH.RapidBoard.Config.renderViewBoardAdminsNoPicker()},GH.RapidBoard.Config.renderViewBoardAdminsNoPicker=function(){var i=AJS.$("#ghx-field-view-board-admins");i.html(GH.tpl.rapid.view.renderBoardAdminsEditNoPicker({model:GH.RapidBoard.Config.BoardAdmins.model})),AJS.$("#ghx-board-admin-edit-groups").focus(),AJS.$("#ghx-board-admin-edit-groups, #ghx-board-admin-edit-users").bind("keydown",function(i){13===i.keyCode?GH.RapidBoard.Config.BoardAdmins.handleReturn(i):27===i.keyCode&&GH.RapidBoard.Config.BoardAdmins.handleEsc(i)}),GH.RapidBoard.Config.bindNonPickerEvents()},GH.RapidBoard.Config.bindNonPickerEvents=function(){AJS.$("#ghx-board-admin-edit-groups, #ghx-board-admin-edit-users").blur(function(){GH.RapidBoard.Config.areBothNonPickerFieldsBlurred().done(function(){GH.RapidBoard.Config.endBoardAdminsForm()})})},GH.RapidBoard.Config.unbindNonPickerEvents=function(){AJS.$("#ghx-board-admin-edit-groups, #ghx-board-admin-edit-users").unbind("blur")},GH.RapidBoard.Config.BoardAdmins.handleReturn=function(){GH.RapidBoard.Config.unbindNonPickerEvents(),GH.RapidBoard.Config.BoardAdmins.canUsePicker?0===GH.RapidBoard.Config.BoardAdmins.form.multiselect._getUserInputValue().length&&GH.RapidBoard.Config.endBoardAdminsForm(!0):GH.RapidBoard.Config.endBoardAdminsForm(!0)},GH.RapidBoard.Config.BoardAdmins.handleEsc=function(){GH.RapidBoard.Util.InlineEditable.removeFromActiveEdits(GH.RapidBoard.Config.BoardAdmins.editData),GH.RapidBoard.Config.unbindNonPickerEvents(),GH.RapidBoard.Config.renderViewBoardAdminsForm()},GH.RapidBoard.Config.areBothNonPickerFieldsBlurred=function(){var i=AJS.$.Deferred();return setTimeout(function(){var a=AJS.$("#ghx-board-admin-edit-groups:focus, #ghx-board-admin-edit-users:focus");a.length>0?i.reject():i.resolve()},90),i.promise()},GH.RapidBoard.Config.renderViewBoardAdminsMultiselect=function(){GH.RapidBoard.Config.BoardAdmins.form=new GH.RapidBoard.BoardAdminsPicker({selector:"#ghx-board-admins",initialData:GH.RapidBoard.Config.formatBoardAdminsInitData(GH.RapidBoard.Config.BoardAdmins.model),blur:function(){clearTimeout(GH.RapidBoard.Config.BoardAdmins.tId);var i=setTimeout(GH.RapidBoard.Config.endBoardAdminsForm,150);GH.RapidBoard.Config.BoardAdmins.tId=i}});var i=GH.RapidBoard.Config.BoardAdmins.form;i.show(),i.multiselect.INVALID_KEYS.Esc=!1,i.multiselect.keys.Return=function(){i.multiselect.suggestionsVisible||GH.RapidBoard.Config.BoardAdmins.handleReturn()},i.multiselect.keys.Esc=function(){i.multiselect.suggestionsVisible||GH.RapidBoard.Config.BoardAdmins.handleEsc()}},GH.RapidBoard.Config.formatBoardAdminsInitData=function(i){function a(i,a){return{value:i+":"+a.key,label:a.displayName,html:AJS.escapeHTML(String(a.displayName))}}var d=_.map(i.userKeys,function(i){return a("user",i)}),e=_.map(i.groupKeys,function(i){return a("group",i)});return _.union(d,e)},GH.RapidBoard.Config.endBoardAdminsForm=function(i){if(clearTimeout(GH.RapidBoard.Config.BoardAdmins.tId),GH.RapidBoard.Util.InlineEditable.removeFromActiveEdits(GH.RapidBoard.Config.BoardAdmins.editData),!GH.RapidBoard.Config.BoardAdmins.canUsePicker||GH.RapidBoard.Config.shouldHideBoardAdminsForm()||i){var a;a=GH.RapidBoard.Config.BoardAdmins.canUsePicker?GH.RapidBoard.Config.BoardAdmins.form.getAjaxValue():GH.RapidBoard.Config.resolveNewBoardAdminsModelFromTextFields(),GH.RapidBoard.Config.validateBoardAdmins(a).done(GH.RapidBoard.Config.saveBoardAdmins).fail(function(){GH.RapidBoard.Config.renderViewBoardAdminsForm()})}},GH.RapidBoard.Config.resolveNewBoardAdminsModelFromTextFields=function(){var i=function(i){return""===i},a=/\s*,\s*/,d=function(d){return _.uniq(_.reject(d.split(a),i))};return{userKeys:d(AJS.$("#ghx-board-admin-edit-users").val()),groupKeys:d(AJS.$("#ghx-board-admin-edit-groups").val())}},GH.RapidBoard.Config.saveBoardAdmins=function(){var i;return i=GH.RapidBoard.Config.BoardAdmins.canUsePicker?GH.RapidBoard.Config.BoardAdmins.form.getAjaxValue():GH.RapidBoard.Config.resolveNewBoardAdminsModelFromTextFields(),GH.RapidBoard.Config.BoardAdmins.analytics.update.trigger(i.groupKeys.length+","+i.userKeys.length),GH.Ajax.put({url:"/rapidviewconfig/boardadmins",data:{id:GH.RapidBoard.Config.editedRapidViewId,boardAdmins:i}}).done(function(i,a,d){GH.RapidBoard.Config.BoardAdmins.model=JSON.parse(d.responseText),GH.RapidBoard.Config.renderViewBoardAdminsForm(),GH.RapidBoard.Config.loadEditModel(),GH.RapidBoard.Config.analytics.fieldChange.trigger("boardadmins.update"),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("boardAdmins")}).fail(function(){GH.RapidBoard.Config.renderViewBoardAdminsForm()})},GH.RapidBoard.Config.shouldHideBoardAdminsForm=function(){return 0===AJS.$("textarea:focus").length},GH.RapidBoard.Config.validateBoardAdmins=function(i){var a=AJS.$.Deferred();return 0===i.userKeys.length&&0===i.groupKeys.length?a.reject():GH.RapidBoard.Config.hasBoardAdminsChanged(i)?(g.confirmBoardAdminChange(i).then(a.resolve,a.reject),a.promise()):a.reject()},GH.RapidBoard.Config.hasBoardAdminsChanged=function(i){return!_.isEqual(i,GH.RapidBoard.Config.BoardAdmins.model)},GH.RapidBoard.Config.setTab=function(i){var d=void 0;d=a(i),GH.RapidBoard.State.setSelectedConfigTab(i),GH.RapidBoard.Config.analytics.tabChange.trigger(i),AJS.$(".ghx-page-panel-content-item").css({display:"none"}),d.css({display:"block"});var e=AJS.$("#ghx-config-nav").find("li");e.removeClass("aui-nav-selected").filter('[data-tabitem="'+i+'"]').addClass("aui-nav-selected")},GH.RapidBoard.Config.initState=function(){var i=GH.RapidBoard.State.getSelectedConfigTab();d(i)&&i!==p.USE_STORED_TAB||(i=GH.RapidBoard.State.getStoredSelectedConfigTab(),d(i)||(i=p.INITIAL_TAB)),GH.RapidBoard.State.setSelectedConfigTab(i),GH.RapidBoard.Config.setTab(i),GH.RapidBoard.State.replaceState()},GH.RapidBoard.Config.initListeners=function(){var i=GH.Util.wrapPreventDefault(function(){var i=AJS.$(this).data("tabitem");if(i){var a=GH.State.toViewState(window.location.href);i!==a.tab&&e(i)}});AJS.$("#ghx-config-nav").find("li").off("simpleClick",i).on("simpleClick",i),GH.RapidBoard.Config.Columns.on(GH.RapidBoard.Config.Columns.BACKLOG_COLUMN_STATUS_UPDATE,GH.RapidBoard.Config.loadEditModel,"backlog-column-status-change")}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/RestfulTableExtensions.js' */
GH.RapidBoard.Config.Util={},GH.RapidBoard.Config.Util.TextAreaEditView=GH.RestfulTable.CustomEditView.extend({render:function(e){return AJS.$('<textarea class="textarea"></textarea>').attr("name",e.name).text(e.value||"")}}),GH.RapidBoard.Config.Util.JQLEditView=GH.RestfulTable.CustomEditView.extend({initialize:function(){if(GH.RestfulTable.CustomEditView.prototype.initialize.apply(this,arguments),!this.namespace)throw"You must provide a namespace. please extend JQLEditView"},render:function(e){return AJS.$(GH.tpl.inlineeditfield.renderJQLAutocomplete(_.extend({namespace:this.namespace,id:this.model.attributes.id},e)))}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/ManageViews.js' */
GH.RapidBoard.ManageViews={},function(){var a=require("jira-agile/rapid/analytics-tracker");GH.RapidBoard.ManageViews.analytics=new a("gh.manageviews")}(),GH.RapidBoard.ManageViews.init=function(){GH.Dialog.CreateView.init(),GH.RapidBoard.ManageViews.loadModel(),AJS.$(document).delegate(".ghx-delete-view","click",function(a){a.preventDefault();var e=AJS.$(this).attr("data-view-id"),i=AJS.$(this).attr("data-view-name");GH.RapidBoard.DeleteDialog.showDeleteDialog(e,i)}),AJS.$(GH).bind("ghx.rapidview.deleted",function(a,e){GH.Notification.showSuccess(e.message),GH.RapidBoard.ManageViews.loadModel()}),AJS.$(document).delegate(".js-copy-view","click",function(a){a.preventDefault();var e=AJS.$(this).attr("data-view-id"),i=AJS.$(this).attr("data-view-name");GH.ViewActions.showCopyBoardDialog(e,i)}),new GH.RapidBoard.ManageViews.analytics.trigger("show")},GH.RapidBoard.ManageViews.loadModel=function(){GH.Ajax.get({url:"/rapidviews/viewsData.json"},"manageViews").done(GH.RapidBoard.ManageViews.render)},GH.RapidBoard.ManageViews.render=function(a){var e=GH.UserData.hasUser();GH.RapidViewConfig.storeGlobalConfig(a.globalConfig),GH.ViewActions.renderOnManage(),AJS.$("body").addClass("ghx-board-manage"),a.views.length>0?(GH.RapidBoard.ManageViews.shortenBoardAdmins(a.views),a.views.sort(GH.RapidBoard.viewModelComparator),AJS.$("#ghx-content-main").html(GH.tpl.rapid.manageviews.renderViewsTable({views:a.views,canCopy:e}))):AJS.$("#ghx-content-main").html(GH.tpl.board.x.renderNoViews()),AJS.$.support.touch&&AJS.$("#gh").removeClass("ghx-no-touch").addClass("ghx-touch"),GH.Footer.agileFooter(),_.each(a.views,function(a){a.shortener=new GH.Shortener({items:"span.ghx-board-admin-list-item",element:"div.board-admins-list-"+a.id,numRows:1})})},GH.RapidBoard.ManageViews.shortenBoardAdmins=function(a){_.each(a,function(a){a.boardAdmins?a.renderableBoardAdmins=GH.RapidBoard.BoardAdminsPicker.getOrderedUnion(a.boardAdmins):a.renderableBoardAdmins=[]})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/FilterConfig.js' */
GH.RapidBoard.Config.Filter={},function(){var i=require("jira-agile/rapid/analytics-tracker");GH.RapidBoard.Config.Filter.analytics=new i("gh.config.subquery.edit")}(),GH.RapidBoard.Config.Filter.init=function(i){GH.RapidBoard.Config.FilterModel.setModel(i),GH.RapidBoard.Config.Filter.showFilter(),AJS.$(document).delegate(".js-update-filter-order-by","click",function(i){GH.RapidBoard.Config.Filter.confirmOrderByUpdate(),i.preventDefault()}),GH.RapidBoard.Config.FilterModel.canChangeFilter&&AJS.$(document).delegate("#js-sub-container-work .js-editable","click",GH.RapidBoard.Config.Filter.initSubQueryEdit),AJS.$(GH).bind(GH.RapidBoard.Config.UNMAPPED_STATUSES_WITH_ISSUES,function(){AJS.$("#unmapped-issues-warning").removeClass("hidden")}),AJS.$(GH).bind(GH.RapidBoard.Config.NO_UNMAPPED_STATUSES_WITH_ISSUES,function(){AJS.$("#unmapped-issues-warning").addClass("hidden")})},GH.RapidBoard.Config.Filter.showFilter=function(){var i=GH.RapidBoard.Config.FilterModel.canChangeFilter,e=GH.RapidBoard.Config.FilterModel.savedFilter,r=GH.RapidBoard.Config.FilterModel.id,a=!GH.RapidBoard.Config.FilterModel.isSprintSupportEnabled,d=a?[GH.RapidBoard.Config.Filter.getSubQueryForDisplay()]:[];AJS.$("#ghx-config-filter").html(GH.tpl.rapid.view.renderFilterDetails({savedFilter:e,subqueries:d,isSubqueriesConfigurable:a,canEdit:i,rapidViewId:r})),AJS.$("#js-view-columns").bind("simpleClick",GH.Util.wrapPreventDefault(function(){GH.RapidBoard.Config.setTab("columns"),GH.State.replace({rapidView:GH.RapidBoard.Config.editedRapidViewId,tab:"columns"})})),i&&GH.RapidBoard.Config.Filter.initClickHandler(e);var o=AJS.$("#ghx-show-projects-in-board .aui-iconfont-info").tooltip({gravity:"w"});o.length>0&&o.tooltip({gravity:"w"})},GH.RapidBoard.Config.Filter.initClickHandler=function(i){AJS.$("#ghx-filter-change").one("click",function(e){AJS.$(this).hide();var r=new GH.SavedFilterPicker({selected:GH.RapidBoard.Config.Filter.selectHandler,selector:"#ghx-filter-change-select",blur:GH.RapidBoard.Config.Filter.showFilter,stayActivated:!0});r.show(i)})},GH.RapidBoard.Config.Filter.selectHandler=function(i,e){e.properties&&GH.Ajax.put({url:"/rapidviewconfig/filter",data:{id:GH.RapidBoard.Config.FilterModel.id,savedFilterId:e.properties.value}}).done(function(i){GH.RapidBoard.Config.FilterModel.setSavedFilter(i.success),GH.RapidBoard.Config.Filter.showFilter(),GH.RapidBoard.Config.analytics.fieldChange.trigger("savedfilter.update"),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("savedFilter")})},GH.RapidBoard.Config.Filter.confirmOrderByUpdate=function(){var i=GH.Dialog.create({width:400,height:200,id:"confirm-filter-dialog",closeOnOutsideClick:!0});i.addHeader("Update Filter"),i.addPanel("Panel 1","<p>"+"Changing the Query for this Filter will add Rank and remove any other Order By sorting. This will affect all boards using this Filter."+"</p>","panel-body"),i.addButton("Confirm",function(i){i.disableControls(),GH.RapidBoard.Config.Filter.updateOrderBy(i)},"aui-button"),GH.Dialog.addCancelButton(i),AJS.$("#"+i.id).addClass("ghx-dialog"),i.show()},GH.RapidBoard.Config.Filter.updateOrderBy=function(i){var e=GH.RapidBoard.Config.FilterModel.id;e&&GH.Ajax.put({url:"/rapidviewconfig/orderbyrank",data:{id:e}}).done(function(e){GH.RapidBoard.Config.FilterModel.setSavedFilter(e.getSuccessObject()),GH.RapidBoard.Config.Filter.showFilter(),GH.Notification.showSuccess("Query for this Filter updated"),i.hide()}).fail(i.enableControls)},GH.RapidBoard.Config.Filter.initSubQueryEdit=function(i){var e=AJS.$("#js-sub-container-work"),r=GH.tpl.rapid.view.renderSubQueryControls({section:"board.kanban.work",queryValue:GH.RapidBoard.Config.FilterModel.getSubQuery().query});e.empty().append(r),AJS.$("#js-sub-container-work .js-subquery-submit").click(GH.RapidBoard.Config.Filter.updateSubQuery),AJS.$("#js-sub-container-work .js-subquery-cancel").click(GH.RapidBoard.Config.Filter.cancelSubQueryEdit),GH.JQLAutoComplete.initialize("ghx-sub-jql","ghx-sub-jql-errormsg"),AJS.$("#ghx-sub-jql").focus()},GH.RapidBoard.Config.Filter.cancelSubQueryEdit=function(i){var e=AJS.$("#js-sub-container-work"),r=GH.tpl.rapid.view.renderSubQueryView({section:"board.kanban.work",queryValue:GH.RapidBoard.Config.Filter.getSubQueryForDisplay(),canEdit:GH.RapidBoard.Config.FilterModel.canChangeFilter});e.empty().append(r)},GH.RapidBoard.Config.Filter.updateSubQuery=function(i){i.preventDefault(),console.log("update subquery");var e=GH.RapidBoard.Config.FilterModel.id,r=AJS.$(this).parent().children("textarea"),a=r.attr("data-section"),d=r.val();GH.RapidBoard.Config.Filter.analytics.trigger(a),GH.Ajax.put({url:"/subqueries/"+e,data:{query:d},errorContextMap:{query:GH.RapidBoard.Config.Filter.displaySubQueryError}}).done(function(i){GH.RapidBoard.Config.FilterModel.updateSubQuery(i.getSuccessObject()),GH.RapidBoard.Config.analytics.fieldChange.trigger("subquery.update"),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("subQuery"),GH.RapidBoard.Config.Filter.showFilter()})},GH.RapidBoard.Config.Filter.getSubQueryForDisplay=function(){var i=GH.RapidBoard.Config.FilterModel.getSubQuery();return!!i.query&&i.query},GH.RapidBoard.Config.Filter.displaySubQueryError=function(i,e){var r="#ghx-sub-jql";r=AJS.$(r),r.siblings(".ghx-error").remove();var a=GH.tpl.rapid.notification.renderContextualErrors({errors:i.errors});r.parent().append(a)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/FilterConfigModel.js' */
GH.RapidBoard.Config.FilterModel={},GH.RapidBoard.Config.FilterModel.id=void 0,GH.RapidBoard.Config.FilterModel.savedFilter=void 0,GH.RapidBoard.Config.FilterModel.subQueries=[],GH.RapidBoard.Config.FilterModel.canChangeFilter=void 0,GH.RapidBoard.Config.FilterModel.canEditFilter=void 0,GH.RapidBoard.Config.FilterModel.isSprintSupportEnabled=void 0,GH.RapidBoard.Config.FilterModel.setModel=function(i){GH.RapidBoard.Config.FilterModel.id=i.id,GH.RapidBoard.Config.FilterModel.setSavedFilter(i.filterConfig),GH.RapidBoard.Config.FilterModel.canChangeFilter=i.canEdit,GH.RapidBoard.Config.FilterModel.isSprintSupportEnabled=i.isSprintSupportEnabled,GH.RapidBoard.Config.FilterModel.hasIssuesWithUnmappedStatuses=function(){var e=i.rapidListConfig.unmappedStatuses;return _.any(e,function(i){return i.issueCount>0})},i.isSprintSupportEnabled||(GH.RapidBoard.Config.FilterModel.subQueries=i.subqueryConfig.subqueries)},GH.RapidBoard.Config.FilterModel.setSavedFilter=function(i){GH.RapidBoard.Config.FilterModel.savedFilter=i},GH.RapidBoard.Config.FilterModel.updateSubQuery=function(i){for(var e=0;e<GH.RapidBoard.Config.FilterModel.subQueries.length;e++)if(i.section==GH.RapidBoard.Config.FilterModel.subQueries[e].section)return void(GH.RapidBoard.Config.FilterModel.subQueries[e]=i)},GH.RapidBoard.Config.FilterModel.getSubQuery=function(){return GH.RapidBoard.Config.FilterModel.subQueries[0]};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/ColumnConfig.js' */
!function(){"use strict";var a=require("jira-agile/tooltip"),i=(require("jira-agile/rapid/configuration/CardLayoutConfig"),require("jira-agile/rapid/events")),n=require("jira-agile/rapid/ajax"),o=require("jira-agile/rapid/analytics-tracker"),e=require("jira-agile/rapid/ui/kanplan/kan-plan-dialog-utils"),d=(require("jira/featureflags/feature-manager"),require("jira-agile/features/feature-flags"),new o("jira-software.configuration.epic-as-panel"));GH.RapidBoard.Config.Columns=new i,GH.RapidBoard.Config.UNMAPPED_STATUSES_WITH_ISSUES="unmappedStatusesWithIssues",GH.RapidBoard.Config.NO_UNMAPPED_STATUSES_WITH_ISSUES="noUnmappedStatusesWithIssues",GH.RapidBoard.Config.Columns.BACKLOG_COLUMN_STATUS_UPDATE="backlog-column-status-change",GH.RapidBoard.Config.Columns.model=void 0,GH.RapidBoard.Config.Columns.kanPlanConfig=void 0,GH.RapidBoard.Config.Columns.init=function(a){GH.RapidBoard.Config.Columns.data=a,GH.RapidBoard.Config.Columns.model=a.rapidListConfig,GH.RapidBoard.Config.Columns.model.showEpicAsPanel=a.showEpicAsPanel,GH.RapidBoard.Config.Columns.kanPlanConfig={isKanbanBoard:a.isSprintSupportEnabled===!1,isKanPlanEnabled:a.isKanPlanEnabled},GH.RapidBoard.Config.Columns.renderColumnMapping(),AJS.$("#ghx-columns-config-tab-link").bind("tabSelect",GH.RapidBoard.Config.Columns.alignColumnHeights),GH.RapidBoard.Config.Columns.EditField.registerInlineEdits(),AJS.$(GH).bind(GH.Dialogs.AddColumn.EVENT_COLUMN_ADDED,GH.RapidBoard.Config.Columns.updateNewColumn),AJS.$(GH).bind(GH.Dialogs.CreateStatus.EVENT_STATUS_CREATED,GH.RapidBoard.Config.Columns.updateNewStatus),AJS.$(GH).bind(GH.Dialogs.RemoveStatus.EVENT_STATUS_REMOVED,GH.RapidBoard.Config.Columns.updateRemovedStatus),AJS.$(GH).bind(GH.Dialogs.ConvertWorkflow.EVENT_WORKFLOW_CONVERTED,GH.RapidBoard.Config.Columns.reloadColumnsModel)},GH.RapidBoard.Config.Columns.renderColumnMapping=function(){var a=GH.RapidBoard.Config.Columns.model;a.unmappedStatusesWithIssues=_.filter(a.unmappedStatuses,function(a){return a.issueCount>0}),a.unmappedStatusesWithIssues.length>0?AJS.$(GH).trigger(GH.RapidBoard.Config.UNMAPPED_STATUSES_WITH_ISSUES,a.unmappedStatusesWithIssues):AJS.$(GH).trigger(GH.RapidBoard.Config.NO_UNMAPPED_STATUSES_WITH_ISSUES),a.unmappedStatusesWithoutIssues=_.filter(a.unmappedStatuses,function(a){return 0===a.issueCount});var i=a.mappedColumns.filter(function(a){return a.mappedStatuses.length>0&&!a.isKanPlanColumn});i.length>0&&(i[0].isFirstColumnWithStatuses=!0,i[i.length-1].isLastColumnWithStatuses=!0);var n,o="",e={"url":"https://confluence.atlassian.com/display/JIRASOFTWARECLOUD/Using+the+Simplified+Workflow","isLocal":false}.url;_.isUndefined(a.workflow.simplifiedWorkflowProjectName)||(n=AJS.escapeHTML(String(a.workflow.simplifiedWorkflowProjectName)),o=GH.Ajax.CONTEXT_PATH+"/plugins/servlet/project-config/"+a.workflow.simplifiedWorkflowProjectKey+"/workflows");var d=GH.Ajax.CONTEXT_PATH+"/secure/ContactAdministrators.jspa",t=AJS.$("#columns");t.html(GH.tpl.columnconfig.renderColumnMappingView({model:a,lastUpdated:(new Date).getTime(),simplifiedWorkflowProjectName:n,adminWorkflowUrl:o,contactAdminUrl:d,kanbanBacklogUrl:{"url":"https://confluence.atlassian.com/display/JIRASOFTWARECLOUD/Using+your+Kanban+backlog","isLocal":false}.url,simplifiedWorkflowLearnMoreUrl:e,shouldRenderKanbanBacklogColumn:GH.RapidBoard.Config.Columns.shouldRenderKanbanBacklogColumn(),isKanPlanEnabled:GH.RapidBoard.Config.Columns.kanPlanConfig.isKanPlanEnabled})),t.find(".aui-iconfont-help").tooltip({html:!0,gravity:"s"}),GH.RapidBoard.Config.Columns.alignColumnHeights(),GH.RapidBoard.Config.Columns.model.canEdit&&(GH.RapidBoard.Config.Columns.DnD.init(),GH.RapidBoard.Config.Columns.attachListeners(a),GH.RapidBoard.Config.Columns.EditField.init(),AJS.$("#ghx-mapping .ghx-action[data-deleteindex] .js-column-delete").click(GH.RapidBoard.Config.Columns.deleteColumn))},GH.RapidBoard.Config.Columns.alignColumnHeights=function(){var a=AJS.$("#ghx-mapping"),i=a.find(".ghx-config-status:not(.ghx-kanplan-backlog)");i.css({height:""});var n=a.height(),o=a.find(".ghx-status:first").outerHeight();i.css({height:n+2*o})},GH.RapidBoard.Config.Columns.attachListeners=function(i){i.workflow.isSimplifiedWorkflowFeatureEnabled&&!i.workflow.usingSimplifiedWorkflow&&i.workflow.canSimplifyWorkflow&&i.workflow.userCanSimplifyWorkflow&&AJS.$("#js-convert-workflow").click(GH.RapidBoard.Config.Columns.convertWorkflowDialog),i.workflow.usingSimplifiedWorkflow&&i.workflow.isProjectAdminOfSimplifiedWorkflow?(AJS.$("#ghx-config-addcolumn").click(GH.RapidBoard.Config.Columns.addColumnDialog),AJS.$("#ghx-config-addstatus").click(GH.RapidBoard.Config.Columns.addStatusDialog),AJS.$("#ghx-mapping .ghx-unmapped .js-remove-status").click(GH.RapidBoard.Config.Columns.removeStatusDialog),AJS.$("#ghx-mapping .js-resolution-update").click(GH.RapidBoard.Config.Columns.resolutionUpdate),AJS.$("#ghx-mapping .js-resolution-update").each(function(){var i=AJS.$(this),n=i.parents("ul.ghx-config-status"),o=n.hasClass("ghx-last")?"e":"n";a.tipsify({selector:i,gravity:o})})):AJS.$("#ghx-config-addcolumn").click(GH.RapidBoard.Config.Columns.addColumn),AJS.$("#ghx-mapping").agileSortable({handle:".ghx-header",items:".ghx-column-wrapper:not(.ghx-fixed-column)",forceHelperSize:!0,forcePlaceholderSize:!0,opacity:"0.9",placeholder:"ghx-sortable-placeholder",tolerance:"pointer",start:function(){GH.RapidBoard.Util.InlineEditable.cancelActiveEdits()},stop:function(){GH.RapidBoard.Config.Columns.save()}}),AJS.$("#ghx-statisticsfield-select").change(GH.RapidBoard.Config.Columns.save);var n=AJS.$("#ghx-checkbox-epic-appearance");n.change(function(){var a=n.prop("checked");GH.RapidBoard.Config.Columns.updateShowEpicAsPanel(a,function(){d.trigger(a?"click.on":"click.off")})})},GH.RapidBoard.Config.Columns.updateShowEpicAsPanel=function(a,i){var o=AJS.$("#ghx-checkbox-epic-appearance"),e=GH.RapidBoard.Config.Columns.model,d={rapidViewId:e.rapidViewId,showEpicAsPanel:a};n.put({url:"/rapidviewconfig/showEpicAsPanel",data:d}).done(function(){GH.RapidBoard.Config.Columns.data.showEpicAsPanel=d.showEpicAsPanel,GH.RapidBoard.Config.Columns.model.showEpicAsPanel=d.showEpicAsPanel,GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("showEpicAsPanel",{oldValId:!d.showEpicAsPanel,newValId:d.showEpicAsPanel}),i&&i()}).fail(function(){o.prop("checked",!a)})},GH.RapidBoard.Config.Columns.convertWorkflowDialog=function(a){a.preventDefault(),GH.Dialogs.ConvertWorkflow.showDialog(GH.RapidBoard.Config.Columns.model.rapidViewId)},GH.RapidBoard.Config.Columns.addStatusDialog=function(){GH.Dialogs.CreateStatus.showDialog(GH.RapidBoard.Config.Columns.model.rapidViewId)},GH.RapidBoard.Config.Columns.addColumnDialog=function(){GH.Dialogs.AddColumn.showDialog(GH.RapidBoard.Config.Columns.model.rapidViewId,GH.RapidBoard.Config.Columns.model.workflow.usingSimplifiedWorkflow)},GH.RapidBoard.Config.Columns.removeStatusDialog=function(a){var i=AJS.$(this),n=i.closest(".ghx-status").attr("data-statusid");GH.Dialogs.RemoveStatus.showDialog(GH.RapidBoard.Config.Columns.model.rapidViewId,n)},GH.RapidBoard.Config.Columns.addColumn=function(){var a={name:"New Column",mappedStatuses:[],min:"No Min",max:"No Max",isKanPlanColumn:!1},i=GH.RapidBoard.Config.Columns.model.mappedColumns,n=i.length-1;i.splice(n,0,a),GH.RapidBoard.Config.Columns.renderColumnMapping(),GH.RapidBoard.Config.Columns.save(!1,function(){AJS.$("#ghx-mapping .ghx-mapped:eq("+n+") .ghx-header-name").click()})},GH.RapidBoard.Config.Columns.deleteColumn=function(a){var i=AJS.$(this).closest(".ghx-action").data("deleteindex"),n=GH.RapidBoard.Config.Columns.model.mappedColumns[i].mappedStatuses,o=GH.RapidBoard.Config.Columns.model.unmappedStatuses;GH.RapidBoard.Config.Columns.model.unmappedStatuses=o.concat(n),GH.RapidBoard.Config.Columns.model.mappedColumns.splice(i,1),GH.RapidBoard.Config.Columns.renderColumnMapping(),GH.RapidBoard.Config.Columns.save(!1)};var t=function(){var a=[];return AJS.$("#ghx-mapping .ghx-mapped").each(function(i,n){n=AJS.$(n);var o={},e=[];n.find(".ghx-status").each(function(a,i){e[a]={id:AJS.$(i).attr("data-statusid")}}),o.mappedStatuses=e;var d=n.attr("data-column-id");d&&(o.id=parseInt(d,10));var t=n.find('.ghx-header-name[data-fieldname="name"]').attr("data-fieldvalue");t&&(o.name=t),o.min=n.find('span[data-fieldname="min"]').attr("data-fieldvalue"),o.max=n.find('span[data-fieldname="max"]').attr("data-fieldvalue"),o.isKanPlanColumn=n.hasClass("ghx-kanplan-backlog"),a.push(o)}),a};GH.RapidBoard.Config.Columns._getModifiedModel=t;var l=function(a){var i=r(GH.RapidBoard.Config.Columns.model.mappedColumns),n=r(a);return i!==n},r=function(a){var i=a.find(function(a){return a.isKanPlanColumn});return i&&i.mappedStatuses.length>0};GH.RapidBoard.Config.Columns.save=function(a,i){"undefined"==typeof a&&(a=!0);var o={};o.currentStatisticsField={id:AJS.$("#ghx-statisticsfield-select").val()},o.rapidViewId=GH.RapidBoard.Config.Columns.model.rapidViewId,o.mappedColumns=t(),n.put({url:"/rapidviewconfig/columns",data:o}).done(function(n){GH.RapidBoard.Config.Columns.model=_.extend(GH.RapidBoard.Config.Columns.model,n.success),GH.RapidViewConfig.kanPlanEnabled=r(GH.RapidBoard.Config.Columns.model.mappedColumns),a&&GH.RapidBoard.Config.Columns.renderColumnMapping(),i&&i(),JIRA.trace("gh.config.column.saved"),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("columnConfig")})},GH.RapidBoard.Config.Columns.updateNewColumn=function(a,i){GH.RapidBoard.Config.Columns.model=i,GH.RapidBoard.Config.Columns.renderColumnMapping()},GH.RapidBoard.Config.Columns.updateNewStatus=function(a,i){GH.RapidBoard.Config.Columns.containsStatus(i)||GH.RapidBoard.Config.Columns.model.unmappedStatuses.push(i),GH.RapidBoard.Config.Columns.renderColumnMapping(),GH.RapidBoard.Animation.fadeElement('.ghx-status[data-statusid="'+i.id+'"]');var n=AJS.$('.ghx-status[data-statusid="'+i.id+'"]').offset().top;AJS.$(window).scrollTop(n)},GH.RapidBoard.Config.Columns.updateRemovedStatus=function(a,i){var n=GH.RapidBoard.Config.Columns.model.unmappedStatuses;GH.RapidBoard.Config.Columns.model.unmappedStatuses=_.reject(n,function(a){return a.id===i}),GH.RapidBoard.Config.Columns.renderColumnMapping()},GH.RapidBoard.Config.Columns.reloadColumnsModel=function(){var a=n.get({url:"/rapidviewconfig/editmodel.json",data:{rapidViewId:GH.RapidBoard.Config.Columns.model.rapidViewId}},"columnConfig");return a.done(GH.RapidBoard.Config.Columns.processColumnMappingData),a},GH.RapidBoard.Config.Columns.processColumnMappingData=function(a){GH.RapidBoard.Config.Columns.model=a.rapidListConfig,GH.RapidBoard.Config.Columns.renderColumnMapping()},GH.RapidBoard.Config.Columns.containsStatus=function(a){var i=_.any(GH.RapidBoard.Config.Columns.model.unmappedStatuses,function(i){return i.id===a.id});return!!i||(_.any(GH.RapidBoard.Config.Columns.model.mappedColumns,function(n){if(i=_.any(n.mappedStatuses,function(i){return i.id===a.id}))return!0}),i)},GH.RapidBoard.Config.Columns.DnD={},GH.RapidBoard.Config.Columns.DnD.init=function(){GH.RapidBoard.Config.Columns.DnD.registerStatusDraggables()},GH.RapidBoard.Config.Columns.DnD.registerStatusDraggables=function(){AJS.$(".ghx-config-status").agileSortable({items:".ghx-status",connectWith:[".ghx-config-status"],placeholder:"ghx-sortable-status-placeholder",start:GH.RapidBoard.Config.Columns.DnD.statusDragStart,stop:GH.RapidBoard.Config.Columns.DnD.statusDragStop})},GH.RapidBoard.Config.Columns.DnD.statusDragStart=function(a,i){var n=AJS.$(".ghx-sortable-status-placeholder"),o=n.outerWidth(),e=n.outerHeight();i.item.width(o),i.item.height(e),GH.RapidBoard.Util.InlineEditable.cancelActiveEdits()},GH.RapidBoard.Config.Columns.DnD.statusDragStop=function(a,i){AJS.$(".tipsy").hide(),i.item.width(AJS.$(".ghx-constraints").width());var n=GH.RapidBoard.Config.Columns.model.showEpicAsPanel,o=GH.RapidBoard.Config.Columns._getModifiedModel(),t=l(o);if(t&&!r(o)&&n){var s=e.createAutoOffShowEpicAsPanelDialog();s.show(),s.on("submit",function(){GH.RapidBoard.Config.Columns.save(!1,function(){GH.RapidBoard.Config.Columns.updateShowEpicAsPanel(!1,function(){GH.RapidBoard.Config.Columns.trigger(GH.RapidBoard.Config.Columns.BACKLOG_COLUMN_STATUS_UPDATE),d.trigger("auto-off")})})}),s.on("cancel",function(){GH.RapidBoard.Config.Columns.renderColumnMapping(),AJS.trigger("analyticsEvent",{name:"jira-software.configuration.disable-kanplan-dialog.click.cancel"})})}else GH.RapidBoard.Config.Columns.save(!1,function(){t&&GH.RapidBoard.Config.Columns.trigger(GH.RapidBoard.Config.Columns.BACKLOG_COLUMN_STATUS_UPDATE)})},GH.RapidBoard.Config.Columns.EditField={},GH.RapidBoard.Config.Columns.EditField.MAX_ISSUE_COUNT_LIMIT=1e3,GH.RapidBoard.Config.Columns.EditField.init=function(){},GH.RapidBoard.Config.Columns.EditField.constraintsData=function(a,i){var n=GH.RapidBoard.Util.InlineEditable.defaultFieldData(a,i);return n.columnIndex=a.attr("data-columnindex"),n},GH.RapidBoard.Config.Columns.EditField.renderConstraintInlineEdit=function(a){var i=GH.RapidBoard.Util.InlineEditable.renderTextFieldInlineEdit(a,GH.tpl.columnconfig.renderCapacityFieldEdit);return i},GH.RapidBoard.Config.Columns.EditField.preInlineEditCallback=function(a){AJS.$('#ghx-mapping .ghx-header input[type="text"]').blur()},GH.RapidBoard.Config.Columns.EditField.columnNameValidation=function(a){var i=a.editElement.val();return!!GH.Validation.notBlank(a.editElement,"Name is a required field")&&(a.newValue=i,!0)},GH.RapidBoard.Config.Columns.EditField.constraintValidation=function(a){var i=a.editElement.val();i=AJS.$.trim(i);var n=a.editElement.parent().find(":not(.ghx-error):last"),o=a.fieldName,e=a.columnIndex;if(""!==i){if(i=parseInt(i,10),isNaN(i))return GH.Validation.showContextualErrors(n,"Constraint must be a number"),!1;if(i=Math.floor(i),i<0)return GH.Validation.showContextualErrors(n,AJS.format("Constraint must be greater than or equal to {0}",0)),!1;if(i>=GH.RapidBoard.Config.Columns.EditField.MAX_ISSUE_COUNT_LIMIT)return GH.Validation.showContextualErrors(n,AJS.format("Constraint must be less than {0}",GH.RapidBoard.Config.Columns.EditField.MAX_ISSUE_COUNT_LIMIT)),!1;var d="min"===o?"max":"min",t=AJS.$("#ghx-mapping .ghx-mapped .js-edit-"+d+"[data-columnindex="+e+"]").attr("data-fieldvalue");if(""!==t)if(t=parseInt(t,10),"min"===o){if(i>t)return GH.Validation.showContextualErrors(n,"Minimum constraint must be less than or equal to the maximum constraint"),!1}else if(i<t)return GH.Validation.showContextualErrors(n,"Maximum constraint must be greater than or equal to the minimum constraint"),!1}return a.newValue=i,!0},GH.RapidBoard.Config.Columns.EditField.saveEditChanges=function(a){GH.RapidBoard.Util.InlineEditable.updateView(a),GH.RapidBoard.Config.Columns.save(!1)},GH.RapidBoard.Config.Columns.EditField.renderColumnNameView=function(a){var i=AJS.$(GH.tpl.columnconfig.renderColumnNameField({canEdit:!0,fieldName:a.fieldName,fieldValue:a.newValue,displayValue:a.newValue}));return i},GH.RapidBoard.Config.Columns.EditField.renderColumnConstraintView=function(a){var i,n=a.newValue,o=_.isNumber(n);return i=AJS.$(GH.tpl.columnconfig.renderCapacityField({canEdit:!0,fieldName:a.fieldName,fieldValue:n,index:a.columnIndex,hasValue:o}))},GH.RapidBoard.Config.Columns.EditField.registerInlineEdits=function(){var a=GH.RapidBoard.Util.InlineEditable,i=GH.RapidBoard.Config.Columns.EditField;a.register("#ghx-mapping .ghx-mapped .js-edit-name-trigger",{preEdit:i.preInlineEditCallback,validate:i.columnNameValidation,save:i.saveEditChanges,renderView:i.renderColumnNameView}),a.register("#ghx-mapping .ghx-mapped .js-edit-min,.js-edit-max",{getData:i.constraintsData,preEdit:i.preInlineEditCallback,renderEdit:i.renderConstraintInlineEdit,validate:i.constraintValidation,save:i.saveEditChanges,renderView:i.renderColumnConstraintView})},GH.RapidBoard.Config.Columns.resolutionUpdate=function(){var a=AJS.$(this),i=a.is(":checked"),o=a.closest(".ghx-status").attr("data-statusid"),e=parseInt(a.closest(".ghx-config-status").attr("data-column-id"),10),d=_.findWhere(GH.RapidBoard.Config.Columns.model.mappedColumns,{id:e}),t=_.findWhere(d.mappedStatuses,{id:o});t.isResolutionDone=i,n.post({url:"/workflow/status/resolution",data:{rapidViewId:GH.RapidBoard.Config.Columns.model.rapidViewId,statusId:o,done:i}})},GH.RapidBoard.Config.Columns.shouldRenderKanbanBacklogColumn=function(){return GH.RapidBoard.Config.Columns.kanPlanConfig.isKanbanBoard}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/ColumnConfig.soy' */
// This file was automatically generated from ColumnConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.columnconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.columnconfig == 'undefined') { GH.tpl.columnconfig = {}; }


GH.tpl.columnconfig.renderColumnMappingView = function(opt_data, opt_ignored) {
  return '' + GH.tpl.columnconfig.renderConfigColumns(opt_data) + GH.tpl.columnconfig.renderColumnMapping(opt_data);
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderColumnMappingView.soyTemplateName = 'GH.tpl.columnconfig.renderColumnMappingView';
}


GH.tpl.columnconfig.renderConfigColumns = function(opt_data, opt_ignored) {
  var output = '<div id="ghx-config-columns" class="ghx-config-columns"><h2>' + soy.$$escapeHtml('Column management') + '</h2><p>' + soy.$$escapeHtml('Columns can be added, removed, reordered and renamed. Columns are based upon global statuses and can be moved between columns. Minimum and maximum constraints can be set for each mapped column.') + '</p><form class="aui"><div class="field-group"><label>' + soy.$$escapeHtml('Column Constraint') + '</label><select id="ghx-statisticsfield-select" class="select" ' + ((opt_data.model.canEdit != true) ? 'disabled="disabled"' : '') + '>';
  var fieldList27 = opt_data.model.statisticsFields;
  var fieldListLen27 = fieldList27.length;
  for (var fieldIndex27 = 0; fieldIndex27 < fieldListLen27; fieldIndex27++) {
    var fieldData27 = fieldList27[fieldIndex27];
    output += '<option value="' + soy.$$escapeHtml(fieldData27.id) + '" ' + ((fieldData27.id == opt_data.model.currentStatisticsField.id) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(fieldData27.name) + '</option>';
  }
  output += '</select><div class="description">' + soy.$$escapeHtml('Constraints can be added to columns on the board for one statistic.') + '</div></div>' + ((opt_data.model.workflow.isSimplifiedWorkflowFeatureEnabled) ? '<div class="field-group"><label>' + soy.$$escapeHtml('Simplified Workflow') + '</label>' + ((opt_data.model.workflow.usingSimplifiedWorkflow) ? '<div class="field-value">' + soy.$$escapeHtml('Using Simplified Workflow') + '</div><div class="description">' + soy.$$filterNoAutoescape(AJS.format('The {0}workflow{1} for project {2}{3}{4} is currently managed by Jira Software. Project Administrators can add and remove statuses below.','<a href="' + opt_data.adminWorkflowUrl + '">','</a>','<b>',opt_data.simplifiedWorkflowProjectName,'</b>')) + GH.tpl.columnconfig.renderSimplifiedWorkflowHelp(opt_data) + '</div>' : (opt_data.model.workflow.canSimplifyWorkflow) ? '<button id="js-convert-workflow" class="aui-button ghx-button-inline" ' + ((! opt_data.model.workflow.userCanSimplifyWorkflow || opt_data.model.canEdit != true) ? ' disabled="true"' : '') + '>' + soy.$$escapeHtml('Simplify workflow') + '</button><div class="description">' + soy.$$filterNoAutoescape(AJS.format('Simplify the workflow for project {0}{1}{2} to make it managed by Jira Software. This will allow Project Administrators to add and remove statuses below.','<b>',opt_data.simplifiedWorkflowProjectName,'</b>')) + GH.tpl.columnconfig.renderSimplifiedWorkflowHelp(opt_data) + ((! opt_data.model.workflow.userCanSimplifyWorkflow && opt_data.model.canEdit == true) ? '<br/>' + soy.$$filterNoAutoescape(AJS.format('{0}Contact an administrator{1} to perform this action.','<a href="' + opt_data.contactAdminUrl + '">','</a>')) : '') + '</div>' : '<div class="field-value">' + soy.$$escapeHtml('Software Simplified Workflow unavailable') + '</div><div class="description">' + soy.$$escapeHtml('This board is unable to use a Software Simplified Workflow.') + GH.tpl.columnconfig.renderSimplifiedWorkflowHelp(opt_data) + '</div>') + '</div>' : '') + ((opt_data.isKanPlanEnabled) ? '<div class="field-group"><label for="ghx-checkbox-epic-appearance">' + soy.$$escapeHtml('Epics panel') + '</label><aui-toggle id="ghx-checkbox-epic-appearance"' + ((opt_data.model.showEpicAsPanel) ? ' checked="checked"' : '') + 'label="' + soy.$$escapeHtml('Epics panel') + '"></aui-toggle><div class="description">' + soy.$$escapeHtml('Display epics in a panel in the backlog, and not as cards on the board') + '</div></div>' : '') + '</form><div class="ghx-toolbar ghx-config-column-toolbar aui-buttons">';
  if (opt_data.model.workflow.isSimplifiedWorkflowFeatureEnabled && opt_data.model.workflow.usingSimplifiedWorkflow) {
    var title__soy101 = '' + ((opt_data.model.workflow.isProjectAdminOfSimplifiedWorkflow != true) ? soy.$$filterNoAutoescape(AJS.format('Only users who have Administer Project permission on project \x27\x27{0}\x27\x27 can add statuses to this board.',opt_data.model.workflow.simplifiedWorkflowProjectName)) : '');
    var disabled__soy106 = opt_data.model.canEdit == false || opt_data.model.workflow.isProjectAdminOfSimplifiedWorkflow == false;
    output += aui.buttons.button({id: 'ghx-config-addstatus', isDisabled: disabled__soy106, extraAttributes: {title: title__soy101}, text: 'Add status'});
  }
  var disabled__soy112 = opt_data.model.canEdit == false;
  output += aui.buttons.button({id: 'ghx-config-addcolumn', isDisabled: disabled__soy112, text: 'Add column'}) + '</div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderConfigColumns.soyTemplateName = 'GH.tpl.columnconfig.renderConfigColumns';
}


GH.tpl.columnconfig.renderColumnMapping = function(opt_data, opt_ignored) {
  var output = '<div id="ghx-mapping" data-last-updated="' + soy.$$escapeHtml(opt_data.lastUpdated) + '">';
  if (opt_data.shouldRenderKanbanBacklogColumn) {
    var columnList124 = opt_data.model.mappedColumns;
    var columnListLen124 = columnList124.length;
    for (var columnIndex124 = 0; columnIndex124 < columnListLen124; columnIndex124++) {
      var columnData124 = columnList124[columnIndex124];
      output += (columnData124.isKanPlanColumn) ? GH.tpl.columnconfig.renderBacklogColumn({column: columnData124, canEdit: opt_data.model.canEdit, simplifiedWorkflow: opt_data.model.workflow.usingSimplifiedWorkflow, statuses: columnData124.mappedStatuses, statisticsFieldEnabled: opt_data.model.currentStatisticsField.isEnabled, numberOfColumns: opt_data.model.mappedColumns.length, kanbanBacklogUrl: opt_data.kanbanBacklogUrl}) : GH.tpl.columnconfig.renderMappingColumn({simplifiedWorkflow: opt_data.model.workflow.usingSimplifiedWorkflow, canEdit: opt_data.model.canEdit, statisticsField: opt_data.model.currentStatisticsField, column: columnData124, index: columnIndex124, numberOfColumns: opt_data.model.mappedColumns.length, shouldRenderKanbanBacklogColumn: opt_data.shouldRenderKanbanBacklogColumn, canUpdateResolution: opt_data.model.workflow.isProjectAdminOfSimplifiedWorkflow});
    }
    output += GH.tpl.columnconfig.renderUnmappedColumn({simplifiedWorkflow: opt_data.model.workflow.usingSimplifiedWorkflow, unmappedStatusesWithIssues: opt_data.model.unmappedStatusesWithIssues, unmappedStatusesWithoutIssues: opt_data.model.unmappedStatusesWithoutIssues, numberOfColumns: opt_data.model.mappedColumns.length, statisticsFieldEnabled: opt_data.model.currentStatisticsField.isEnabled, canDeleteStatus: opt_data.model.workflow.usingSimplifiedWorkflow && opt_data.model.workflow.isProjectAdminOfSimplifiedWorkflow && opt_data.model.canEdit});
  } else {
    var columnList154 = opt_data.model.mappedColumns;
    var columnListLen154 = columnList154.length;
    for (var columnIndex154 = 0; columnIndex154 < columnListLen154; columnIndex154++) {
      var columnData154 = columnList154[columnIndex154];
      output += (columnData154.isKanPlanColumn == false) ? GH.tpl.columnconfig.renderMappingColumn({simplifiedWorkflow: opt_data.model.workflow.usingSimplifiedWorkflow, canEdit: opt_data.model.canEdit, statisticsField: opt_data.model.currentStatisticsField, column: columnData154, index: columnIndex154, numberOfColumns: opt_data.model.mappedColumns.length, shouldRenderKanbanBacklogColumn: opt_data.shouldRenderKanbanBacklogColumn, canUpdateResolution: opt_data.model.workflow.isProjectAdminOfSimplifiedWorkflow}) : '';
    }
    output += GH.tpl.columnconfig.renderUnmappedColumn({simplifiedWorkflow: opt_data.model.workflow.usingSimplifiedWorkflow, unmappedStatusesWithIssues: opt_data.model.unmappedStatusesWithIssues, unmappedStatusesWithoutIssues: opt_data.model.unmappedStatusesWithoutIssues, numberOfColumns: opt_data.model.mappedColumns.length, statisticsFieldEnabled: opt_data.model.currentStatisticsField.isEnabled, canDeleteStatus: opt_data.model.workflow.usingSimplifiedWorkflow && opt_data.model.workflow.isProjectAdminOfSimplifiedWorkflow && opt_data.model.canEdit});
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderColumnMapping.soyTemplateName = 'GH.tpl.columnconfig.renderColumnMapping';
}


GH.tpl.columnconfig.renderSimplifiedWorkflowHelp = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.simplifiedWorkflowLearnMoreUrl) + '"><span title="' + soy.$$escapeHtml('Learn more about Software Simplified Workflow') + '" class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-help">' + soy.$$escapeHtml('Learn more about Software Simplified Workflow') + '</span></a>';
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderSimplifiedWorkflowHelp.soyTemplateName = 'GH.tpl.columnconfig.renderSimplifiedWorkflowHelp';
}


GH.tpl.columnconfig.renderMappingColumn = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-column-wrapper" style="width:' + soy.$$escapeHtml(100 / (opt_data.numberOfColumns + 1)) + '%;"><ul class="ghx-config-status ghx-mapped' + ((opt_data.column.isFirstColumnWithStatuses) ? ' ghx-first' : (opt_data.column.isLastColumnWithStatuses) ? ' ghx-last' : '') + ((opt_data.column.mappedStatuses.length == 0) ? ' ghx-no-status-column' : '') + '" data-column-id="' + soy.$$escapeHtml(opt_data.column.id) + '"><li class="ghx-header"><div class="ghx-config-operator"><div class="ghx-action ghx-config-move"></div>' + ((opt_data.shouldRenderKanbanBacklogColumn && opt_data.numberOfColumns > 2 || ! opt_data.shouldRenderKanbanBacklogColumn && opt_data.numberOfColumns > 1) ? '<div class="ghx-action ghx-config-delete" data-deleteindex="' + soy.$$escapeHtml(opt_data.index) + '"><span class="aui-icon aui-icon-small aui-iconfont-delete js-column-delete"></span></div>' : '') + '</div>' + GH.tpl.columnconfig.renderColumnNameField({canEdit: opt_data.canEdit, fieldName: 'name', fieldValue: opt_data.column.name, displayValue: opt_data.column.name}) + ((opt_data.statisticsField.isEnabled) ? GH.tpl.columnconfig.renderCapacities(opt_data) : '') + '<div class="ghx-border-bottom"/></li>';
  if (opt_data.column.mappedStatuses.length == 0) {
    output += '<li class="ghx-no-status-column-text">' + soy.$$escapeHtml('This column will not show on the board without a status') + '</li>';
  } else {
    var statusList222 = opt_data.column.mappedStatuses;
    var statusListLen222 = statusList222.length;
    for (var statusIndex222 = 0; statusIndex222 < statusListLen222; statusIndex222++) {
      var statusData222 = statusList222[statusIndex222];
      output += GH.tpl.columnconfig.renderStatus({simplifiedWorkflow: opt_data.simplifiedWorkflow, canUpdateResolution: opt_data.canUpdateResolution, status: statusData222, canDeleteStatus: false});
    }
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderMappingColumn.soyTemplateName = 'GH.tpl.columnconfig.renderMappingColumn';
}


GH.tpl.columnconfig.renderUnmappedColumn = function(opt_data, opt_ignored) {
  return '<div class="ghx-column-wrapper ghx-fixed-column" style="width:' + soy.$$escapeHtml(100 / (opt_data.numberOfColumns + 1)) + '%;"><ul class="ghx-config-status ghx-unmapped ' + ((opt_data.statisticsFieldEnabled) ? 'ghx-statistics-enabled' : '') + '"><li class="ghx-header"><h3 class="ghx-header-name" title="' + soy.$$escapeHtml('Unmapped Statuses') + '">' + soy.$$escapeHtml('Unmapped Statuses') + '</h3><span title="' + soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml('Issues in these statuses won\x27t show on the Kanban board or Kanban backlog.')) + '" class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-help"></span><div class="ghx-border-bottom"/></li>' + GH.tpl.columnconfig.renderUnmappedColumnBody(opt_data) + '</ul></div>';
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderUnmappedColumn.soyTemplateName = 'GH.tpl.columnconfig.renderUnmappedColumn';
}


GH.tpl.columnconfig.renderBacklogColumn = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-column-wrapper ghx-fixed-column ghx-kanplan-backlog-column" style="width:' + soy.$$escapeHtml(100 / (opt_data.numberOfColumns + 1)) + '%;"><div class="ghx-top-header" style=\'height:' + ((opt_data.statisticsFieldEnabled) ? '139px' : '32px') + '\'>' + GH.tpl.columnconfig.renderColumnNameField({canEdit: false, fieldName: 'name', fieldValue: 'Kanban backlog', displayValue: 'Kanban backlog'}) + '</div><div class="ghx-border-bottom"/><ul class="ghx-config-status ghx-mapped ghx-kanplan-backlog" data-column-id="' + soy.$$escapeHtml(opt_data.column.id) + '"><li class="ghx-header"><div class="ghx-backlog-column-image"></div><div class="ghx-backlog-column-container"></div></li>' + ((opt_data.statuses.length == 0) ? '<li class="ghx-no-status-text"><strong>' + soy.$$escapeHtml('Board getting full?') + '</strong><p>' + soy.$$escapeHtml('With the Kanban backlog, you can plan your team\x27s work in a dedicated space away from the board.') + '</p>' + ((opt_data.canEdit) ? '<div class="ghx-drag-status-zone"><div>' + soy.$$escapeHtml('Drag a status here to enable') + '</div></div>' : '') + '</li>' : '');
  var statusList281 = opt_data.statuses;
  var statusListLen281 = statusList281.length;
  for (var statusIndex281 = 0; statusIndex281 < statusListLen281; statusIndex281++) {
    var statusData281 = statusList281[statusIndex281];
    output += GH.tpl.columnconfig.renderStatus({simplifiedWorkflow: opt_data.simplifiedWorkflow, canUpdateResolution: false, status: statusData281, canDeleteStatus: false});
  }
  output += '</ul><div class="ghx-footer"><a href="' + soy.$$escapeHtml(opt_data.kanbanBacklogUrl) + '" target="_blank">' + soy.$$escapeHtml('What is Kanban backlog?') + '</a></div></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderBacklogColumn.soyTemplateName = 'GH.tpl.columnconfig.renderBacklogColumn';
}


GH.tpl.columnconfig.renderUnmappedColumnBody = function(opt_data, opt_ignored) {
  var output = '' + ((opt_data.unmappedStatusesWithIssues.length > 0) ? '<li><h4>' + soy.$$escapeHtml('Statuses containing issues') + '</h4><p class="ghx-description">' + soy.$$escapeHtml('Not visible on the board') + '</p></li>' : '');
  var statusList301 = opt_data.unmappedStatusesWithIssues;
  var statusListLen301 = statusList301.length;
  for (var statusIndex301 = 0; statusIndex301 < statusListLen301; statusIndex301++) {
    var statusData301 = statusList301[statusIndex301];
    output += GH.tpl.columnconfig.renderStatus({simplifiedWorkflow: opt_data.simplifiedWorkflow, canUpdateResolution: false, status: statusData301, canDeleteStatus: false});
  }
  output += ((opt_data.unmappedStatusesWithIssues.length > 0 && opt_data.unmappedStatusesWithoutIssues.length > 0) ? '<li class="ghx-hr"></li>' : '') + ((opt_data.unmappedStatusesWithoutIssues.length > 0) ? '<li><h4>' + soy.$$escapeHtml('Statuses not containing issues') + '</h4></li>' : '');
  var statusList316 = opt_data.unmappedStatusesWithoutIssues;
  var statusListLen316 = statusList316.length;
  for (var statusIndex316 = 0; statusIndex316 < statusListLen316; statusIndex316++) {
    var statusData316 = statusList316[statusIndex316];
    output += GH.tpl.columnconfig.renderStatus({simplifiedWorkflow: opt_data.simplifiedWorkflow, canUpdateResolution: false, status: statusData316, canDeleteStatus: opt_data.canDeleteStatus});
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderUnmappedColumnBody.soyTemplateName = 'GH.tpl.columnconfig.renderUnmappedColumnBody';
}


GH.tpl.columnconfig.renderStatus = function(opt_data, opt_ignored) {
  return '<li><div class="ghx-status' + ((! opt_data.status.isPresentInWorkflow == true) ? ' ghx-not-present' : '') + '" data-statusid="' + soy.$$escapeHtml(opt_data.status.id) + '"><div class="ghx-name' + ((opt_data.canDeleteStatus) ? ' ghx-has-bin' : '') + ((! opt_data.status.isPresentInWorkflow == true) ? ' ghx-has-warning' : '') + '"><div class="ghx-lozenge-wrap">' + GH.tpl.status.renderFull(opt_data) + '</div></div><div><div class="ghx-qty">' + soy.$$escapeHtml(AJS.format('{0,choice,0#No issues|1#{0} issue|2#{0} issues}',opt_data.status.issueCount)) + '</div><div class="ghx-done">' + ((opt_data.simplifiedWorkflow) ? '<label><input id="resolution-update-' + soy.$$escapeHtml(opt_data.status.id) + '" class="js-resolution-update" data-tooltip="' + soy.$$escapeHtml('Tick to set the resolution to \x27Done\x27 when an issue is transitioned to this status') + '" type="checkbox"' + ((! opt_data.canUpdateResolution || ! opt_data.status.isPresentInWorkflow == true) ? ' disabled="true" ' : '') + ((opt_data.status.isResolutionDone) ? ' checked="checked" ' : '') + '><span class=' + soy.$$escapeHtml(opt_data.canUpdateResolution ? '' : 'ghx-resolution-update-disabled') + '>' + soy.$$escapeHtml('Set resolution') + '</span></label>' : '') + '</div></div><div class="ghx-actions">' + ((! opt_data.status.isPresentInWorkflow == true) ? '<span class="ghx-icon ghx-icon-warning"  title="' + soy.$$escapeHtml('This status is not available in any of the workflows used by this board. To remove, drag it to unmapped statuses where it will no longer be available.') + '"></span>' : '') + ((opt_data.canDeleteStatus) ? '<a class="js-remove-status ghx-remove-status" rel="nofollow"><span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-remove" title="' + soy.$$escapeHtml('Remove Status') + '">' + soy.$$escapeHtml('Remove Status') + '</span></a>' : '') + '</div></div></li>';
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderStatus.soyTemplateName = 'GH.tpl.columnconfig.renderStatus';
}


GH.tpl.columnconfig.renderCapacities = function(opt_data, opt_ignored) {
  return '<div class="ghx-constraints">' + GH.tpl.columnconfig.renderCapacityField({canEdit: opt_data.canEdit, fieldName: 'min', fieldValue: opt_data.column.min, index: opt_data.index, hasValue: opt_data.column.min != '' ? true : false}) + GH.tpl.columnconfig.renderCapacityField({canEdit: opt_data.canEdit, fieldName: 'max', fieldValue: opt_data.column.max, index: opt_data.index, hasValue: opt_data.column.max != '' ? true : false}) + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderCapacities.soyTemplateName = 'GH.tpl.columnconfig.renderCapacities';
}


GH.tpl.columnconfig.renderCapacityField = function(opt_data, opt_ignored) {
  var output = '';
  var placeholder__soy391 = opt_data.fieldName == 'min' ? 'No Min' : 'No Max';
  var title__soy392 = opt_data.fieldName == 'min' ? 'Minimum constraint for this column' : 'Maximum constraint for this column';
  var displayValue__soy393 = opt_data.hasValue ? opt_data.fieldValue : placeholder__soy391;
  output += '<span class="field-value' + ((opt_data.canEdit) ? ' js-editable-field js-edit-' + soy.$$escapeHtml(opt_data.fieldName) + ' ghx-editable' : '') + ' ghx-busted ghx-busted-' + soy.$$escapeHtml(opt_data.fieldName) + '" data-fieldname="' + soy.$$escapeHtml(opt_data.fieldName) + '" data-fieldvalue="' + soy.$$escapeHtml(opt_data.fieldValue) + '" data-columnindex=' + soy.$$escapeHtml(opt_data.index) + ' title="' + soy.$$escapeHtml(title__soy392) + '">' + soy.$$escapeHtml(displayValue__soy393) + '</span>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderCapacityField.soyTemplateName = 'GH.tpl.columnconfig.renderCapacityField';
}


GH.tpl.columnconfig.renderCapacityFieldEdit = function(opt_data, opt_ignored) {
  return '<input type="text" maxlength="5" name="' + soy.$$escapeHtml(opt_data.fieldName) + '" class=" ghx-busted ghx-busted-' + soy.$$escapeHtml(opt_data.fieldName) + '" data-columnindex=' + soy.$$escapeHtml(opt_data.index) + '>';
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderCapacityFieldEdit.soyTemplateName = 'GH.tpl.columnconfig.renderCapacityFieldEdit';
}


GH.tpl.columnconfig.renderColumnNameField = function(opt_data, opt_ignored) {
  return '<h3 class="ghx-header-name ' + ((opt_data.canEdit) ? 'ghx-editable js-editable-field js-edit-' + soy.$$escapeHtml(opt_data.fieldName) + '-trigger' : '') + '" ' + ((opt_data.canEdit) ? 'tabindex="0"' : '') + ' data-fieldname="' + soy.$$escapeHtml(opt_data.fieldName) + '" data-fieldvalue="' + soy.$$escapeHtml(opt_data.fieldValue) + '" title="' + soy.$$escapeHtml(opt_data.displayValue) + '">' + soy.$$escapeHtml(opt_data.displayValue) + '</h3>';
};
if (goog.DEBUG) {
  GH.tpl.columnconfig.renderColumnNameField.soyTemplateName = 'GH.tpl.columnconfig.renderColumnNameField';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/ops/GHJQLAutoComplete.js' */
!function(){"use strict";var e=require("jquery");GH.JQLAutoComplete.setModel=function(e){GH.JQLAutoComplete.jqlFields=JSON.parse(e.JQLAutoComplete.jqlFields),GH.JQLAutoComplete.jqlFunctionNames=JSON.parse(e.JQLAutoComplete.jqlFunctionNames),GH.JQLAutoComplete.jqlReservedWords=JSON.parse(e.JQLAutoComplete.jqlReservedWords)},GH.JQLAutoComplete.initialize=function(o,t){var n=e("#"+o),i=n.length>0&&n[0]===document.activeElement,s=JIRA.JQLAutoComplete({fieldID:o,parser:JIRA.JQLAutoComplete.MyParser(GH.JQLAutoComplete.jqlReservedWords),queryDelay:.65,jqlFieldNames:GH.JQLAutoComplete.jqlFields,jqlFunctionNames:GH.JQLAutoComplete.jqlFunctionNames,minQueryLength:0,allowArrowCarousel:!0,autoSelectFirst:!1,errorID:t}),l=e("#"+o);l.unbind("keypress",submitOnEnter),s.buildResponseContainer(),s.parse(l.text()),s.updateColumnLineCount(),l.on("focus",function(){s.positionResponseContainer()}),l.click(function(){s.dropdownController.hideDropdown()}),i&&n.select(),n.data("ghJqlAutoComplete",s)},GH.JQLAutoComplete.fixSuggestionPositioning=function(o){var t=e("#"+o).data("ghJqlAutoComplete");t&&(t.positionResponseContainer||(t.positionResponseContainer=function(){this.responseContainer&&this.field&&this.responseContainer.css({top:this.field.outerHeight()})}),t.positionResponseContainer())}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/SwimlaneConfig.js' */
GH.RapidBoard.Config.Swimlanes={},GH.RapidBoard.Config.Swimlanes.Analytics={},function(){var e=require("jira-agile/rapid/analytics-tracker");GH.RapidBoard.Config.Swimlanes.Analytics.base=new e("gh.swimlane"),GH.RapidBoard.Config.Swimlanes.Analytics.add=new e("gh.swimlane","create"),GH.RapidBoard.Config.Swimlanes.Analytics.edit=new e("gh.swimlane","edit"),GH.RapidBoard.Config.Swimlanes.Analytics.remove=new e("gh.swimlane","delete")}(),GH.RapidBoard.Config.Swimlanes.strategies=[{id:"custom",primarySelectId:"custom",inPrimarySelection:!0,name:"Queries",description:"Group issues by custom queries. Queries are based on JQL that is additional to the saved filter of this board."},{id:"parentChild",primarySelectId:"parentChild",inPrimarySelection:!0,name:"Stories",description:"Group sub-tasks under their parent issue. Issues without sub-tasks will be shown in their own group at the bottom."},{id:"assignee",primarySelectId:"assignee",inPrimarySelection:!0,name:"Assignees",description:"Group issues by their assignee"},{id:"assigneeUnassignedFirst",primarySelectId:"assignee",inPrimarySelection:!1,name:"Assignees",description:"Group issues by their assignee"},{id:"epic",primarySelectId:"epic",inPrimarySelection:!0,name:"Epics",description:"Group issues under their epic. Issues not assigned to an epic will be shown in their own group at the bottom. Epics with no issues on the board will not be shown."},{id:"project",primarySelectId:"project",inPrimarySelection:!0,name:"Projects",description:"Group issues by their projects."},{id:"none",primarySelectId:"none",inPrimarySelection:!0,name:"No Swimlanes",description:"No swimlanes will be displayed."}],GH.RapidBoard.Config.Swimlanes.assigneeStrategies=[{id:"assignee",name:"Show below other swimlanes"},{id:"assigneeUnassignedFirst",name:"Show above other swimlanes"}],GH.RapidBoard.Config.Swimlanes.TableColumns=[{id:"name",header:"Name",fieldName:"name"},{id:"query",header:"JQL",fileName:"query",editView:GH.RapidBoard.Config.Util.JQLEditView.extend({namespace:"ghx-swimlane"})},{id:"description",header:"Description",fileName:"description",editView:GH.RapidBoard.Config.Util.TextAreaEditView}],GH.RapidBoard.Config.Swimlanes.model=void 0,GH.RapidBoard.Config.Swimlanes.init=function(e){GH.RapidBoard.Config.Swimlanes.model=e.swimlanesConfig,e.isSprintSupportEnabled?GH.RapidBoard.Config.Swimlanes.boardType="scrum":e.isSimpleBoard?GH.RapidBoard.Config.Swimlanes.boardType="simple":GH.RapidBoard.Config.Swimlanes.boardType="kanban",GH.RapidBoard.Config.Swimlanes.renderConfig()},GH.RapidBoard.Config.Swimlanes.getStrategyById=function(e){return _.find(GH.RapidBoard.Config.Swimlanes.getStrategies(),function(i){return i.id==e})},GH.RapidBoard.Config.Swimlanes.renderConfig=function(){var e=GH.RapidBoard.Config.Swimlanes.model,i=e.canEdit,a=e.swimlaneStrategy,n=GH.RapidBoard.Config.Swimlanes.getStrategyById(a);n||(n=GH.RapidBoard.Config.Swimlanes.getStrategyById("none")),AJS.$("#ghx-config-swimlanes").html(GH.tpl.swimlaneconfig.renderSwimlaneConfigView({canEdit:i,selectedStrategy:n,strategies:GH.RapidBoard.Config.Swimlanes.getStrategies()})),GH.RapidBoard.Config.Swimlanes.updateStrategyConfig(n),AJS.$("#ghx-swimlanestrategy-select").change(GH.RapidBoard.Config.Swimlanes.saveStrategySelection)},GH.RapidBoard.Config.Swimlanes.getStrategies=function(){return _.filter(GH.RapidBoard.Config.Swimlanes.strategies,function(e){return!e.boardType||e.boardType==GH.RapidBoard.Config.Swimlanes.boardType})},GH.RapidBoard.Config.Swimlanes.updateStrategyConfig=function(e){switch(AJS.$("#ghx-swimlanestrategy-description").text(e.description),e.id){case"custom":return void GH.RapidBoard.Config.Swimlanes.initializeCustomConfig();case"assignee":case"assigneeUnassignedFirst":return void GH.RapidBoard.Config.Swimlanes.initializeAssigneeConfig(e);case"parentChild":case"none":default:GH.RapidBoard.Config.Swimlanes.initializeNone()}},GH.RapidBoard.Config.Swimlanes.saveStrategySelection=function(e){var i=AJS.$("#ghx-swimlanestrategy-select").val(),a=AJS.$("#ghx-assignee-strategy-select").val(),n=GH.RapidBoard.Config.Swimlanes.model.swimlaneStrategy,t="assignee"===i&&a?a:i,s=GH.RapidBoard.Config.Swimlanes.getStrategyById(t);if(s){GH.RapidBoard.Config.Swimlanes.model.swimlaneStrategy=s.id;GH.RapidBoard.Config.Swimlanes.updateStrategyConfig(s);var d=GH.RapidBoard.Config.Swimlanes.model.rapidViewId;GH.Ajax.put({url:"/rapidviewconfig/swimlaneStrategy",data:{id:d,swimlaneStrategyId:s.id}}).done(function(){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("swimLaneStrategy",{oldValId:n,newValId:t}),JIRA.trace("gh.swimlanes.strategy.saved")})}},GH.RapidBoard.Config.Swimlanes.initializeAssigneeConfig=function(e){var i=GH.RapidBoard.Config.Swimlanes.model,a=i.canEdit;AJS.$("#ghx-swimlane-strategy-config").html(GH.tpl.swimlaneconfig.renderAssigneeStrategyConfig({canEdit:a,assigneeStrategies:GH.RapidBoard.Config.Swimlanes.assigneeStrategies,selectedStrategy:e})),AJS.$("#ghx-assignee-strategy-select").change(GH.RapidBoard.Config.Swimlanes.saveStrategySelection)},GH.RapidBoard.Config.Swimlanes.initializeNone=function(){AJS.$("#ghx-swimlane-strategy-config").empty()},GH.RapidBoard.Config.Swimlanes.initializeCustomConfig=function(){var e=GH.RapidBoard.Config.Swimlanes.model,i=e.canEdit,a=e.rapidViewId,n=e.swimlanes;if(!i)for(var t=0;t<n.length;t++)n[t].readonly=!0;AJS.$("#ghx-swimlane-strategy-config").html('<table id="ghx-swimlane-table" class="aui"></table>');var s=new GH.RestfulTable({el:AJS.$("#ghx-swimlane-table"),resources:{all:function(e){e(GH.RapidBoard.Config.Swimlanes.model.swimlanes)},self:GH.Ajax.buildRestUrl("/swimlanes/"+a+"/")},columns:GH.RapidBoard.Config.Swimlanes.TableColumns,deleteConfirmation:{header:"Delete",content:function(e){return GH.tpl.rapid.view.deleteForm({message:AJS.format("Are you sure you want to delete Swimlane \u003cstrong\u003e{0}\u003c/strong\u003e?",AJS.escapeHTML(String(e.name)))})}},views:{row:GH.RapidBoard.Config.Swimlanes.Row,editRow:GH.RapidBoard.Config.Swimlanes.EditRow},allowEdit:i,allowDelete:i,allowReorder:i,allowCreate:i}),d=s.getModels();d.on("add",function(e,i){GH.RapidBoard.Config.Swimlanes.model.swimlanes=i.toJSON()}),d.on("remove",function(e,i){GH.RapidBoard.Config.Swimlanes.model.swimlanes=i.toJSON()}),d.on("change",function(e,i){var a=this;setTimeout(function(){GH.RapidBoard.Config.Swimlanes.model.swimlanes=a.toJSON()},0)}),AJS.$(s).bind(GH.RestfulTable.Events.REORDER_SUCCESS,function(){GH.RapidBoard.Config.Swimlanes.model.swimlanes=this.getModels().sort().toJSON()}),s.$tbody.agileSortable("option","items","> .js-sortable"),e.canEdit&&(_.delay(GH.JQLAutoComplete.initialize,0,"ghx-swimlane-jql-create","ghx-swimlane-jql-errormsg-create"),AJS.$(document).bind("tabSelect",function(e,i){GH.JQLAutoComplete.fixSuggestionPositioning("ghx-swimlane-jql-create")}),AJS.$(s).bind(GH.RestfulTable.Events.ROW_REMOVED,function(e,i){GH.RapidBoard.Config.Swimlanes.Analytics.remove.trigger(i.model.attributes.query)}))},GH.RapidBoard.Config.Swimlanes.Row=GH.RestfulTable.Row.extend({render:function(){GH.RestfulTable.Row.prototype.render.apply(this,arguments);var e=this.model.get("isDefault");return this.$el.toggleClass("js-sortable",!e).toggleClass("ghx-default-swimlane",e),e&&this.$el.find(".aui-restfultable-delete").remove(),this}}),GH.RapidBoard.Config.Swimlanes.EditRow=GH.RestfulTable.EditRow.extend({submit:function(){var e=this.$el.serializeObject(),i=this.model.attributes.query,a=e&&e.query?e.query:"";return this.model.id?GH.RapidBoard.Config.Swimlanes.Analytics.edit.trigger("old: "+i+", new: "+a):GH.RapidBoard.Config.Swimlanes.Analytics.add.trigger(a),GH.RestfulTable.EditRow.prototype.submit.apply(this,arguments)}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/SwimlaneConfig.soy' */
// This file was automatically generated from SwimlaneConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.swimlaneconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.swimlaneconfig == 'undefined') { GH.tpl.swimlaneconfig = {}; }


GH.tpl.swimlaneconfig.renderSwimlaneConfigView = function(opt_data, opt_ignored) {
  var output = '<h2>' + soy.$$escapeHtml('Swimlanes') + '</h2><p>' + soy.$$escapeHtml('A swimlane is a row on the board that can be used to group issues. Swimlane type can be changed below and will be saved automatically. Note: queries will not be lost when changing to another swimlane type.') + '</p><form class="aui"><div class="field-group"><label>' + soy.$$escapeHtml('Base Swimlanes on') + '</label><select id="ghx-swimlanestrategy-select" class="select" ' + ((opt_data.canEdit != true) ? 'disabled="disabled"' : '') + '>';
  var strategyList14 = opt_data.strategies;
  var strategyListLen14 = strategyList14.length;
  for (var strategyIndex14 = 0; strategyIndex14 < strategyListLen14; strategyIndex14++) {
    var strategyData14 = strategyList14[strategyIndex14];
    output += (strategyData14.inPrimarySelection) ? '<option value="' + soy.$$escapeHtml(strategyData14.id) + '"' + ((strategyData14.id == opt_data.selectedStrategy.primarySelectId) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(strategyData14.name) + '</option>' : '';
  }
  output += '</select><div id="ghx-swimlanestrategy-description" class="description"></div></div></form><div id="ghx-swimlane-strategy-config" class="ghx-margin-top" />';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.swimlaneconfig.renderSwimlaneConfigView.soyTemplateName = 'GH.tpl.swimlaneconfig.renderSwimlaneConfigView';
}


GH.tpl.swimlaneconfig.renderAssigneeStrategyConfig = function(opt_data, opt_ignored) {
  var output = '<form class="aui"><div class="field-group"><label>' + soy.$$escapeHtml('Unassigned issues') + '</label><select id="ghx-assignee-strategy-select" class="select" ' + ((opt_data.canEdit != true) ? 'disabled="disabled"' : '') + '>';
  var strategyList36 = opt_data.assigneeStrategies;
  var strategyListLen36 = strategyList36.length;
  for (var strategyIndex36 = 0; strategyIndex36 < strategyListLen36; strategyIndex36++) {
    var strategyData36 = strategyList36[strategyIndex36];
    output += '<option value="' + soy.$$escapeHtml(strategyData36.id) + '"' + ((strategyData36.id == opt_data.selectedStrategy.id) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(strategyData36.name) + '</option>';
  }
  output += '</select></div></form>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.swimlaneconfig.renderAssigneeStrategyConfig.soyTemplateName = 'GH.tpl.swimlaneconfig.renderAssigneeStrategyConfig';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/QuickFilterConfig.js' */
!function(){"use strict";var i=require("jira-agile/rapid/analytics-tracker"),e=require("jquery");GH.RapidBoard.Config.QuickFilter={},GH.RapidBoard.Config.QuickFilter.model=void 0,GH.RapidBoard.Config.QuickFilter.Analytics={},GH.RapidBoard.Config.QuickFilter.Analytics.base=new i("gh.quickfilter"),GH.RapidBoard.Config.QuickFilter.Analytics.add=new i("gh.quickfilter","create"),GH.RapidBoard.Config.QuickFilter.Analytics.edit=new i("gh.quickfilter","edit"),GH.RapidBoard.Config.QuickFilter.Analytics.remove=new i("gh.quickfilter","delete"),GH.RapidBoard.Config.QuickFilter.TableColumns=[{id:"name",header:"Name",fieldName:"name"},{id:"query",header:"JQL",fieldName:"query",editView:GH.RapidBoard.Config.Util.JQLEditView.extend({namespace:"ghx-quick-filter"})},{id:"description",header:"Description",fieldName:"description",editView:GH.RapidBoard.Config.Util.TextAreaEditView}],GH.RapidBoard.Config.QuickFilter.init=function(i){GH.RapidBoard.Config.QuickFilter.model=i.quickFilterConfig,GH.RapidBoard.Config.QuickFilter.initializeTable()},GH.RapidBoard.Config.QuickFilter.initializeTable=function(){var i=GH.RapidBoard.Config.QuickFilter.model,t=i.canEdit,a=i.rapidViewId;AJS.$("#ghx-config-quickFilters").html(GH.tpl.quickfilterconfig.renderQuickFilterConfig());var r=new GH.RestfulTable({el:e("#ghx-quick-filter-table"),resources:{all:function(i){i(GH.RapidBoard.Config.QuickFilter.model.quickFilters)},self:GH.Ajax.buildRestUrl("/quickfilters/"+a+"/")},columns:GH.RapidBoard.Config.QuickFilter.TableColumns,deleteConfirmation:{header:"Delete",content:function(i){return GH.tpl.rapid.view.deleteForm({message:AJS.format("Are you sure you want to delete Quick Filter \u003cstrong\u003e{0}\u003c/strong\u003e?",AJS.escapeHTML(String(i.name)))})}},views:{editRow:GH.RestfulTable.EditRow.extend({submit:function(){var i=this.$el.serializeObject(),e=this.model.attributes.query,t=i&&i.query?i.query:"";if(this.model.id){var r="rapidViewId: "+a+", oldJql: '"+e+"', newJql: '"+t+"'";GH.RapidBoard.Config.QuickFilter.Analytics.edit.trigger(r),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("quickFilters")}else GH.RapidBoard.Config.QuickFilter.Analytics.add.trigger("rapidViewId: "+GH.RapidBoard.Config.editedRapidViewId+", jql: '"+t+"'"),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("quickFilters");return GH.RestfulTable.EditRow.prototype.submit.apply(this,arguments)}})},allowEdit:t,allowDelete:t,allowReorder:t,allowCreate:t});i.canEdit&&(_.delay(GH.JQLAutoComplete.initialize,0,"ghx-quick-filter-jql-create","ghx-quick-filter-jql-errormsg-create"),AJS.$(document).bind("tabSelect",function(){GH.JQLAutoComplete.fixSuggestionPositioning("ghx-quick-filter-jql-create")}),AJS.$(r).bind(GH.RestfulTable.Events.ROW_REMOVED,function(i,e){var t="rapidViewId: "+a+", jql: '"+e.model.attributes.query+"'";GH.RapidBoard.Config.QuickFilter.Analytics.remove.trigger(t),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("quickFilters")}))}}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/QuickFilterConfig.soy' */
// This file was automatically generated from QuickFilterConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.quickfilterconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.quickfilterconfig == 'undefined') { GH.tpl.quickfilterconfig = {}; }


GH.tpl.quickfilterconfig.renderQuickFilterConfig = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Quick Filters') + '</h2><p>' + soy.$$escapeHtml('Quick Filters can be used to further filter the issues in the board based on the additional JQL query.') + '</p><table id="ghx-quick-filter-table" class="aui"></table>';
};
if (goog.DEBUG) {
  GH.tpl.quickfilterconfig.renderQuickFilterConfig.soyTemplateName = 'GH.tpl.quickfilterconfig.renderQuickFilterConfig';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/EstimationConfig.js' */
GH.RapidBoard.Config.Estimation={},GH.RapidBoard.Config.Estimation.model=void 0,GH.RapidBoard.Config.Estimation.init=function(i){GH.RapidBoard.Config.Estimation.model=i.estimationStatisticConfig,GH.RapidBoard.Config.Estimation.initializeForm()},GH.RapidBoard.Config.Estimation.initializeForm=function(){var i=GH.RapidBoard.Config.Estimation.model,t={model:i,urls:{estimationAndTracking:{"url":"https://confluence.atlassian.com/display/JIRASOFTWARECLOUD/Configuring+Estimation+and+Tracking","isLocal":false}.url},currentTrackingStatisticIsNone:"none"==i.currentTrackingStatistic.typeId,trackingDescriptionNone:AJS.format("Issues will burn down their {0}{1}{2} value upon completion.","<b>",AJS.escapeHTML(String(i.currentEstimationStatistic.name)),"</b>")};"issueCount_"==i.currentEstimationStatistic.id?t.currentEstimateDescription="Your velocity from sprint to sprint will be measured by the number of issues completed in each sprint. However, you will not be required to enter any estimates against issues in the backlog.":"field_timeoriginalestimate"==i.currentEstimationStatistic.id?t.currentEstimateDescription=AJS.format("Estimate issues in the Backlog using durations (e.g. hours, ideal days). Your velocity from sprint to sprint will be measured against these estimates. This estimate will be stored against Jira\'\'s {0}Original Estimate{1} field on the issue.","<b>","</b>"):t.currentEstimateDescription=AJS.format("Estimate issues in the Backlog by entering values for {0}{1}{2}. Your velocity from sprint to sprint will be measured against these estimates.","<b>",AJS.escapeHTML(String(i.currentEstimationStatistic.name)),"</b>"),AJS.$("#ghx-config-estimation").html(GH.tpl.estimationconfig.renderEstimationConfigView(t)),GH.RapidBoard.Config.Estimation.attachListeners()},GH.RapidBoard.Config.Estimation.attachListeners=function(){AJS.$("#ghx-estimatestatistic-select").change(GH.RapidBoard.Config.Estimation.save),AJS.$(':radio[name="ghx-trackingstatistic"]').change(GH.RapidBoard.Config.Estimation.save)},GH.RapidBoard.Config.Estimation.save=function(){var i={estimateStatisticId:AJS.$("#ghx-estimatestatistic-select").val(),trackingStatisticId:AJS.$(':radio[name="ghx-trackingstatistic"]:checked').val(),rapidViewId:GH.RapidBoard.Config.Estimation.model.rapidViewId},t=function(i){GH.Notification.showSuccess("Estimation configuration has been saved.");var t=GH.RapidBoard.Config.Estimation.model,a=i.success;GH.RapidBoard.Config.Estimation.init({estimationStatisticConfig:a}),a.currentEstimationStatistic.id!==t.currentEstimationStatistic.id?GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("estimationStatistic",{oldValId:t.currentEstimationStatistic.id,newValId:a.currentEstimationStatistic.id}):a.currentTrackingStatistic.id!==t.currentTrackingStatistic.id&&GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("trackingStatistic",{oldValId:t.currentTrackingStatistic.id,newValId:a.currentTrackingStatistic.id})};GH.Ajax.put({url:"/rapidviewconfig/estimation",data:i,errorContextMap:{estimatestatistic:"#ghx-estimatestatistic-select"}}).done(t)};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/EstimationConfig.soy' */
// This file was automatically generated from EstimationConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.estimationconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.estimationconfig == 'undefined') { GH.tpl.estimationconfig = {}; }


GH.tpl.estimationconfig.renderEstimationConfigView = function(opt_data, opt_ignored) {
  var output = '<h2>' + soy.$$escapeHtml('Estimation') + '</h2><p>' + soy.$$filterNoAutoescape(AJS.format('Issues can be estimated when in the Backlog to get an idea of how much work is being committed to in a sprint. {0}Read more about estimation and tracking.{1}','<a href="' + opt_data.urls.estimationAndTracking + '" class="js-outgoing-link" data-link-id="estimation.and.tracking">','</a>')) + '</p><form class="aui ghx-limited"><div class="field-group"><label>' + soy.$$escapeHtml('Estimation Statistic') + '</label><select id="ghx-estimatestatistic-select" class="select" ' + ((opt_data.model.canEdit != true) ? 'disabled="disabled"' : '') + '>';
  var fieldList15 = opt_data.model.availableEstimationStatistics;
  var fieldListLen15 = fieldList15.length;
  for (var fieldIndex15 = 0; fieldIndex15 < fieldListLen15; fieldIndex15++) {
    var fieldData15 = fieldList15[fieldIndex15];
    output += '<option value="' + soy.$$escapeHtml(fieldData15.id) + '"' + ((fieldData15.id == opt_data.model.currentEstimationStatistic.id) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(fieldData15.name) + '</option>';
  }
  output += '</select>' + ((! opt_data.model.currentEstimationStatistic.isValid) ? '<div class="error">' + soy.$$escapeHtml('The configured estimation statistic is no longer valid. Please select a valid option.') + '</div>' : '') + '<div class="description">' + soy.$$filterNoAutoescape(opt_data.currentEstimateDescription) + '</div></div><fieldset class="group"><legend><span>' + soy.$$escapeHtml('Time Tracking') + '</span></legend><div class="radio"><input class="radio" type="radio" id="ghx-trackingstatistic-none" name="ghx-trackingstatistic" value="none_"' + ((opt_data.currentTrackingStatisticIsNone) ? ' checked="checked"' : '') + ' ' + ((opt_data.model.canEdit != true) ? 'disabled="disabled"' : '') + ' /><label for="ghx-trackingstatistic-none">' + soy.$$escapeHtml('None') + '</label><div class="description">' + soy.$$filterNoAutoescape(opt_data.trackingDescriptionNone) + '</div></div><div class="radio"><input class="radio" type="radio" id="ghx-trackingstatistic-remainingtimeestimate" name="ghx-trackingstatistic" value="field_timeestimate"' + ((! opt_data.currentTrackingStatisticIsNone) ? ' checked="checked"' : '') + ' ' + ((opt_data.model.canEdit != true) ? 'disabled="disabled"' : '') + ' /><label for="ghx-trackingstatistic-remainingtimeestimate">' + soy.$$escapeHtml('Remaining Estimate and Time Spent') + '</label><div class="description">' + soy.$$filterNoAutoescape(AJS.format('Track time against issues using Jira\x27\x27s {0}Remaining Estimate{1} and {0}Time Spent{1} fields.','<b>','</b>')) + '</div></div></fieldset>' + ((! opt_data.model.isTimeTrackingEnabledInJira && opt_data.model.canEdit) ? '<div class="field-group"><div class="aui-message info"><p class="title"><span class="aui-icon icon-info"></span><strong>' + soy.$$escapeHtml('Using time as your Estimation Statistic') + '</strong></p>' + ((opt_data.model.canEnableTimeTracking) ? '<p>' + soy.$$filterNoAutoescape(AJS.format('If you would like to use {0}Original Time Estimate{1} as your Estimation Statistic, you will need to {2}enable Time Tracking{3} in Jira.','<b>','</b>','<a href="' + GH.Ajax.CONTEXT_PATH + '/secure/admin/TimeTrackingAdmin!default.jspa">','</a>')) + '</p>' : '<p>' + soy.$$filterNoAutoescape(AJS.format('If you would like to use {0}Original Time Estimate{1} as your Estimation Statistic, you will need to ask an administrator to enable Time Tracking in Jira.','<b>','</b>')) + '</p>') + '</div></div>' : '') + '</form>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.estimationconfig.renderEstimationConfigView.soyTemplateName = 'GH.tpl.estimationconfig.renderEstimationConfigView';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/WorkingDaysConfig.js' */
GH.WorkingDaysConfig={},GH.WorkingDaysConfig.ISO8601Format="%Y-%m-%d",GH.WorkingDaysConfig.model=void 0,GH.WorkingDaysConfig.init=function(n){GH.WorkingDaysConfig.model=n.workingDaysConfig,GH.WorkingDaysConfig.renderTab()},GH.WorkingDaysConfig.renderTab=function(){AJS.$("#ghx-config-time").html(GH.tpl.workingdaysconfig.renderChartConfig()),GH.WorkingDaysConfig.renderTimeZoneConfig(),GH.WorkingDaysConfig.renderWeeklyConfig(),GH.WorkingDaysConfig.renderDailyConfig()},GH.WorkingDaysConfig.renderTimeZoneConfig=function(){var n=GH.WorkingDaysConfig.model.timeZoneEditModel,o=n.regions,i=GH.WorkingDaysConfig.model.timeZoneEditModel.currentTimeZoneId,e=GH.WorkingDaysConfig.getRegionKeyForTimeZoneId(i),a={canEdit:GH.WorkingDaysConfig.model.canEdit,selectedRegionKey:e,regions:o,zones:GH.WorkingDaysConfig.getZonesForRegion(e),selectedTimeZoneId:i};AJS.$("#ghx-timezone-config").html(GH.tpl.workingdaysconfig.renderTimeZoneConfig(a)),AJS.$("#ghx-region-select").change(GH.WorkingDaysConfig.updateRegionZones),AJS.$("#ghx-timezone-select").change(GH.WorkingDaysConfig.handleTimezoneUpdate)},GH.WorkingDaysConfig.updateRegionZones=function(){var n=AJS.$("#ghx-region-select").val(),o=GH.WorkingDaysConfig.getZonesForRegion(n),i={zones:o};$timezoneSelect=AJS.$("#ghx-timezone-select"),$timezoneSelect.html(GH.tpl.workingdaysconfig.renderTimeZoneOptions(i)),GH.WorkingDaysConfig.handleTimezoneUpdate()},GH.WorkingDaysConfig.getZonesForRegion=function(n){return _.filter(GH.WorkingDaysConfig.model.timeZoneEditModel.timeZones,function(o){return o.regionKey===n})},GH.WorkingDaysConfig.getRegionKeyForTimeZoneId=function(n){return _.find(GH.WorkingDaysConfig.model.timeZoneEditModel.timeZones,function(o){return o.timeZoneId===n}).regionKey},GH.WorkingDaysConfig.handleTimezoneUpdate=function(){var n=AJS.$("#ghx-timezone-select").val();GH.WorkingDaysConfig.setTimezone(n)},GH.WorkingDaysConfig.renderWeeklyConfig=function(){var n=AJS.$("#ghx-weekdays-config");n.html(GH.tpl.workingdaysconfig.renderWeekdaysConfig({canEdit:GH.WorkingDaysConfig.model.canEdit,weekDays:GH.WorkingDaysConfig.model.weekDays})),n.find("input.checkbox").change(GH.WorkingDaysConfig.saveWeekDays)},GH.WorkingDaysConfig.renderDailyConfig=function(){AJS.$("#ghx-daily-config").html(GH.tpl.workingdaysconfig.renderDailyConfig({canEdit:GH.WorkingDaysConfig.model.canEdit}));var n=0;Calendar.setup({firstDay:0,cache:!1,inputField:"ghx-add-off-day",button:"ghx-add-off-day-button",align:"Tr",singleClick:!0,positionStyle:"fixed",ifFormat:GH.TimeFormat.dateFormat,useISO8601WeekNumbers:GH.TimeFormat.useISO8601WeekNumbers,onUpdate:function(){n=(new Date).getTime()},onClose:function(o){(new Date).getTime()-n<100&&GH.WorkingDaysConfig.handleAddDay(),o.hide()}}),GH.WorkingDaysConfig.renderDays()},GH.WorkingDaysConfig.renderDays=function(){var n={days:[]},o=GH.WorkingDaysConfig.model.nonWorkingDays;o.sort(function(n,o){return n.iso8601Date.localeCompare(o.iso8601Date)}),_.each(o,function(o){var i=GH.WorkingDaysConfig.parseIsoDateString(o.iso8601Date);i=new Date(i);var e=i.print(GH.TimeFormat.dateFormat);n.days.push({displayValue:e,value:o.iso8601Date})});var i=AJS.$("#ghx-existing-off-days");i.html(GH.tpl.workingdaysconfig.renderDays({days:n.days,canEdit:GH.WorkingDaysConfig.model.canEdit})),i.find(".aui-icon-close").click(GH.WorkingDaysConfig.handleRemoveDay)},GH.WorkingDaysConfig.handleAddDay=function(){var n=AJS.$("#ghx-add-off-day").val();if(n){var o=Date.parseDate(n,GH.TimeFormat.dateFormat);GH.WorkingDaysConfig.addDay(o),GH.WorkingDaysConfig.addDayToModel(o),GH.WorkingDaysConfig.renderDays(),AJS.$("#ghx-add-off-day").val("")}},GH.WorkingDaysConfig.addDayToModel=function(n){var o=GH.WorkingDaysConfig.toISODate(n),i=GH.WorkingDaysConfig.model.nonWorkingDays,e=_.find(i,function(n){return n.iso8601Date===o});e||i.push({iso8601Date:o})},GH.WorkingDaysConfig.removeDayFromModel=function(n){var o=GH.WorkingDaysConfig.toISODate(n),i=GH.WorkingDaysConfig.model.nonWorkingDays;GH.WorkingDaysConfig.model.nonWorkingDays=_.reject(i,function(n){return n.iso8601Date===o})},GH.WorkingDaysConfig.handleRemoveDay=function(n){var o=AJS.$(this).closest(".js-day-off"),i=GH.WorkingDaysConfig.parseIsoDateString(o.attr("data-date"));GH.WorkingDaysConfig.removeDay(i),GH.WorkingDaysConfig.removeDayFromModel(i),GH.WorkingDaysConfig.renderDays()},GH.WorkingDaysConfig.toISODate=function(n){return n.print("%Y-%m-%d")},GH.WorkingDaysConfig.parseIsoDateString=function(n){return Date.parseDate(n,GH.WorkingDaysConfig.ISO8601Format)},GH.WorkingDaysConfig.setTimezone=function(n){var o={rapidViewId:GH.WorkingDaysConfig.model.rapidViewId,timeZoneId:n};GH.Ajax.put({url:"/rapidviewconfig/workingdays/timezone",data:o}).done(function(){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("timezone")})},GH.WorkingDaysConfig.saveWeekDays=function(){var n={rapidViewId:GH.WorkingDaysConfig.model.rapidViewId,monday:AJS.$("#ghx-monday").is(":checked"),tuesday:AJS.$("#ghx-tuesday").is(":checked"),wednesday:AJS.$("#ghx-wednesday").is(":checked"),thursday:AJS.$("#ghx-thursday").is(":checked"),friday:AJS.$("#ghx-friday").is(":checked"),saturday:AJS.$("#ghx-saturday").is(":checked"),sunday:AJS.$("#ghx-sunday").is(":checked")};GH.Ajax.put({url:"/rapidviewconfig/workingdays/weekdays",data:n}).done(function(){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("workingDays")})},GH.WorkingDaysConfig.addDay=function(n){var o={rapidViewId:GH.WorkingDaysConfig.model.rapidViewId,iso8601Date:GH.WorkingDaysConfig.toISODate(n)};GH.Ajax.post({url:"/rapidviewconfig/workingdays/nonworkingday/add",data:o}).done(function(){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("nonWorkingDays")})},GH.WorkingDaysConfig.removeDay=function(n){var o={rapidViewId:GH.WorkingDaysConfig.model.rapidViewId,iso8601Date:GH.WorkingDaysConfig.toISODate(n)};GH.Ajax.post({url:"/rapidviewconfig/workingdays/nonworkingday/remove",data:o}).done(function(){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("nonWorkingDays")})};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/WorkingDaysConfig.soy' */
// This file was automatically generated from WorkingDaysConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.workingdaysconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.workingdaysconfig == 'undefined') { GH.tpl.workingdaysconfig = {}; }


GH.tpl.workingdaysconfig.renderChartConfig = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Working days') + '</h2><p>' + soy.$$escapeHtml('These settings allow you to highlight or exclude non-working days from reports and gadgets.') + '</p><p class="ghx-description">' + soy.$$escapeHtml('They apply to the following reports: Burndown Chart, Sprint Report, Epic Report, Version Report, Control Chart; and the following gadgets: Sprint Health Gadget, Burndown Gadget.') + '</p><div id="ghx-timezone-config" class="ghx-margin-top"></div><div id="ghx-weekdays-config" class="ghx-margin-top"></div><div id="ghx-daily-config" class="ghx-margin-top"></div>';
};
if (goog.DEBUG) {
  GH.tpl.workingdaysconfig.renderChartConfig.soyTemplateName = 'GH.tpl.workingdaysconfig.renderChartConfig';
}


GH.tpl.workingdaysconfig.renderTimeZoneConfig = function(opt_data, opt_ignored) {
  var output = '<h5>' + soy.$$escapeHtml('Time Zone') + '</h5><form class="aui gh-aui"><fieldset><div class="field-group"><label for="ghx-region-select">' + soy.$$escapeHtml('Region') + ':</label><select id="ghx-region-select" class="select" ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '>';
  var regionList20 = opt_data.regions;
  var regionListLen20 = regionList20.length;
  for (var regionIndex20 = 0; regionIndex20 < regionListLen20; regionIndex20++) {
    var regionData20 = regionList20[regionIndex20];
    output += '<option value="' + soy.$$escapeHtml(regionData20.key) + '"' + ((regionData20.key == opt_data.selectedRegionKey) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(regionData20.displayName) + '</option>';
  }
  output += '</select></div><div class="field-group"><label for="ghx-timezone-select">' + soy.$$escapeHtml('Time Zone') + ':</label><select id="ghx-timezone-select" class="select" ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '>' + GH.tpl.workingdaysconfig.renderTimeZoneOptions(opt_data) + '</select></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.workingdaysconfig.renderTimeZoneConfig.soyTemplateName = 'GH.tpl.workingdaysconfig.renderTimeZoneConfig';
}


GH.tpl.workingdaysconfig.renderTimeZoneOptions = function(opt_data, opt_ignored) {
  var output = '';
  var zoneList43 = opt_data.zones;
  var zoneListLen43 = zoneList43.length;
  for (var zoneIndex43 = 0; zoneIndex43 < zoneListLen43; zoneIndex43++) {
    var zoneData43 = zoneList43[zoneIndex43];
    output += '<option value="' + soy.$$escapeHtml(zoneData43.timeZoneId) + '"' + ((zoneData43.timeZoneId == opt_data.selectedTimeZoneId) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(zoneData43.gMTOffset) + ' ' + soy.$$escapeHtml(zoneData43.city) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.workingdaysconfig.renderTimeZoneOptions.soyTemplateName = 'GH.tpl.workingdaysconfig.renderTimeZoneOptions';
}


GH.tpl.workingdaysconfig.renderWeekdaysConfig = function(opt_data, opt_ignored) {
  return '<h5>' + soy.$$escapeHtml('Standard Working Days') + '</h5><form class="aui gh-aui"><fieldset class="group"><legend><span>' + soy.$$escapeHtml('Every') + '</span></legend><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-monday" ' + ((opt_data.weekDays.monday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-monday">' + soy.$$escapeHtml('Monday') + '</label></div><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-tuesday" ' + ((opt_data.weekDays.tuesday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-tuesday">' + soy.$$escapeHtml('Tuesday') + '</label></div><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-wednesday" ' + ((opt_data.weekDays.wednesday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-wednesday">' + soy.$$escapeHtml('Wednesday') + '</label></div><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-thursday" ' + ((opt_data.weekDays.thursday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-thursday">' + soy.$$escapeHtml('Thursday') + '</label></div><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-friday" ' + ((opt_data.weekDays.friday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-friday">' + soy.$$escapeHtml('Friday') + '</label></div><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-saturday" ' + ((opt_data.weekDays.saturday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-saturday">' + soy.$$escapeHtml('Saturday') + '</label></div><div class="checkbox"><input class="checkbox" type="checkbox" id="ghx-sunday" ' + ((opt_data.weekDays.sunday) ? 'checked="checked"' : '') + ' ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '/><label for="ghx-sunday">' + soy.$$escapeHtml('Sunday') + '</label></div></fieldset></form>';
};
if (goog.DEBUG) {
  GH.tpl.workingdaysconfig.renderWeekdaysConfig.soyTemplateName = 'GH.tpl.workingdaysconfig.renderWeekdaysConfig';
}


GH.tpl.workingdaysconfig.renderDailyConfig = function(opt_data, opt_ignored) {
  return '<h5>' + soy.$$escapeHtml('Non-Working Days') + '</h5><form class="aui gh-aui"><div class="field-group"><label>' + soy.$$escapeHtml('Dates') + ':</label><span class="field-value" id="ghx-existing-off-days"></span></div><div class="field-group"><input id="ghx-add-off-day" type="hidden" value="" readonly><button id="ghx-add-off-day-button" class="aui-button" ' + ((! opt_data.canEdit) ? 'disabled="disabled"' : '') + '>' + soy.$$escapeHtml('Add Date') + '</button><span id="ghx-add-off-day-error"></span></div></form>';
};
if (goog.DEBUG) {
  GH.tpl.workingdaysconfig.renderDailyConfig.soyTemplateName = 'GH.tpl.workingdaysconfig.renderDailyConfig';
}


GH.tpl.workingdaysconfig.renderDays = function(opt_data, opt_ignored) {
  var output = '';
  var dayList145 = opt_data.days;
  var dayListLen145 = dayList145.length;
  if (dayListLen145 > 0) {
    for (var dayIndex145 = 0; dayIndex145 < dayListLen145; dayIndex145++) {
      var dayData145 = dayList145[dayIndex145];
      output += (opt_data.canEdit) ? aui.labels.label({extraClasses: ['js-day-off'], isCloseable: true, text: dayData145.displayValue, extraAttributes: {'data-date': dayData145.value}}) : aui.labels.label({text: dayData145.displayValue});
    }
  } else {
    output += '<em>' + soy.$$escapeHtml('No dates') + '</em>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.workingdaysconfig.renderDays.soyTemplateName = 'GH.tpl.workingdaysconfig.renderDays';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/CardColorConfig.js' */
!function(){"use strict";var o=require("jira-agile/rapid/analytics-tracker"),e=require("jquery");GH.CardColorConfig={},GH.CardColorConfig.model=void 0,GH.CardColorConfig.Analytics={},GH.CardColorConfig.Analytics.base=new o("gh.config.cardcolor"),GH.CardColorConfig.Analytics.add=new o("gh.config.cardcolor.custom","add"),GH.CardColorConfig.Analytics.edit=new o("gh.config.cardcolor.custom","edit"),GH.CardColorConfig.Analytics.remove=new o("gh.config.cardcolor.custom","delete"),GH.CardColorConfig.strategies=[{id:"issuetype",name:"Issue Types",hasDescriptionField:!1,canAddRows:!1,canReorderRows:!1,columnOverrides:{value:{header:"Issue Type"}}},{id:"priority",name:"Priorities",hasDescriptionField:!1,canAddRows:!1,canReorderRows:!1,columnOverrides:{value:{header:"Priority"}}},{id:"assignee",name:"Assignees",hasDescriptionField:!1,canAddRows:!1,canReorderRows:!1,columnOverrides:{value:{header:"Assignee"}}},{id:"custom",name:"Queries",hasDescriptionField:!0,canAddRows:!0,canReorderRows:!0,columnOverrides:{value:{allowEdit:!0,allowDelete:!0,header:"JQL",emptyText:"Add query",editView:GH.RapidBoard.Config.Util.JQLEditView.extend({namespace:"ghx-card-color"})}}},{id:"none",name:"None",hasDescriptionField:!1,canAddRows:!1,canReorderRows:!1}],GH.CardColorConfig.TableColumnsDefaults=[{id:"color",header:"Color",fieldName:"color",styleClass:"ghx-picker",allowEdit:!0,allowDelete:!0,readView:GH.RestfulTable.CustomReadView.extend({render:function(o){return AJS.$(GH.tpl.cardcolorconfig.renderReadOnlyViewColor(o))}}),editView:GH.RestfulTable.CustomEditView.extend({render:function(o){var e=this;o.value||(o.value=GH.CardColorConfig.nextDefaultColorHex());var r=AJS.$(GH.tpl.cardcolorconfig.renderEditableViewColor(o)),a=this.$picker=r.filter(".ghx-picker-select");return a.ColorPicker({onChange:function(o,r,t){var l="#"+r;a.css("background-color",l),a.attr("data-field-value",l),a.parent().find("input").val(l),e.model.set({color:l})},onHide:function(o){GH.CardColorConfig.hidePicker(o,e)},onBeforeShow:function(){var o=a.parent().find("input").val().substr(1);AJS.$(this).ColorPickerSetColor(o)}}).bind("click",_.bind(this.focus,this)),r.filter("input").bind("select",_.bind(this.focus,this)),r},focus:function(){this.$picker.ColorPickerShow()}})},{id:"value",header:null,fieldName:"value",allowEdit:!1,allowDelete:!1,readView:GH.RestfulTable.CustomReadView.extend({render:function(o){var e=this.model.get("displayValue");return e?document.createTextNode(e):null}}),editView:GH.RestfulTable.CustomEditView.extend({render:function(o){var e=this.model.get("displayValue");return e?document.createTextNode(e):null}})}],GH.CardColorConfig.hidePicker=function(o,e){AJS.$(o).fadeOut(500);var r=e.model.get("id");if(r){var a=GH.CardColorConfig.model.rapidViewId;GH.Ajax.put({url:"/cardcolors/"+a+"/color/"+e.model.get("id"),data:e.model.toJSON()})}var t=AJS.$(".aui-restfultable-editrow .aui-restfultable-cancel");return t.click(),t.parent().show(),!1},GH.CardColorConfig.init=function(o){GH.CardColorConfig.model=o.cardColorConfig,GH.CardColorConfig.renderConfig()},GH.CardColorConfig.getStrategyById=function(o){return _.find(GH.CardColorConfig.strategies,function(e){return e.id===o})},GH.CardColorConfig.getCurrentStrategy=function(){var o=GH.CardColorConfig.model;return o&&o.cardColorStrategy?GH.CardColorConfig.getStrategyById(o.cardColorStrategy):null},GH.CardColorConfig.renderConfig=function(){var o=GH.CardColorConfig.model,e=o.canEdit,r=o.cardColorStrategy;AJS.$("#ghx-config-cardColors").html(GH.tpl.cardcolorconfig.renderCardColorConfigView({canEdit:e,currentStrategyId:r,strategies:GH.CardColorConfig.strategies,learnMore:{"url":"https://confluence.atlassian.com/display/JIRASOFTWARECLOUD/Customising+Cards","isLocal":false}.url}));var a=GH.CardColorConfig.getStrategyById(r);a&&(GH.CardColorConfig.loadStrategyConfig(a),AJS.$("#ghx-cardcolorstrategy-select").change(GH.CardColorConfig.saveStrategySelection))},GH.CardColorConfig.saveStrategySelection=function(o){var e=GH.CardColorConfig.getCurrentStrategy(),r=AJS.$("#ghx-cardcolorstrategy-select").val(),a=GH.CardColorConfig.getStrategyById(r);if(a){GH.CardColorConfig.model.cardColorStrategy=a.id;var t=GH.CardColorConfig.model.rapidViewId;GH.Ajax.put({url:"/cardcolors/"+t+"/strategy",data:{id:t,cardColorStrategyId:a.id}}).done(function(){GH.CardColorConfig.loadStrategyConfig(a),GH.CardColorConfig.Analytics.base.trigger("editStrategy",a.id),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("cardColourStrategy",{oldValId:e.id,newValId:a.id})})}},GH.CardColorConfig.loadStrategyConfig=function(o){AJS.$("#ghx-cardcolorstrategy-select").after(GH.tpl.cardcolorconfig.renderCardColorLoading());var e=GH.CardColorConfig.model.rapidViewId;GH.Ajax.get({url:"/cardcolors/"+e+"/strategy/"+o.id,data:{preloadValues:!0}},"cardColorConfig").done(GH.CardColorConfig.processConfigData)},GH.CardColorConfig.processConfigData=function(o){GH.CardColorConfig.model=o,GH.CardColorConfig.renderConfigurationTable()},GH.CardColorConfig.renderConfigurationTable=function(){var o=GH.CardColorConfig.model,r=o.canEdit,a=o.rapidViewId,t=GH.CardColorConfig.getCurrentStrategy();if(AJS.$("#ghx-card-color-table-form").html('<table id="ghx-card-color-table"></table>').attr("data-strategy",t.id),AJS.$("#ghx-cardcolorstrategy-select ~ .ghx-spinner").remove(),"none"!==t.id){GH.CardColorConfig.nextDefaultColorHex.counter=o.cardColors.length;var l=new GH.RestfulTable({el:e("#ghx-card-color-table"),resources:{all:function(o){o(GH.CardColorConfig.model.cardColors)},self:GH.Ajax.buildRestUrl("/cardcolors/"+a+"/color/")},columns:_.map(GH.CardColorConfig.TableColumnsDefaults,function(o){return _.extend({},o,t.columnOverrides[o.id])}),deleteConfirmation:{header:"Delete",content:function(o){return GH.tpl.rapid.view.deleteForm({message:"Are you sure you want to delete this card color?"})}},views:{editRow:GH.RestfulTable.EditRow.extend({mapSubmitParams:function(o){var e=GH.RestfulTable.EditRow.prototype.mapSubmitParams.call(this,o);return e&&(e.strategy=t.id),e},submit:function(){var o=this.$el.serializeObject(),e=this.model.attributes.value,r=o&&o.value?o.value:"";return e?GH.CardColorConfig.Analytics.edit.trigger("new: "+r+", old: "+e):GH.CardColorConfig.Analytics.add.trigger(r),GH.RestfulTable.EditRow.prototype.submit.apply(this,arguments)}})},allowEdit:r,allowDelete:r,allowCreate:r&&t.canAddRows,allowReorder:r&&t.canReorderRows});"custom"===t.id&&(_.delay(GH.JQLAutoComplete.initialize,0,"ghx-card-color-jql-create","ghx-card-color-jql-errormsg-create"),AJS.$(document).bind("tabSelect",function(){GH.JQLAutoComplete.fixSuggestionPositioning("ghx-card-color-jql-create")}),AJS.$(l).bind(GH.RestfulTable.Events.ROW_REMOVED,function(o,e){GH.CardColorConfig.Analytics.remove.trigger(e.model.attributes.value)}))}},GH.CardColorConfig.getDefaultColorHex=function(o){var e=GH.CardColorConfig.model.defaultColors;return e[o%e.length]},GH.CardColorConfig.nextDefaultColorHex=function(){return GH.CardColorConfig.getDefaultColorHex(GH.CardColorConfig.nextDefaultColorHex.counter++)},GH.CardColorConfig.nextDefaultColorHex.counter=null}();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/CardColorConfig.soy' */
// This file was automatically generated from CardColorConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.cardcolorconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.cardcolorconfig == 'undefined') { GH.tpl.cardcolorconfig = {}; }


GH.tpl.cardcolorconfig.renderReadOnlyViewColor = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<span class="ghx-picker-select js-card-color-edit"' + ((opt_data.value) ? ' style="background-color:' + soy.$$escapeHtml(opt_data.value) + ';"' : '') + '>' + ((! opt_data.value) ? '<em>' + soy.$$escapeHtml('gh.rapid.config.cardcolors.empty.color') + '</em>' : '&nbsp;') + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.cardcolorconfig.renderReadOnlyViewColor.soyTemplateName = 'GH.tpl.cardcolorconfig.renderReadOnlyViewColor';
}


GH.tpl.cardcolorconfig.renderEditableViewColor = function(opt_data, opt_ignored) {
  return '<input type="hidden" name="' + soy.$$escapeHtml(opt_data.name) + '" value="' + soy.$$escapeHtml(opt_data.value) + '"><span class="ghx-picker-select js-card-color-edit"' + ((opt_data.value) ? ' style="background-color:' + soy.$$escapeHtml(opt_data.value) + ';"' : '') + '>' + ((! opt_data.value) ? '<em>' + soy.$$escapeHtml('gh.rapid.config.cardcolors.empty.color') + '</em>' : '&nbsp;') + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.cardcolorconfig.renderEditableViewColor.soyTemplateName = 'GH.tpl.cardcolorconfig.renderEditableViewColor';
}


GH.tpl.cardcolorconfig.renderCardColorConfigView = function(opt_data, opt_ignored) {
  var output = '<h2>' + soy.$$escapeHtml('Card colors') + '</h2><p>' + soy.$$filterNoAutoescape(AJS.format('Choose a method for assigning colors to your cards. If no method is selected, the cards will not have a colored edge. Any changes to the color configuration for a method are saved immediately, so you can switch back to it later if you wish.','<br/>')) + '</p><p><a href="' + soy.$$escapeHtml(opt_data.learnMore) + '">' + soy.$$escapeHtml('Learn more about card colors.') + '</a></p><form class="aui"><div class="field-group"><label>' + soy.$$escapeHtml('Colors based on') + '</label><select id="ghx-cardcolorstrategy-select" class="select" ' + ((opt_data.canEdit != true) ? 'disabled="disabled"' : '') + '>';
  var strategyList55 = opt_data.strategies;
  var strategyListLen55 = strategyList55.length;
  for (var strategyIndex55 = 0; strategyIndex55 < strategyListLen55; strategyIndex55++) {
    var strategyData55 = strategyList55[strategyIndex55];
    output += '<option value="' + soy.$$escapeHtml(strategyData55.id) + '"' + ((strategyData55.id == opt_data.currentStrategyId) ? 'selected="SELECTED"' : '') + '>' + soy.$$escapeHtml(strategyData55.name) + '</option>';
  }
  output += '</select></div></form><div id="ghx-card-color-table-form"></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.cardcolorconfig.renderCardColorConfigView.soyTemplateName = 'GH.tpl.cardcolorconfig.renderCardColorConfigView';
}


GH.tpl.cardcolorconfig.renderCardColorLoading = function(opt_data, opt_ignored) {
  return '<div class="ghx-spinner"></div>';
};
if (goog.DEBUG) {
  GH.tpl.cardcolorconfig.renderCardColorLoading.soyTemplateName = 'GH.tpl.cardcolorconfig.renderCardColorLoading';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/DetailViewConfig.js' */
GH.DetailViewConfig={},GH.DetailViewConfig.UNSUPPORTED_CATEGORY="unsupported",GH.DetailViewConfig.model=void 0,GH.DetailViewConfig.restfulTableHeadings={details:"General fields",dates:"Date fields",people:"People",links:"Links",unsupported:"Unsupported fields"},GH.DetailViewConfig.restfulTable={},GH.DetailViewConfig.TableColumns=[{id:"fieldId",header:"Field name",fieldName:"fieldId",readView:GH.RestfulTable.CustomReadView.extend({render:function(e){return GH.tpl.detailviewconfig.renderDetailViewFieldCell(this.model.toJSON())}})}],GH.DetailViewConfig.createView=function(e){return GH.RestfulTable.CustomCreateView.extend({render:function(i){var l=this,t=AJS.$('<select class="select"></select>').attr("name",i.name),a=GH.DetailViewConfig.getAvailableDetailViewFields(!1);return a=_.filter(a,function(i){return i.category===e}),a.length?t.html(this.renderOptions(a)):t.hide(),GH.DetailViewConfig.getAvailableDetailViewFields(!0).done(function(i){a=i.fields,a=_.filter(a,function(i){return i.category===e}),a.sort(function(e,i){return e.name.localeCompare(i.name)}),a.length?(GH.DetailViewConfig.restfulTable[e].getCreateRow().enable(),t.html(l.renderOptions(a)).show()):(t.hide(),GH.DetailViewConfig.restfulTable[e].getCreateRow().disable())}),t},renderOptions:function(e){return _.reduce(e,function(e,i){var l=AJS.$("<option></option>").val(i.fieldId).text(i.name);return e.add(l)},AJS.$())}})},GH.DetailViewConfig.init=function(e){0!==AJS.$("#ghx-config-detailView").length&&(GH.DetailViewConfig.model=e.detailViewFieldConfig,GH.DetailViewConfig.renderConfig())},GH.DetailViewConfig.renderConfig=function(){GH.DetailViewConfig.model;AJS.$("#ghx-config-detailView").html(GH.tpl.detailviewconfig.renderDetailViewConfig({fieldConfigHelpUrl:{"url":"https://confluence.atlassian.com/display/AdminJIRACloud/Specifying+field+behavior","isLocal":false}.url,screenConfigHelpUrl:{"url":"https://confluence.atlassian.com/display/AdminJIRACloud/Defining+a+screen","isLocal":false}.url})),GH.DetailViewConfig.renderConfigurationTable(GH.DetailViewConfig.UNSUPPORTED_CATEGORY),GH.DetailViewConfig.renderConfigurationTable("details"),GH.DetailViewConfig.renderConfigurationTable("dates"),GH.DetailViewConfig.renderConfigurationTable("people"),GH.DetailViewConfig.renderConfigurationTable("links")},GH.DetailViewConfig.renderConfigurationTable=function(e){var i=GH.DetailViewConfig.model,l=i.canEdit,t=i.rapidViewId,a=AJS.$("#ghx-detail-view-field-table-form-"+e),n=GH.DetailViewConfig.restfulTableHeadings[e];if(!l)return void a.html(GH.tpl.detailviewconfig.renderEmptyDetailViewTable({heading:n}));var o=_.filter(GH.DetailViewConfig.model.currentFields,function(i){return i.category===e}),r=_.filter(GH.DetailViewConfig.getAvailableDetailViewFields(!1),function(i){return i.category===e});if(0!==o.length||0!==r.length){var d="ghx-detail-view-field-table-"+e;a.html(GH.tpl.detailviewconfig.renderDetailViewTable({heading:n,tableId:d,description:e===GH.DetailViewConfig.UNSUPPORTED_CATEGORY?"Some fields in the Issue Detail View are no longer supported in Jira Software. You can delete these fields since unsupported fields won\'t appear on your board.":""}));var f=GH.DetailViewConfig.TableColumns;f[0].createView=GH.DetailViewConfig.createView(e);var g={el:AJS.$("#"+d),resources:{all:function(e){return e(o)},self:GH.Ajax.buildRestUrl("/detailviewfield/"+t+"/field/")},columns:f,allowEdit:!1,allowDelete:l,allowReorder:l,allowCreate:l};e===GH.DetailViewConfig.UNSUPPORTED_CATEGORY&&(g.allowReorder=!1,g.allowCreate=!1);var w=GH.DetailViewConfig.restfulTable[e]=new GH.RestfulTable(g);AJS.$(w).bind(GH.RestfulTable.Events.ROW_REMOVED,function(){e===GH.DetailViewConfig.UNSUPPORTED_CATEGORY?w.isEmpty()&&a.remove():w.getCreateRow().render({values:{},errors:{}}),GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("detailViewConfig")}),AJS.$(w).bind(GH.RestfulTable.Events.ROW_ADDED,function(){GH.RapidBoard.Config.analytics.sendBoardUpdatedTrackEvent("detailViewConfig")})}},GH.DetailViewConfig.getAvailableDetailViewFields=function(e){var i=GH.DetailViewConfig.model;return e?GH.Ajax.get({url:"/detailviewfield/"+i.rapidViewId+"/available"},"detailViewConfig").done(function(e){i.availableFields=e.fields}):i.availableFields};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-rapid-config', location = 'includes/js/rapid/configuration/DetailViewConfig.soy' */
// This file was automatically generated from DetailViewConfig.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.detailviewconfig.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.detailviewconfig == 'undefined') { GH.tpl.detailviewconfig = {}; }


GH.tpl.detailviewconfig.renderDetailViewConfig = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('Issue Detail View') + '</h2><p>' + soy.$$escapeHtml('Add, delete or reorder fields on the Issue Detail View.') + '</p><p class="ghx-description">' + soy.$$filterNoAutoescape(AJS.format('Some fields may be hidden, depending on the \x3ca href\x3d\x22{0}\x22\x3efield configuration scheme\x3c/a\x3e used for the project\x27\x27s issue types.',opt_data.fieldConfigHelpUrl)) + '&nbsp;' + soy.$$filterNoAutoescape(AJS.format('Some fields may also be uneditable; to make a field editable, \x3ca href\x3d\x22{0}\x22\x3eit must be added\x3c/a\x3e to the Edit Issue screen for the project of an issue.',opt_data.screenConfigHelpUrl)) + '</p><div id="ghx-detail-view-field-table-form-unsupported" class="ghx-margin-top-x2"></div><div id="ghx-detail-view-field-table-form-details" class="ghx-margin-top-x2"></div><div id="ghx-detail-view-field-table-form-dates" class="ghx-margin-top-x2"></div><div id="ghx-detail-view-field-table-form-people" class="ghx-margin-top-x2"></div><div id="ghx-detail-view-field-table-form-links" class="ghx-margin-top-x2"></div>';
};
if (goog.DEBUG) {
  GH.tpl.detailviewconfig.renderDetailViewConfig.soyTemplateName = 'GH.tpl.detailviewconfig.renderDetailViewConfig';
}


GH.tpl.detailviewconfig.renderDetailViewFieldCell = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(opt_data.name) + ((! opt_data.isValid) ? ' <span title="' + soy.$$escapeHtml('This field is currently unavailable. It may have been removed from the system.') + '" class="ghx-icon ghx-icon-warning"></span>' : '');
};
if (goog.DEBUG) {
  GH.tpl.detailviewconfig.renderDetailViewFieldCell.soyTemplateName = 'GH.tpl.detailviewconfig.renderDetailViewFieldCell';
}


GH.tpl.detailviewconfig.renderDetailViewTable = function(opt_data, opt_ignored) {
  return '<h5>' + soy.$$escapeHtml(opt_data.heading) + '</h5><p>' + soy.$$escapeHtml(opt_data.description) + '</p><table id="' + soy.$$escapeHtml(opt_data.tableId) + '"></table>';
};
if (goog.DEBUG) {
  GH.tpl.detailviewconfig.renderDetailViewTable.soyTemplateName = 'GH.tpl.detailviewconfig.renderDetailViewTable';
}


GH.tpl.detailviewconfig.renderEmptyDetailViewTable = function(opt_data, opt_ignored) {
  return '<h5>' + soy.$$escapeHtml(opt_data.heading) + '</h5><span class="ghx-fa">' + soy.$$escapeHtml('No additional fields added') + '</span>';
};
if (goog.DEBUG) {
  GH.tpl.detailviewconfig.renderEmptyDetailViewTable.soyTemplateName = 'GH.tpl.detailviewconfig.renderEmptyDetailViewTable';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-transition-triggers-plugin:dev-status-common-resources', location = 'js/workflow/TriggersPluginBackboneDefine.js' */
Backbone&&!Backbone.define&&(Backbone.define=function(name,ctor){eval("Backbone['Class: "+name+"'] = function() { Backbone['Class: "+name+"'].__ctor.apply(this, arguments); }");var cls=Backbone["Class: "+name];cls.__ctor=ctor,ctor.prototype.name=name,cls.prototype=ctor.prototype,_.extend(cls,ctor),_.each(ctor.prototype,function(t,e){"function"==typeof t&&(t.displayName=name+"."+e)});var context=window,parts=name.split(".");return _.each(parts,function(t,e){e===parts.length-1?context[t]=cls:context=null==context[t]?context[t]={}:context[t]}),cls});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-transition-triggers-plugin:dev-status-common-resources', location = 'js/devstatus/FeedbackDialog.js' */
Backbone.define("JIRA.DevStatus.FeedbackDialog",Backbone.Model.extend({properties:["collectorId","summary"],defaults:{summary:"Tell us what you think.",collectorId:"effe8b72"},show:function(){var e=this.get("collectorId");window.ATL_JQ_PAGE_PROPS=window.ATL_JQ_PAGE_PROPS||{},window.ATL_JQ_PAGE_PROPS[e]={fieldValues:{summary:this.get("summary")},triggerFunction:function(e){_.defer(function(){e()})}},AJS.$.getScript(this._collectorUrlFor(e))},_collectorUrlFor:function(e){return"https://jira.atlassian.com/s/d41d8cd98f00b204e9800998ecf8427e/en_UK-7m3tmj-1988229788/6307/131/1.4.8/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId="+e}}));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-frame-resources', location = 'templates/common/devstatus-detail-dialog-frame.soy' */
// This file was automatically generated from devstatus-detail-dialog-frame.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialogFrame.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialogFrame == 'undefined') { JIRA.Templates.DevStatus.DetailDialogFrame = {}; }


JIRA.Templates.DevStatus.DetailDialogFrame.frame = function(opt_data, opt_ignored) {
  return '<div class="jira-dialog-heading devstatus-dialog-heading ' + ((opt_data.tabs.length > 1) ? 'borderless' : '') + '"><h2>' + soy.$$escapeHtml(opt_data.title) + '</h2></div><div class="jira-dialog-content devstatus-dialog-content">' + JIRA.Templates.DevStatus.DetailDialogFrame.applicationTabs(opt_data) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialogFrame.frame.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialogFrame.frame';
}


JIRA.Templates.DevStatus.DetailDialogFrame.applicationTabs = function(opt_data, opt_ignored) {
  var output = '<div class="aui-tabs horizontal-tabs"><ul class="tabs-menu ' + ((opt_data.tabs.length == 1) ? 'hidden' : '') + '" >';
  var tabList18 = opt_data.tabs;
  var tabListLen18 = tabList18.length;
  for (var tabIndex18 = 0; tabIndex18 < tabListLen18; tabIndex18++) {
    var tabData18 = tabList18[tabIndex18];
    output += '<li id="tab-menu-' + soy.$$escapeHtml(tabData18.type) + '" data-application-type="' + soy.$$escapeHtml(tabData18.type) + '" class="menu-item ' + ((! opt_data.initialTab && tabIndex18 == 0 || tabData18.type == opt_data.initialTab) ? ' active-tab' : '') + '"><a  href="#tab-content-' + soy.$$escapeHtml(tabData18.type) + '"><strong>' + soy.$$escapeHtml(tabData18.name) + '</strong><span class="aui-badge devstatus-tab-count">' + soy.$$escapeHtml(tabData18.count) + '</span></a></li>';
  }
  output += '</ul><div class="form-body">';
  var tabList36 = opt_data.tabs;
  var tabListLen36 = tabList36.length;
  for (var tabIndex36 = 0; tabIndex36 < tabListLen36; tabIndex36++) {
    var tabData36 = tabList36[tabIndex36];
    output += '<div class="tabs-pane ' + ((tabIndex36 == 0) ? 'active-pane' : '') + '" id="tab-content-' + soy.$$escapeHtml(tabData36.type) + '"><div class="status-loading"></div><div class="detail-content-container"></div></div>';
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialogFrame.applicationTabs.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialogFrame.applicationTabs';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/devstatus-detail-dialog.soy' */
// This file was automatically generated from devstatus-detail-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }


JIRA.Templates.DevStatus.DetailDialog.repositoryHeader = function(opt_data, opt_ignored) {
  return '<div class="repository-header' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '"><div class="aui-group aui-group-split repository-header-group"><div class="aui-item project-space">' + JIRA.Templates.DevStatus.DetailDialog.projectInfo(opt_data) + '</div>' + ((opt_data.extraContent) ? '<div class="aui-item action-space">' + soy.$$filterNoAutoescape(opt_data.extraContent) + '</div>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.repositoryHeader.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.repositoryHeader';
}


JIRA.Templates.DevStatus.DetailDialog.projectInfo = function(opt_data, opt_ignored) {
  return '<div class="project-avatar" ' + ((opt_data.repository.avatarDescription) ? 'title="' + soy.$$escapeHtml(opt_data.repository.avatarDescription) + '"' : '') + '><span class="aui-avatar aui-avatar-small aui-avatar-project ' + ((opt_data.repository.avatar) ? 'fusion-avatar-project' : 'default-avatar-project') + '">' + ((opt_data.repository.avatar) ? '<span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.repository.avatar) + '" /></span>' : '<span class="aui-avatar-inner aui-icon aui-icon-small aui-iconfont-devtools-repository"></span>') + '</span></div><div class="project-info">' + ((opt_data.repository.url) ? '<a class="repository-link" href="' + soy.$$escapeHtml(opt_data.repository.url) + '"' + ((opt_data.showTooltip) ? ' title="' + soy.$$escapeHtml(opt_data.repository.name) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.repository.name) + '</a>' : '<span class="repository-link" ' + ((opt_data.showTooltip) ? ' title="' + soy.$$escapeHtml(opt_data.repository.name) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.repository.name) + '</span>') + '</div><div class="extra-project-info">' + ((opt_data.showParent && opt_data.repository.parent && opt_data.repository.parent.name && opt_data.repository.parent.url) ? '<a class="fork-off" href="' + soy.$$escapeHtml(opt_data.repository.parent.url) + '"><span class="fork-name" title="' + soy.$$escapeHtml(AJS.format('Fork of {0}',opt_data.repository.parent.name)) + '">' + soy.$$escapeHtml(AJS.format('Fork of {0}',opt_data.repository.parent.name)) + '</span></a>' : '') + ((opt_data.extraProjectInfo) ? soy.$$filterNoAutoescape(opt_data.extraProjectInfo) : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.projectInfo.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.projectInfo';
}


JIRA.Templates.DevStatus.DetailDialog.oauthStatus = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-info" /> ' + soy.$$escapeHtml(opt_data.message) + ' ';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.oauthStatus.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.oauthStatus';
}


JIRA.Templates.DevStatus.DetailDialog.authenticationScreen = function(opt_data, opt_ignored) {
  return '<div class="authentication-problem"><div class="image"></div><h2>' + soy.$$escapeHtml(opt_data.title) + '</h2>' + ((opt_data.userError) ? '<p class="user-error">' + soy.$$escapeHtml(opt_data.userError) + '</p>' : '') + ((opt_data.unauthInstances.length > 0) ? '<p>' + soy.$$escapeHtml(AJS.format('Please log in to approve {0,choice,1#this application|1\x3cthese applications}:',opt_data.unauthInstances.length)) + ' <span class="instances"></span></p>' : '') + ((opt_data.otherInstances.length > 0) ? JIRA.Templates.DevStatus.connectionProblemAsWarning({instances: opt_data.otherInstances, showContactAdminForm: opt_data.showContactAdminForm}) : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.authenticationScreen.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.authenticationScreen';
}


JIRA.Templates.DevStatus.DetailDialog.connectionProblemScreen = function(opt_data, opt_ignored) {
  return '<div class="connection-problem"><div class="image"></div><h2>' + soy.$$escapeHtml(opt_data.title) + '</h2>' + JIRA.Templates.DevStatus.connectionProblem(opt_data) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.connectionProblemScreen.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.connectionProblemScreen';
}


JIRA.Templates.DevStatus.DetailDialog.noPermissionToViewAll = function(opt_data, opt_ignored) {
  return '<div class="no-permission-to-view-all"><div class="lock-image"></div><span>' + soy.$$escapeHtml(opt_data.message) + '</span>' + ((opt_data.secondaryMessage) ? ' <span>' + soy.$$escapeHtml(opt_data.secondaryMessage) + '</span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.noPermissionToViewAll.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.noPermissionToViewAll';
}


JIRA.Templates.DevStatus.DetailDialog.timestamp = function(opt_data, opt_ignored) {
  return '' + ((opt_data.timestamp) ? '<time class="livestamp date user-tz" datetime="' + soy.$$escapeHtml(opt_data.timestamp) + '" data-datetime-format="longAge">' + soy.$$escapeHtml(opt_data.timestamp) + '</time>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.timestamp.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.timestamp';
}


JIRA.Templates.DevStatus.DetailDialog.vcsUser = function(opt_data, opt_ignored) {
  return '<span><div class="vcs-user"><span class="extra-content-in-title ' + ((opt_data.approved) ? 'fade' : '') + '" title="' + soy.$$escapeHtml(opt_data.name) + '"><img class="author-avatar" src="' + soy.$$escapeHtml(opt_data.avatar) + '"/></span>' + ((opt_data.approved) ? '<span class="approved">\u2713</span>' : '') + '</div></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.vcsUser.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.vcsUser';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/build/devstatus-detail-dialog-build.soy' */
// This file was automatically generated from devstatus-detail-dialog-build.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }


JIRA.Templates.DevStatus.DetailDialog.build = function(opt_data, opt_ignored) {
  var output = '';
  var projectList3 = opt_data.projects;
  var projectListLen3 = projectList3.length;
  for (var projectIndex3 = 0; projectIndex3 < projectListLen3; projectIndex3++) {
    var projectData3 = projectList3[projectIndex3];
    output += JIRA.Templates.DevStatus.DetailDialog.projectContent({project: projectData3, projectIndex: projectIndex3, withArtifactColumn: opt_data.hasArtifacts, applicationType: opt_data.applicationType});
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.build.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.build';
}


JIRA.Templates.DevStatus.DetailDialog.projectContent = function(opt_data, opt_ignored) {
  var output = '<div class="detail-builds-container">' + JIRA.Templates.DevStatus.DetailDialog.projectHeader(opt_data) + '<div class="devstatus-detail-table builds-table' + ((opt_data.withArtifactColumn) ? ' builds-table-with-artifact-column' : '') + '"><table class="aui"><thead><tr><th class="plan">' + soy.$$escapeHtml('Plan') + '</th><th class="build cell-type-collapsed">' + soy.$$escapeHtml('Latest build') + '</th><th class="result cell-type-collapsed">' + soy.$$escapeHtml('Result') + '</th><th class="timestamp cell-type-collapsed">' + soy.$$escapeHtml('Completed') + '</th>' + ((opt_data.withArtifactColumn) ? '<th class="actions cell-type-collapsed"></th>' : '') + '</tr></thead><tbody>';
  var planList30 = opt_data.project.plans;
  var planListLen30 = planList30.length;
  for (var planIndex30 = 0; planIndex30 < planListLen30; planIndex30++) {
    var planData30 = planList30[planIndex30];
    var planHasArtifacts__soy31 = planData30.build.artifacts && planData30.build.artifacts.length;
    var uniqueIdSuffix__soy32 = opt_data.projectIndex + '-' + planIndex30;
    output += '<tr class="plan-row' + ((planHasArtifacts__soy31) ? ' merge' : '') + '"><td class="plan">' + JIRA.Templates.DevStatus.DetailDialog.planName({plan: planData30}) + '</td><td class="build">' + JIRA.Templates.DevStatus.DetailDialog.buildIcon({build: planData30.build}) + ' <a class="build-link" href="' + soy.$$escapeHtml(planData30.build.url) + '">' + soy.$$escapeHtml(AJS.format('#{0}',planData30.build.buildNumber)) + '</a></td><td class="result">' + JIRA.Templates.DevStatus.DetailDialog.buildResult({build: planData30.build}) + '</td><td class="timestamp">' + JIRA.Templates.DevStatus.DetailDialog.timestamp({timestamp: planData30.build.finishedDate}) + '</td>' + ((opt_data.withArtifactColumn) ? '<td class="actions">' + ((planHasArtifacts__soy31) ? aui.expander.trigger({id: 'detail-dialog-build-show-artifacts-trigger-' + uniqueIdSuffix__soy32, contentId: 'detail-dialog-build-show-artifacts-content-' + uniqueIdSuffix__soy32, tag: 'a', content: 'Show artifacts', replaceText: 'Hide artifacts'}) : '') + '</td>' : '') + '</tr>' + ((planHasArtifacts__soy31) ? '<tr class="artifacts"><td colspan="5">' + aui.expander.content({id: 'detail-dialog-build-show-artifacts-content-' + uniqueIdSuffix__soy32, content: '' + JIRA.Templates.DevStatus.DetailDialog.artifactsTable({build: planData30.build})}) + '</td></tr>' : '');
  }
  output += '</tbody></table></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.projectContent.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.projectContent';
}


JIRA.Templates.DevStatus.DetailDialog.projectHeader = function(opt_data, opt_ignored) {
  return '<div class="builds-header"><div class="project-info"><h2 class="ellipsis"><a class="project-link" href="' + soy.$$escapeHtml(opt_data.project.url) + '" title="' + soy.$$escapeHtml(opt_data.project.name) + '">' + soy.$$escapeHtml(opt_data.project.name) + '</a></h2></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.projectHeader.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.projectHeader';
}


JIRA.Templates.DevStatus.DetailDialog.planName = function(opt_data, opt_ignored) {
  return '<div><span class="plan-name">' + ((opt_data.plan.isBranch) ? '<a class="plan-link" href="' + soy.$$escapeHtml(opt_data.plan.url) + '" title="' + soy.$$escapeHtml(opt_data.plan.name) + ' &rsaquo; ' + soy.$$escapeHtml(opt_data.plan.branchName) + '">' + soy.$$escapeHtml(opt_data.plan.name) + '</a> &rsaquo; <span class="aui-icon aui-icon-small aui-iconfont-devtools-branch-small">' + soy.$$escapeHtml(opt_data.plan.branchName) + '</span><a class="plan-link" href="' + soy.$$escapeHtml(opt_data.plan.url) + '" title="' + soy.$$escapeHtml(opt_data.plan.name) + ' &rsaquo; ' + soy.$$escapeHtml(opt_data.plan.branchName) + '">' + soy.$$escapeHtml(opt_data.plan.branchName) + '</a>' : '<a class="plan-link" href="' + soy.$$escapeHtml(opt_data.plan.url) + '" title="' + soy.$$escapeHtml(opt_data.plan.name) + '">' + soy.$$escapeHtml(opt_data.plan.name) + '</a>') + '</span>' + ((opt_data.plan.disabled) ? '<span class="aui-lozenge aui-lozenge-subtle disabled" title="' + soy.$$escapeHtml('This plan is disabled') + '">' + soy.$$escapeHtml('Disabled') + '</span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.planName.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.planName';
}


JIRA.Templates.DevStatus.DetailDialog.buildResult = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.build.buildState == 'SUCCESS' || opt_data.build.buildState == 'FAILED') {
    if (opt_data.build.testSummary) {
      var duration__soy131 = '' + JIRA.Templates.DevStatus.DetailDialog.buildDuration(opt_data);
      output += '<span>' + ((opt_data.build.testSummary.failedTestCount > 0) ? (opt_data.build.testSummary.successfulTestCount) ? soy.$$escapeHtml(AJS.format('{0} of {1} tests failed in {2}',opt_data.build.testSummary.failedTestCount,opt_data.build.testSummary.totalTestCount,duration__soy131)) : soy.$$escapeHtml(AJS.format('{0} {0,choice,1#test|1\x3ctests} failed in {1}',opt_data.build.testSummary.failedTestCount,duration__soy131)) : (opt_data.build.testSummary.successfulTestCount > 0) ? soy.$$escapeHtml(AJS.format('{0} {0,choice,1#test|1\x3ctests} passed in {1}',opt_data.build.testSummary.successfulTestCount,duration__soy131)) : (opt_data.build.buildState == 'SUCCESS') ? soy.$$escapeHtml(AJS.format('Passed in {0}',duration__soy131)) : soy.$$escapeHtml(AJS.format('Failed in {0}',duration__soy131))) + '</span>';
    }
  } else {
    output += soy.$$escapeHtml('Build incomplete');
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.buildResult.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.buildResult';
}


JIRA.Templates.DevStatus.DetailDialog.buildDuration = function(opt_data, opt_ignored) {
  return '' + ((opt_data.build) ? (opt_data.build.durationInSeconds < 1) ? soy.$$escapeHtml('under 1 second') : (opt_data.build.durationInSeconds < 90) ? soy.$$escapeHtml(AJS.format('{0} {0,choice,1#second|1\x3cseconds}',opt_data.build.durationInSeconds)) : (opt_data.build.durationInSeconds < 5400) ? soy.$$escapeHtml(AJS.format('{0} {0,choice,1#minute|1\x3cminutes}',Math.floor(opt_data.build.durationInSeconds / 60))) : soy.$$escapeHtml(AJS.format('{0} {0,choice,1#hour|1\x3chours}',Math.floor(opt_data.build.durationInSeconds / 60 / 60))) : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.buildDuration.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.buildDuration';
}


JIRA.Templates.DevStatus.DetailDialog.buildIcon = function(opt_data, opt_ignored) {
  var output = '';
  var iconClass__soy167 = '' + ((opt_data.build.buildState == 'SUCCESS') ? 'aui-iconfont-approve' : (opt_data.build.buildState == 'FAILED') ? 'aui-iconfont-error' : 'aui-iconfont-devtools-task-cancelled');
  output += '<span class="aui-icon aui-icon-small ' + soy.$$escapeHtml(iconClass__soy167) + '">' + soy.$$escapeHtml(opt_data.build.buildState) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.buildIcon.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.buildIcon';
}


JIRA.Templates.DevStatus.DetailDialog.artifactsTable = function(opt_data, opt_ignored) {
  var output = '';
  var column1Height__soy181 = Math.ceil(opt_data.build.artifacts.length / 3);
  var column2Height__soy182 = Math.ceil((opt_data.build.artifacts.length - 1) / 3);
  var column3Height__soy183 = Math.ceil((opt_data.build.artifacts.length - 2) / 3);
  output += '<div class="build-artifacts-table"><table class="aui"><tbody>';
  var artifactIndexLimit185 = column1Height__soy181;
  for (var artifactIndex185 = 0; artifactIndex185 < artifactIndexLimit185; artifactIndex185++) {
    output += '<tr><td>' + JIRA.Templates.DevStatus.DetailDialog.artifactName({artifact: opt_data.build.artifacts[artifactIndex185]}) + '</td><td>' + ((artifactIndex185 < column2Height__soy182) ? JIRA.Templates.DevStatus.DetailDialog.artifactName({artifact: opt_data.build.artifacts[artifactIndex185 + column1Height__soy181]}) : '') + '</td><td>' + ((artifactIndex185 < column3Height__soy183) ? JIRA.Templates.DevStatus.DetailDialog.artifactName({artifact: opt_data.build.artifacts[artifactIndex185 + column1Height__soy181 + column2Height__soy182]}) : '') + '</td></tr>';
  }
  output += '</tbody></table></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.artifactsTable.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.artifactsTable';
}


JIRA.Templates.DevStatus.DetailDialog.artifactName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.artifact && opt_data.artifact.name) ? (opt_data.artifact.url) ? '<a class="artifact-link" href="' + soy.$$escapeHtml(opt_data.artifact.url) + '">' + soy.$$escapeHtml(opt_data.artifact.name) + '</a>' : soy.$$escapeHtml(opt_data.artifact.name) : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.artifactName.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.artifactName';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/deployment/devstatus-detail-dialog-deployment.soy' */
// This file was automatically generated from devstatus-detail-dialog-deployment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.Deployment.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog.Deployment == 'undefined') { JIRA.Templates.DevStatus.DetailDialog.Deployment = {}; }


JIRA.Templates.DevStatus.DetailDialog.Deployment.deployment = function(opt_data, opt_ignored) {
  var output = '';
  var projectList3 = opt_data.deploymentProjects;
  var projectListLen3 = projectList3.length;
  for (var projectIndex3 = 0; projectIndex3 < projectListLen3; projectIndex3++) {
    var projectData3 = projectList3[projectIndex3];
    output += JIRA.Templates.DevStatus.DetailDialog.Deployment.projectContent({project: projectData3, applicationType: opt_data.applicationType});
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Deployment.deployment.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Deployment.deployment';
}


JIRA.Templates.DevStatus.DetailDialog.Deployment.projectContent = function(opt_data, opt_ignored) {
  var output = '<div class="detail-deployments-container">' + JIRA.Templates.DevStatus.DetailDialog.Deployment.projectHeader(opt_data) + '<div class="devstatus-detail-table deployments-table"><table class="aui"><thead><tr><th class="environment">' + soy.$$escapeHtml('Environment') + '</th><th class="status cell-type-collapsed">' + soy.$$escapeHtml('Status') + '</th><th class="release cell-type-collapsed">' + soy.$$escapeHtml('Latest release') + '</th><th class="timestamp cell-type-collapsed">' + soy.$$escapeHtml('Last deployed') + '</th></tr></thead><tbody>';
  var environmentList20 = opt_data.project.environments;
  var environmentListLen20 = environmentList20.length;
  for (var environmentIndex20 = 0; environmentIndex20 < environmentListLen20; environmentIndex20++) {
    var environmentData20 = environmentList20[environmentIndex20];
    output += '<tr class="environment-row"><td class="environment">' + JIRA.Templates.DevStatus.DetailDialog.Deployment.environmentName({environment: environmentData20}) + '</td><td class="status cell-type-collapsed">' + JIRA.Templates.DevStatus.DetailDialog.Deployment.statusLozenge({environment: environmentData20}) + '</td><td class="release">' + ((environmentData20.deployedVersion) ? JIRA.Templates.DevStatus.DetailDialog.Deployment.release({release: environmentData20.deployedVersion}) : '') + '</td><td class="timestamp">' + JIRA.Templates.DevStatus.DetailDialog.timestamp({timestamp: environmentData20.lastDeployed}) + '</td></tr>';
  }
  output += '</tbody></table></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Deployment.projectContent.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Deployment.projectContent';
}


JIRA.Templates.DevStatus.DetailDialog.Deployment.projectHeader = function(opt_data, opt_ignored) {
  return '<div class="deployments-header"><div class="project-info"><h2 class="ellipsis"><a class="project-link" href="' + soy.$$escapeHtml(opt_data.project.url) + '" title="' + ((opt_data.project.description) ? soy.$$escapeHtml(opt_data.project.description) : soy.$$escapeHtml(opt_data.project.name)) + '">' + soy.$$escapeHtml(opt_data.project.name) + '</a></h2><div class="ellipsis"><strong class="commit-info">' + soy.$$escapeHtml(AJS.format('Commits were in release {0}',opt_data.project.latestVersions[0].name)) + '</strong></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Deployment.projectHeader.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Deployment.projectHeader';
}


JIRA.Templates.DevStatus.DetailDialog.Deployment.environmentName = function(opt_data, opt_ignored) {
  return '<a class="environment-link" href="' + soy.$$escapeHtml(opt_data.environment.url) + '" title="' + ((opt_data.environment.description) ? soy.$$escapeHtml(opt_data.environment.description) : soy.$$escapeHtml(opt_data.environment.name)) + '">' + soy.$$escapeHtml(opt_data.environment.name) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Deployment.environmentName.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Deployment.environmentName';
}


JIRA.Templates.DevStatus.DetailDialog.Deployment.statusLozenge = function(opt_data, opt_ignored) {
  return '' + ((opt_data.environment.status == 'DEPLOYED') ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-success">' + soy.$$escapeHtml('Deployed') + '</span>' : (opt_data.environment.status == 'FAILED') ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-error">' + soy.$$escapeHtml('Failed') + '</span>' : (opt_data.environment.status == 'NOT_DEPLOYED') ? '<span class="aui-lozenge aui-lozenge-subtle">' + soy.$$escapeHtml('Not deployed') + '</span>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Deployment.statusLozenge.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Deployment.statusLozenge';
}


JIRA.Templates.DevStatus.DetailDialog.Deployment.release = function(opt_data, opt_ignored) {
  return '' + ((opt_data.release.url) ? '<a class="release-link" href="' + soy.$$escapeHtml(opt_data.release.url) + '" title="' + soy.$$escapeHtml(opt_data.release.name) + '">' + soy.$$escapeHtml(opt_data.release.name) + '</a>' : soy.$$escapeHtml(opt_data.release.name));
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Deployment.release.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Deployment.release';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/devstatus-detail-dialog-commit.soy' */
// This file was automatically generated from devstatus-detail-dialog-commit.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }


JIRA.Templates.DevStatus.DetailDialog.commit = function(opt_data, opt_ignored) {
  var output = '' + ((opt_data.canCreateReview) ? '<div class="aui-group aui-group-split"><div class="aui-item"></div><div class="aui-item"><div class="create-review-instance"><a href="#">' + soy.$$escapeHtml('Create review for all commits') + '</a></div></div></div>' : '');
  var repoList8 = opt_data.repositories;
  var repoListLen8 = repoList8.length;
  for (var repoIndex8 = 0; repoIndex8 < repoListLen8; repoIndex8++) {
    var repoData8 = repoList8[repoIndex8];
    output += JIRA.Templates.DevStatus.DetailDialog.commitContent(soy.$$augmentMap(opt_data, {repository: repoData8, repositoryIndex: repoIndex8}));
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.commit.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.commit';
}


JIRA.Templates.DevStatus.DetailDialog.commitContent = function(opt_data, opt_ignored) {
  var output = '<div class="detail-commits-container' + ((opt_data.repository.showReviews) ? ' has-reviews' : '') + ((opt_data.repository.showBranches) ? ' has-branches' : '') + ((opt_data.repository.showFiles) ? ' has-files' : '') + ' ' + ((opt_data.repository.showCreateReview) ? 'has-actions' : '') + '" data-repository-index="' + soy.$$escapeHtml(opt_data.repositoryIndex) + '" >' + JIRA.Templates.DevStatus.DetailDialog.repositoryHeader(soy.$$augmentMap(opt_data, {showParent: true, extraProjectInfo: '' + ((opt_data.repository.showInstance && opt_data.repository.instance) ? '<div class="repository-instance" title="' + soy.$$escapeHtml(opt_data.repository.instance.name) + '">(' + soy.$$escapeHtml(opt_data.repository.instance.name) + ')</div>' : ''), extraContent: '' + ((opt_data.repository.showFiles) ? '<div class="file-expand"><a href="#">' + soy.$$escapeHtml('Show all files') + '</a></div>' : '')})) + '<div class="devstatus-detail-table commits-table"><table class="aui"><thead><tr><th class="author cell-type-collapsed">' + soy.$$escapeHtml('Author') + '</th><th class="changeset cell-type-collapsed">' + soy.$$escapeHtml('Commit') + '</th><th class="message">' + soy.$$escapeHtml('Message') + '</th>' + ((opt_data.repository.showBranches) ? '<th class="branches"></th>' : '') + ((opt_data.repository.showReviews) ? '<th class="reviews">' + soy.$$escapeHtml('Reviews') + '</th>' : '') + '<th class="timestamp">' + soy.$$escapeHtml('Date') + '</th>' + ((opt_data.repository.showFiles) ? '<th class="filecount">' + soy.$$escapeHtml('Files') + '</th>' : '') + ((opt_data.repository.showCreateReview) ? '<th class="commit-actions">' + soy.$$escapeHtml('Actions') + '</th>' : '') + '</tr></thead><tbody>';
  var commitList76 = opt_data.repository.commits;
  var commitListLen76 = commitList76.length;
  for (var commitIndex76 = 0; commitIndex76 < commitListLen76; commitIndex76++) {
    var commitData76 = commitList76[commitIndex76];
    output += '<tr data-changesetid="' + soy.$$escapeHtml(commitData76.id) + '" class="commitrow' + ((commitData76.merge) ? ' merge' : '') + '" data-commit-index="' + soy.$$escapeHtml(commitIndex76) + '"><td class="author">' + JIRA.Templates.DevStatus.DetailDialog.vcsUser(commitData76.author) + '</td><td class="changeset">' + ((commitData76.url) ? '<a class="changesetid" href="' + soy.$$escapeHtml(commitData76.url) + '">' + soy.$$escapeHtml(commitData76.displayId) + '</a>' : '<span class="changesetid">' + soy.$$escapeHtml(commitData76.displayId) + '</span>') + ((commitData76.merge) ? JIRA.Templates.DevStatus.DetailDialog.mergeLozenge(null) : '') + '</td><td class="message"><span class="ellipsis" title="' + soy.$$escapeHtml(commitData76.message) + '">' + soy.$$truncate(soy.$$escapeHtml(commitData76.message), 500, true) + '</span></td>' + JIRA.Templates.DevStatus.DetailDialog.branchesColumn(soy.$$augmentMap(opt_data, {commit: commitData76})) + JIRA.Templates.DevStatus.DetailDialog.reviewColumn(soy.$$augmentMap(opt_data, {commit: commitData76, entryIndex: commitIndex76})) + '<td class="timestamp"><time class="livestamp" datetime="' + soy.$$escapeHtml(commitData76.authorTimestamp) + '" data-datetime-format="longAge"> ' + soy.$$escapeHtml(commitData76.authorTimestamp) + '</time></td>' + ((opt_data.repository.showFiles) ? JIRA.Templates.DevStatus.DetailDialog.filesColumn({count: commitData76.fileCount}) : '') + ((opt_data.repository.showCreateReview) ? JIRA.Templates.DevStatus.DetailDialog.actionsColumn(soy.$$augmentMap(opt_data, {commit: commitData76})) : '') + '</tr>' + ((opt_data.repository.showFiles) ? JIRA.Templates.DevStatus.DetailDialog.filesRow(soy.$$augmentMap(opt_data, {repository: opt_data.repository, commit: commitData76})) : '');
  }
  output += '</tbody></table></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.commitContent.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.commitContent';
}


JIRA.Templates.DevStatus.DetailDialog.mergeLozenge = function(opt_data, opt_ignored) {
  return '<span class="aui-lozenge merge" title="' + soy.$$escapeHtml('This commit is a merge') + '">' + soy.$$escapeHtml('M') + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.mergeLozenge.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.mergeLozenge';
}


JIRA.Templates.DevStatus.DetailDialog.branchesColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.repository.showBranches) ? '<td class="branches">' + ((opt_data.commit.branches && opt_data.commit.branches.totalCount > 0) ? '<span class="branches-link aui-lozenge ref-lozenge"><span class="aui-icon aui-icon-small aui-iconfont-devtools-branch-small">Branch</span></button>' + ((opt_data.commit.branches.totalCount > 1) ? '<span class="branch-count">' + soy.$$escapeHtml(opt_data.commit.branches.totalCount) + '</span>' : '') + '</span>' : '') + '</td>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.branchesColumn.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.branchesColumn';
}


JIRA.Templates.DevStatus.DetailDialog.branchesTooltip = function(opt_data, opt_ignored) {
  var output = '<span class="branch-tooltip">';
  var branchList156 = opt_data.branchData.branches;
  var branchListLen156 = branchList156.length;
  for (var branchIndex156 = 0; branchIndex156 < branchListLen156; branchIndex156++) {
    var branchData156 = branchList156[branchIndex156];
    output += '<div class="branch-name-tooltip">' + soy.$$escapeHtml(branchData156.name) + '</div>';
  }
  output += ((opt_data.branchData.totalCount > opt_data.branchData.branches.length) ? '<div class="branch-tooltip-summary">' + soy.$$escapeHtml(AJS.format('and {0} more',opt_data.branchData.totalCount - opt_data.branchData.branches.length)) + '</div>' : '') + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.branchesTooltip.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.branchesTooltip';
}


JIRA.Templates.DevStatus.DetailDialog.reviewColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.repository.showReviews) ? '<td class="reviews">' + ((opt_data.commit.reviews && opt_data.commit.reviews.totalCount > 0) ? '<span data-aui-trigger aria-controls="commit-reviews-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" class="review-tooltip">' + JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue({state: opt_data.commit.reviews.reviews[0].state}) + '</span><aui-inline-dialog class="detail-dialog-tooltip reviews-dialog" id="commit-reviews-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" responds-to="hover">' + JIRA.Templates.DevStatus.DetailDialog.reviewsInlineDialog({reviewData: opt_data.commit.reviews}) + '</aui-inline-dialog>' : '') + '</td>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.reviewColumn.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.reviewColumn';
}


JIRA.Templates.DevStatus.DetailDialog.actionsColumn = function(opt_data, opt_ignored) {
  return '<td class="commit-actions">' + ((opt_data.commit.createReviewUrl) ? '<div class="create-review-commit"><a href="' + soy.$$escapeHtml(opt_data.commit.createReviewUrl) + '">' + soy.$$escapeHtml('Create review') + '</a></div>' : '') + '</td>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.actionsColumn.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.actionsColumn';
}


JIRA.Templates.DevStatus.DetailDialog.filesColumn = function(opt_data, opt_ignored) {
  return '<td class="filecount">' + ((opt_data.count > 0) ? '<a href="#" class="extra-content-in-title" title="' + soy.$$escapeHtml('Click to show files') + '">' + ((opt_data.count < 100) ? soy.$$escapeHtml(AJS.format('{0} {0,choice,1#file|1\x3cfiles}',opt_data.count)) : soy.$$escapeHtml(AJS.format('{0}+ files',100))) + '</a>' : '') + '</td>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.filesColumn.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.filesColumn';
}


JIRA.Templates.DevStatus.DetailDialog.filesRow = function(opt_data, opt_ignored) {
  return '<tr class="hidden ' + soy.$$escapeHtml(opt_data.commit.fileCount > 0 && opt_data.commit.files ? 'filerow' : '') + '"><td colspan="5">' + JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileRow({files: opt_data.commit.files, max: 5}) + JIRA.Templates.DevStatus.DetailDialog.Commit.Files.moreFiles({files: opt_data.commit.files, fileCount: opt_data.commit.fileCount, instanceName: opt_data.repository.name, moreFilesUrl: opt_data.commit.url}) + '</td></tr>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.filesRow.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.filesRow';
}


JIRA.Templates.DevStatus.DetailDialog.reviewsInlineDialog = function(opt_data, opt_ignored) {
  var output = '<table><tbody>';
  var reviewList224 = opt_data.reviewData.reviews;
  var reviewListLen224 = reviewList224.length;
  for (var reviewIndex224 = 0; reviewIndex224 < reviewListLen224; reviewIndex224++) {
    var reviewData224 = reviewList224[reviewIndex224];
    output += '<tr class="inline-review-row"><td class="inline-review-id"><a href="' + soy.$$escapeHtml(reviewData224.url) + '">' + soy.$$escapeHtml(reviewData224.id) + '</a></td><td class="inline-review-state">' + JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue({state: reviewData224.state}) + '</td></tr>';
  }
  output += ((opt_data.reviewData.totalCount > opt_data.reviewData.reviews.length) ? '<tr><td class="inline-review-summary" colspan="2">' + ((opt_data.reviewData.url) ? '<a href="' + soy.$$escapeHtml(opt_data.reviewData.url) + '">' + soy.$$escapeHtml(AJS.format('and {0} more',opt_data.reviewData.totalCount - opt_data.reviewData.reviews.length)) + '</a>' : '<span>' + soy.$$escapeHtml(AJS.format('and {0} more',opt_data.reviewData.totalCount - opt_data.reviewData.reviews.length)) + '</span>') + '</td></tr>' : '') + '</tbody></table>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.reviewsInlineDialog.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.reviewsInlineDialog';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/commit/devstatus-detail-dialog-commit-files.soy' */
// This file was automatically generated from devstatus-detail-dialog-commit-files.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.Commit.Files.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog.Commit == 'undefined') { JIRA.Templates.DevStatus.DetailDialog.Commit = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog.Commit.Files == 'undefined') { JIRA.Templates.DevStatus.DetailDialog.Commit.Files = {}; }


JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileRow = function(opt_data, opt_ignored) {
  var output = '';
  var fileList3 = opt_data.files;
  var fileListLen3 = fileList3.length;
  for (var fileIndex3 = 0; fileIndex3 < fileListLen3; fileIndex3++) {
    var fileData3 = fileList3[fileIndex3];
    output += (fileIndex3 < opt_data.max) ? '<div class="file"><div class="change">' + ((fileData3.linesAdded != null && fileData3.linesRemoved != null) ? '<div class="lines">' + ((fileData3.changeType == 'ADDED') ? '<span class="aui-lozenge added">' + soy.$$escapeHtml('Added') + '</span>' : (fileData3.changeType == 'DELETED') ? '<span class="aui-lozenge removed">' + soy.$$escapeHtml('Deleted') + '</span>' : '<span class="aui-lozenge added count">+' + soy.$$escapeHtml(fileData3.linesAdded) + '</span><span class="aui-lozenge removed count">-' + soy.$$escapeHtml(fileData3.linesRemoved) + '</span>') + '</div>' : '<div class="changetype">' + JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileChangeLozenge({changeType: fileData3.changeType}) + '</div>') + '</div><div class="filename ellipsis">' + ((fileData3.url) ? '<a href="' + soy.$$escapeHtml(fileData3.url) + '" title="' + soy.$$escapeHtml(fileData3.path) + '">' + soy.$$escapeHtml(fileData3.path) + '</a>' : soy.$$escapeHtml(fileData3.path)) + '</div></div>' : '';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileRow.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileRow';
}


JIRA.Templates.DevStatus.DetailDialog.Commit.Files.moreFiles = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.files.length < opt_data.fileCount) {
    if (opt_data.moreFilesUrl) {
      output += '<a class="more-files-info" href="' + soy.$$escapeHtml(opt_data.moreFilesUrl) + '">' + soy.$$escapeHtml(AJS.format('See more files in {0}',opt_data.instanceName)) + '</a>';
    } else {
      var notShownFileCount__soy56 = opt_data.fileCount - opt_data.files.length;
      output += '<span class="more-files-info">' + soy.$$escapeHtml(AJS.format('and {0} more',notShownFileCount__soy56)) + '</span>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Commit.Files.moreFiles.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Commit.Files.moreFiles';
}


JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileChangeLozenge = function(opt_data, opt_ignored) {
  var output = '';
  var text__soy61 = '';
  switch (opt_data.changeType) {
    case 'ADDED':
      text__soy61 += soy.$$escapeHtml('Added');
      break;
    case 'COPIED':
      text__soy61 += soy.$$escapeHtml('Copied');
      break;
    case 'DELETED':
      text__soy61 += soy.$$escapeHtml('Deleted');
      break;
    case 'MOVED':
      text__soy61 += soy.$$escapeHtml('Moved');
      break;
    default:
      text__soy61 += soy.$$escapeHtml('Modified');
  }
  var class__soy73 = '';
  switch (opt_data.changeType) {
    case 'ADDED':
      class__soy73 += 'success';
      break;
    case 'COPIED':
      class__soy73 += 'current';
      break;
    case 'DELETED':
      class__soy73 += 'error';
      break;
    case 'MOVED':
      class__soy73 += 'moved';
      break;
    default:
      class__soy73 += 'complete';
  }
  output += '<span class="aui-lozenge aui-lozenge-' + soy.$$escapeHtml(class__soy73) + ' aui-lozenge-subtle">' + soy.$$escapeHtml(text__soy61) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileChangeLozenge.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.Commit.Files.fileChangeLozenge';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/devstatus-detail-dialog-branch-pullrequest.soy' */
// This file was automatically generated from devstatus-detail-dialog-branch-pullrequest.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }


JIRA.Templates.DevStatus.DetailDialog.pullRequest = function(opt_data, opt_ignored) {
  return '<div class="detail-pullrequests-container"><div class="devstatus-detail-table pullrequests-table"><table class="aui"><thead><tr><th class="pullrequest-id">' + soy.$$escapeHtml('ID') + '</th><th class="title">' + soy.$$escapeHtml('Title') + '</th><th class="state">' + soy.$$escapeHtml('Status') + '</th><th class="author">' + soy.$$escapeHtml('Author') + '</th><th class="reviewer">' + soy.$$escapeHtml('Reviewer') + '</th><th class="comment cell-type-collapsed"></th><th class="last-updated">' + soy.$$escapeHtml('Updated') + '</th></tr></thead><tbody>' + JIRA.Templates.DevStatus.DetailDialog.pullRequestEntry(opt_data) + '</tbody></table></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.pullRequest.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.pullRequest';
}


JIRA.Templates.DevStatus.DetailDialog.pullRequestEntry = function(opt_data, opt_ignored) {
  var output = '';
  var pullRequestList19 = opt_data.pullRequests;
  var pullRequestListLen19 = pullRequestList19.length;
  for (var pullRequestIndex19 = 0; pullRequestIndex19 < pullRequestListLen19; pullRequestIndex19++) {
    var pullRequestData19 = pullRequestList19[pullRequestIndex19];
    output += '<tr class="pullrequest-row"><td class="pullrequest-id"><a class="pullrequest-link" href="' + soy.$$escapeHtml(pullRequestData19.url) + '">' + soy.$$escapeHtml(pullRequestData19.id) + '</a></td><td class="title"><a class="pullrequest-link ellipsis" title="' + soy.$$escapeHtml(pullRequestData19.name) + '" href="' + soy.$$escapeHtml(pullRequestData19.url) + '">' + soy.$$escapeHtml(pullRequestData19.name) + '</a></td><td class="state">' + JIRA.Templates.DevStatus.DetailDialog.pullRequestState({status: pullRequestData19.status, isSubtle: true}) + '</td><td class="author"><img class="author-avatar extra-content-in-title" src="' + soy.$$escapeHtml(pullRequestData19.author.avatar) + '" title="' + soy.$$escapeHtml(pullRequestData19.author.name) + '"/></td><td class="reviewer">' + ((pullRequestData19.reviewers && pullRequestData19.reviewers.length != 0) ? JIRA.Templates.DevStatus.DetailDialog.reviewersList(soy.$$augmentMap(pullRequestData19, {countThreshold: opt_data.reviewersThreshold, entryIndex: 'pr' + pullRequestIndex19})) : '') + '</td><td class="comment cell-type-collapsed">' + JIRA.Templates.DevStatus.DetailDialog.commentCount({pullRequest: pullRequestData19}) + '</td><td class="last-updated"><time class="livestamp" data-datetime-format="longAge" datetime="' + soy.$$escapeHtml(pullRequestData19.lastUpdate) + '">' + soy.$$escapeHtml(pullRequestData19.lastUpdate) + '</time></td></tr>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.pullRequestEntry.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.pullRequestEntry';
}


JIRA.Templates.DevStatus.DetailDialog.commentCount = function(opt_data, opt_ignored) {
  return '' + ((opt_data.pullRequest.commentCount) ? '<div class="comment-container"><a class="comment-link" href="' + soy.$$escapeHtml(opt_data.pullRequest.url) + '" title="' + soy.$$escapeHtml('Comments') + '"><span class="aui-icon aui-icon-small aui-iconfont-comment">Comments</span></a><span class="count">' + soy.$$escapeHtml(opt_data.pullRequest.commentCount) + '</span></div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.commentCount.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.commentCount';
}


JIRA.Templates.DevStatus.DetailDialog.reviewersList = function(opt_data, opt_ignored) {
  var output = '<div class="reviewer-container">';
  var showThreshold__soy65 = opt_data.countThreshold + 1;
  var indexLimit66 = Math.min(opt_data.countThreshold, opt_data.reviewers.length);
  for (var index66 = 0; index66 < indexLimit66; index66++) {
    output += JIRA.Templates.DevStatus.DetailDialog.vcsUser(opt_data.reviewers[index66]);
  }
  output += ((opt_data.reviewers.length == showThreshold__soy65) ? JIRA.Templates.DevStatus.DetailDialog.vcsUser(opt_data.reviewers[opt_data.countThreshold]) : (opt_data.reviewers.length > showThreshold__soy65) ? '<span data-aui-trigger aria-controls="extrareviewers-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" class="aui-badge extrareviewers-tooltip">' + soy.$$escapeHtml(opt_data.reviewers.length - opt_data.countThreshold) + '</span><aui-inline-dialog class="detail-dialog-tooltip extrareviewers-dialog" id="extrareviewers-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" responds-to="hover">' + JIRA.Templates.DevStatus.DetailDialog.extraReviewersTooltip({reviewers: opt_data.extraReviewers}) + '</aui-inline-dialog>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.reviewersList.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.reviewersList';
}


JIRA.Templates.DevStatus.DetailDialog.branch = function(opt_data, opt_ignored) {
  return '<div class="detail-branches-container"><div class="devstatus-detail-table branches-table"><table class="aui"><thead><tr><th class="repository">' + soy.$$escapeHtml('Repository') + '</th><th class="branch">' + soy.$$escapeHtml('Branch') + '</th>' + ((opt_data.features.lastCommitId) ? '<th class="changeset cell-type-collapsed">' + soy.$$escapeHtml('Last commit') + '</th>' : '') + ((opt_data.features.lastCommitTimestamp) ? '<th class="last-updated cell-type-collapsed">' + soy.$$escapeHtml('Last modified') + '</th>' : '') + ((opt_data.features.pullRequests) ? '<th class="pullrequest">' + soy.$$escapeHtml('Pull request') + '</th>' : '') + ((opt_data.features.reviews) ? '<th class="review">' + soy.$$escapeHtml('Review') + '</th>' : '') + ((opt_data.features.pullRequests || opt_data.features.reviews) ? '<th class="action">' + soy.$$escapeHtml('Action') + '</th>' : '') + '</tr></thead><tbody>' + JIRA.Templates.DevStatus.DetailDialog.branchEntry(opt_data) + '</tbody></table></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.branch.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.branch';
}


JIRA.Templates.DevStatus.DetailDialog.branchEntry = function(opt_data, opt_ignored) {
  var output = '';
  var branchList119 = opt_data.branches;
  var branchListLen119 = branchList119.length;
  for (var branchIndex119 = 0; branchIndex119 < branchListLen119; branchIndex119++) {
    var branchData119 = branchList119[branchIndex119];
    output += '<tr class="branch-row"><td class="repository">' + JIRA.Templates.DevStatus.DetailDialog.repositoryHeader(soy.$$augmentMap(opt_data, {repository: branchData119.repository, showTooltip: true})) + '</td><td class="branch">' + JIRA.Templates.DevStatus.DetailDialog.branchLozenge(branchData119) + '</td>' + ((opt_data.features.lastCommitId) ? '<td class="changeset cell-type-collapsed">' + ((branchData119.lastCommit && branchData119.lastCommit.displayId) ? (branchData119.lastCommit.url) ? '<a class="changeset-link changesetid" href="' + soy.$$escapeHtml(branchData119.lastCommit.url) + '">' + soy.$$escapeHtml(branchData119.lastCommit.displayId) + '</a>' : '<span class="changeset-link changesetid">' + soy.$$escapeHtml(branchData119.lastCommit.displayId) + '</span>' : '') + '</td>' : '') + ((opt_data.features.lastCommitTimestamp) ? '<td class="last-updated cell-type-collapsed">' + ((branchData119.lastCommit && branchData119.lastCommit.authorTimestamp) ? JIRA.Templates.DevStatus.DetailDialog.timestamp({timestamp: branchData119.lastCommit.authorTimestamp}) : '') + '</td>' : '') + ((opt_data.features.pullRequests) ? '<td class="pullrequest">' + JIRA.Templates.DevStatus.DetailDialog.pullRequestStatusForBranch(soy.$$augmentMap(branchData119.pullRequestState, {entryIndex: branchIndex119})) + '</td>' : '') + ((opt_data.features.reviews) ? '<td class="review">' + JIRA.Templates.DevStatus.DetailDialog.reviewStatusForBranch({reviewData: branchData119.reviews, entryIndex: branchIndex119}) + '</td>' : '') + ((opt_data.features.pullRequests || opt_data.features.reviews) ? '<td class="action">' + ((branchData119.createPullRequestUrl && branchData119.createPullRequestUrl.length > 0) ? '<a class="create-pullrequest-link" href="' + soy.$$escapeHtml(branchData119.createPullRequestUrl) + '">' + soy.$$escapeHtml('Create pull request') + '</a>' : '') + ((branchData119.createReviewUrl && branchData119.createReviewUrl.length > 0) ? '<a class="create-review-link" href="' + soy.$$escapeHtml(branchData119.createReviewUrl) + '">' + soy.$$escapeHtml('Create review') + '</a>' : '') + '</td>' : '') + '</tr>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.branchEntry.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.branchEntry';
}


JIRA.Templates.DevStatus.DetailDialog.pullRequestStatusForBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.total > 0) ? '<span data-aui-trigger aria-controls="pullrequest-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" class="pullrequest-tooltip">' + JIRA.Templates.DevStatus.DetailDialog.pullRequestState({status: opt_data.status, isSubtle: true}) + '</span><aui-inline-dialog class="detail-dialog-tooltip pullrequest-dialog" id="pullrequest-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" responds-to="hover">' + JIRA.Templates.DevStatus.DetailDialog.pullRequestToolTip({pullRequests: opt_data.data}) + '</aui-inline-dialog>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.pullRequestStatusForBranch.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.pullRequestStatusForBranch';
}


JIRA.Templates.DevStatus.DetailDialog.reviewStatusForBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.reviewData && opt_data.reviewData.totalCount > 0) ? '<span data-aui-trigger aria-controls="reviews-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" class="review-tooltip">' + JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue({state: opt_data.reviewData.reviews[0].state}) + '</span><aui-inline-dialog class="detail-dialog-tooltip reviews-dialog" id="reviews-tooltip-' + soy.$$escapeHtml(opt_data.entryIndex) + '" responds-to="hover">' + JIRA.Templates.DevStatus.DetailDialog.reviewsInlineDialog(opt_data) + '</aui-inline-dialog>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.reviewStatusForBranch.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.reviewStatusForBranch';
}


JIRA.Templates.DevStatus.DetailDialog.pullRequestSingle = function(opt_data, opt_ignored) {
  return '<a class="pullrequest-link' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '" href="' + soy.$$escapeHtml(opt_data.url) + '" ><span>' + soy.$$escapeHtml(opt_data.id) + ' ' + soy.$$escapeHtml(opt_data.name) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.pullRequestSingle.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.pullRequestSingle';
}


JIRA.Templates.DevStatus.DetailDialog.extraReviewersTooltip = function(opt_data, opt_ignored) {
  var output = '<div class="reviewer"><div class="reviewer-container"><table><tbody>';
  var reviewerList229 = opt_data.reviewers;
  var reviewerListLen229 = reviewerList229.length;
  for (var reviewerIndex229 = 0; reviewerIndex229 < reviewerListLen229; reviewerIndex229++) {
    var reviewerData229 = reviewerList229[reviewerIndex229];
    output += '<tr><td class="reviewer-avatar">' + JIRA.Templates.DevStatus.DetailDialog.vcsUser(reviewerData229) + '</td><td class="reviewer-name"><span title="' + soy.$$escapeHtml(reviewerData229.name) + '">' + soy.$$escapeHtml(reviewerData229.name) + '</span></td></tr>';
  }
  output += '</tbody></table></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.extraReviewersTooltip.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.extraReviewersTooltip';
}


JIRA.Templates.DevStatus.DetailDialog.pullRequestToolTip = function(opt_data, opt_ignored) {
  var output = '<table><tbody>';
  var pullRequestList241 = opt_data.pullRequests;
  var pullRequestListLen241 = pullRequestList241.length;
  for (var pullRequestIndex241 = 0; pullRequestIndex241 < pullRequestListLen241; pullRequestIndex241++) {
    var pullRequestData241 = pullRequestList241[pullRequestIndex241];
    output += '<tr><td class="pullrequest-name">' + JIRA.Templates.DevStatus.DetailDialog.pullRequestSingle(pullRequestData241) + '</td><td class="lozenge">' + JIRA.Templates.DevStatus.DetailDialog.pullRequestState({status: pullRequestData241.status, isSubtle: true}) + '</td></tr>';
  }
  output += '</tbody></table>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.pullRequestToolTip.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.pullRequestToolTip';
}


JIRA.Templates.DevStatus.DetailDialog.pullRequestState = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.FusionWidget.Common.reviewsState({isSubtle: opt_data.isSubtle, state: opt_data.status, stateClasses: {OPEN: 'aui-lozenge-complete', MERGED: 'aui-lozenge-success', DECLINED: 'aui-lozenge-error'}, stateText: {OPEN: 'OPEN', MERGED: 'MERGED', DECLINED: 'DECLINED'}, classes: 'pullrequest-state'});
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.pullRequestState.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.pullRequestState';
}


JIRA.Templates.DevStatus.DetailDialog.branchLozenge = function(opt_data, opt_ignored) {
  return '<div class="branch-name"><span class="aui-icon aui-icon-small aui-iconfont-devtools-branch-small"></span>' + ((opt_data.url) ? '<a class="branch-link' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a>' : '<span class="branch-link' + ((opt_data.extraClasses) ? ' ' + soy.$$escapeHtml(opt_data.extraClasses) : '') + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</span>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.branchLozenge.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.branchLozenge';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'templates/viewissue/devstatus-detail-dialog-review.soy' */
// This file was automatically generated from devstatus-detail-dialog-review.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DevStatus.DetailDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DevStatus == 'undefined') { JIRA.Templates.DevStatus = {}; }
if (typeof JIRA.Templates.DevStatus.DetailDialog == 'undefined') { JIRA.Templates.DevStatus.DetailDialog = {}; }


JIRA.Templates.DevStatus.DetailDialog.review = function(opt_data, opt_ignored) {
  var output = '<div class="devstatus-detail-table detail-reviews-container"><div class="devstatus-detail-table reviews-table"><table class="aui"><thead><tr><th class="review cell-type-collapsed">' + soy.$$escapeHtml('ID') + '</th><th class="title">' + soy.$$escapeHtml('Title') + '</th><th class="state cell-type-collapsed">' + soy.$$escapeHtml('Status') + '</th><th class="author cell-type-collapsed">' + soy.$$escapeHtml('Author') + '</th><th class="reviewer cell-type-collapsed">' + soy.$$escapeHtml('Reviewers') + '</th><th class="comment cell-type-collapsed"></th><th class="timestamp">' + soy.$$escapeHtml('Date') + '</th></tr></thead><tbody>';
  var reviewList16 = opt_data.reviews;
  var reviewListLen16 = reviewList16.length;
  for (var reviewIndex16 = 0; reviewIndex16 < reviewListLen16; reviewIndex16++) {
    var reviewData16 = reviewList16[reviewIndex16];
    output += '<tr data-id="' + soy.$$escapeHtml(reviewData16.id) + '" class="review-row"><td class="review"><a href="' + soy.$$escapeHtml(reviewData16.url) + '" class="review-link">' + soy.$$escapeHtml(reviewData16.id) + '</a></td><td class="title"><span class="ellipsis" title="' + soy.$$escapeHtml(reviewData16.title) + '">' + soy.$$escapeHtml(reviewData16.title) + '</span></td><td class="state">' + JIRA.Templates.FusionWidget.Common.reviewsStateViewIssue({state: reviewData16.state}) + '</td><td class="author">' + ((reviewData16.author) ? JIRA.Templates.DevStatus.DetailDialog.vcsUser(reviewData16.author) : '') + '</td><td class="reviewer">' + JIRA.Templates.DevStatus.DetailDialog.reviewersList(soy.$$augmentMap(reviewData16, {countThreshold: opt_data.reviewersThreshold, extraReviewers: reviewData16.extraReviewers, entryIndex: 'review' + reviewIndex16})) + '</td><td class="comment cell-type-collapsed">' + JIRA.Templates.DevStatus.DetailDialog.commentCount({pullRequest: {commentCount: reviewData16.commentCount, url: reviewData16.url}}) + '</td><td class="timestamp">' + JIRA.Templates.DevStatus.Review.reviewDate(soy.$$augmentMap(reviewData16, {lastUpdated: reviewData16.lastModified, showUpdatedText: false})) + '</td></tr>';
  }
  output += '</tbody></table></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.DevStatus.DetailDialog.review.soyTemplateName = 'JIRA.Templates.DevStatus.DetailDialog.review';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/util/Helpers.js' */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira-development-status/util/helpers",["underscore"],function(t){var e=function(){return soydata.VERY_UNSAFE?soydata.VERY_UNSAFE.ordainSanitizedHtml:function(t){return new soydata.SanitizedHtml(t)}};return{getContextPath:AJS.contextPath,copyAndMarkStringPropertiesAsSanitised:function n(o){var r=e(),i=Array.isArray(o)?[]:{};return t.each(t.keys(o),function(e){var y=o[e];y&&("string"==typeof y?i[e]=r(y):"object"===("undefined"==typeof y?"undefined":_typeof(y))?t.keys(y).length>0&&(i[e]=n(y)):i[e]=y)}),i}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/CreateReviewFormDialog.js' */
"use strict";define("jira/devstatus/create-review-form-dialog",["backbone","jquery","require","underscore","jira/dialog/form-dialog","jira-development-status/util/WRM","jira/dev-status/util/url","jira-development-status/util/navigate"],function(e,i,t,a,n,r,s,c){return e.View.extend({initialize:function(e){this.linkSelector=e.linkSelector,this.applicationType=e.applicationType,this.instances=e.instances,this.issueId=e.issueId,this.dialog.instance=this},renderSuccess:function(){i(".create-review-instance a").attr("href",s.getCreateReviewDetailUrl(this.applicationType))},_processTargets:function(e){var i=this,t=a.map(e,function(e){var t=a.find(i.instances,function(i){return i.applicationLinkId===e.applicationLinkId});return t?a.extend({},e,t):null});return a.sortBy(a.filter(t,a.identity),"name")},dialog:new n({id:"devstatus-cta-create-review-dialog",trigger:".create-review-instance a",width:560,content:function(e){var a=this.instance,n=this;r.requireDetailDialogResources(function(){var r=t("jira/devstatus/instance-picker-view");n.pickerView=new r({el:n.$popup,activeTrigger:n.$activeTrigger,cta:"devstatus.cta.createreview",issueId:a.issueId,processTargets:function(e){return n.instance._processTargets.call(n.instance,e)},uniqueResultAction:function(e){JIRA.DevStatus.CommitsAnalytics.fireDetailCreateReviewClicked(a.applicationType,!0),c.navigate(e.url)}}),n.pickerView.render().always(function(t){e(t),i(n.$popup).find(".primary.target").eq(0).focus(),i(".target").click(function(e){JIRA.DevStatus.CommitsAnalytics.fireDetailCreateReviewClicked(a.applicationType,!0)})})})},autoClose:!0})})}),Backbone.define("JIRA.DevStatus.CreateReviewFormDialog",require("jira/devstatus/create-review-form-dialog"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/BaseDetailDialogView.js' */
"use strict";define("jira/devstatus/base-detail-dialog-view",["backbone","jquery","underscore","jira-development-status/util/dev-status-local-storage","jira-development-status/util/applinks-utils"],function(t,e,n,i,a){return t.View.extend({frameEvents:{"click .menu-item":"_doTabClick"},frameTemplate:JIRA.Templates.DevStatus.DetailDialogFrame.frame,oauthStatusTemplate:JIRA.Templates.DevStatus.DetailDialog.oauthStatus,authenticationTemplate:JIRA.Templates.DevStatus.DetailDialog.authenticationScreen,connectionProblemTemplate:JIRA.Templates.DevStatus.DetailDialog.connectionProblemScreen,connectionProblemWarningTemplate:JIRA.Templates.DevStatus.connectionProblemAsWarning,noPermissionToViewAllTemplate:JIRA.Templates.DevStatus.DetailDialog.noPermissionToViewAll,oauthDanceFailedTemplate:JIRA.Templates.DevStatus.DetailDialog.oauthDanceFailed,initialize:function(t){this.options=n.defaults({},t,{width:560,model:new JIRA.DevStatus.BaseDetailDialogModel(t)}),this.model=this.options.model,this._initFetchHandlers(),this._initFormDialog()},renderSuccess:function(t,e){return this},shouldRefreshOnTabSwitch:function(t){return!1},getTitle:function(t,e){return console.warn("Unimplemented getTitle() function",this),e},getOAuthMessageInFooter:function(t){return AJS.format("You might be able to see more information by authenticating with the following {0,choice,1#application|1\u003capplications}:",t.length)},getOAuthMessageInCanvas:function(){return "Authenticate to see related development information"},getConnectionMessageInCanvas:function(){return "Unable to retrieve development information"},getNoPermissionToViewAllMessageInCanvas:function(){return "Unable to retrieve development information"},getContactAdmistratorsOrLoginMessageInCanvas:function(){return JIRA.Users.LoggedInUser.isAnonymous()?"You might be able to view more by authenticating with JIRA.":"Please contact your administrator."},hasData:function(t){return t.length>0},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()},_getPane:function(t){return t?this.$el.find("#tab-content-"+t.replace(/(:|\.|\[|\])/g,"\\$1")):e()},getContentContainer:function(t){return this._getPane(t||this._getActiveApplicationType()).find(".detail-content-container")},_doTabClick:function(t){t.preventDefault();var e=this._getActiveApplicationType();i.setItem(this._getTabStorageId(),e),this.model.switchTab(e,this.shouldRefreshOnTabSwitch(e)),this.analytics&&this.analytics.fireDetailTabClicked(e)},_redirectToLoginIf401:function(t){return!(!t||401!==t.status)&&(JIRA.DevStatus.Navigate.redirectToLogin(),!0)},_initFetchHandlers:function(){this.model.on("fetchRequested",this._showLoadingIndicator,this),this.model.on("fetchSucceeded",this._handleFetchSucceeded,this),this.model.on("fetchFailed",this._handleFetchFailed,this)},_handleFetchSucceeded:function(t,e){this._hideLoadingIndicator(t);var n=e.detail&&this.hasData(e.detail);n&&this.renderSuccess(t,e.detail),this._renderError(t,e.errors,n),this._postRender()},_handleFetchFailed:function(t,e){this._hideLoadingIndicator(t),this._redirectToLoginIf401(e)||this._renderError(t,[],!1,!0)},_initAuthenticationCallbacks:function(){this._patchAJSIconsForAppLinks();var t=this,n=function(e,n){t.model.oauthStatusChanged(n.appType),t.model.fetchAuthenticationStatuses(),e.preventDefault()},i=function(t){var e=null;return t.id&&t.appUri&&t.appName&&t.appType&&(e={applicationLinkId:t.id,baseUrl:t.appUri,name:t.appName,type:t.appType}),e},a=function(e,n){var a=[i(e)],o=require("jira-development-status/util/helpers"),s=o.copyAndMarkStringPropertiesAsSanitised(n),r=function(){JIRA.isAdmin()?t._renderConnectionError(t.model._getCurrentApplicationType(),a,{message:s.adminError,details:s.adminErrorDetails}):t._renderConnectionError(t.model._getCurrentApplicationType(),a)},c=function(){t._renderAuthenticationError(t.model._getCurrentApplicationType(),a,[],s.userError)};s.adminError?r():s.userError&&c()},o=function(n,i,o){o&&a(i,o),e.ajax(AJS.contextPath()+"/rest/auth/1/session").promise().fail(function(e){t._redirectToLoginIf401(e)})},s=e(document);s.bind("applinks.auth.approved",n),s.bind("applinks.auth.denied",o),e(this.dialog).bind("Dialog.beforeHide",function(){s.unbind("applinks.auth.approved",n),s.unbind("applinks.auth.denied",o),t.model.off(null,null,t),t.instanceListPopup&&t.instanceListPopup.remove()}),e('<div class="applinks-auth-confirmation-container hidden"></div>').appendTo(this.$el)},_initRemoveInlineDialogsOnDialogClose:function(){e(this.dialog).bind("Dialog.beforeHide",function(){return e(".detail-dialog-tooltip").remove()})},_initFetchAuthenticationHandlers:function(){this.model.on("fetchAuthRequested",this._showLoadingIndicator,this),this.model.on("fetchAuthSucceeded",this._handleAuthSucceeded,this),this.model.on("fetchAuthFailed",this._handleAuthFailed,this)},_handleAuthSucceeded:function(t){var e=n.filter(t,function(t){return t.configured&&!t.authenticated&&t.source&&t.source.applicationLinkId}),i=this._getOAuthStatusDiv();e.length>0&&!JIRA.Users.LoggedInUser.isAnonymous()?(i.html(this.oauthStatusTemplate({message:this.getOAuthMessageInFooter(e)})),this._renderUnauthInstancesInFooter(e),i.show()):i.hide()},_handleAuthFailed:function(t){this._redirectToLoginIf401(t),this._getOAuthStatusDiv().hide()},_renderUnauthInstancesInFooter:function(t){var i=this._getOAuthStatusDiv(),a=n.map(n.pluck(t,"source"),this._createOAuthInstanceDiv);if(a.length>0&&(i.append(a[0]),a.length>1&&(i.append(", "),i.append(a[1]),a.length>2))){i.append(" ");var o=e('<span class="more-instances"><a href="#">'+"... more"+"</a></span>");i.append(o);var s=e('<ul class="instance-list"></ul>');n.each(a.slice(2),function(t){s.append(e('<li class="instance-in-popup"></li>').append(t))}),AJS.InlineDialog(o,"instance-list-popup",function(t,e,n){return t.html(s),n(),!1},{width:150,offsetX:-100,onTop:!0})}},_createOAuthInstanceDiv:function(t){var n=a.createAuthRequestInline(null,{id:t.applicationLinkId,authUri:AJS.contextPath()+"/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID="+encodeURIComponent(t.applicationLinkId),appUri:t.baseUrl,appName:t.name,appType:t.type});return e('<span class="instance"></span>').append(n.find("a.applink-authenticate").text(t.name))},_patchAJSIconsForAppLinks:function(){AJS.icons=AJS.icons||{},AJS.icons.addIcon=AJS.icons.addIcon||{},AJS.icons.addIcon.init=AJS.icons.addIcon.init||function(){}},_getOAuthStatusDiv:function(){var t=this.$el.find(".buttons-container .oauth-status");return t.length?t:e('<div class="oauth-status" />').appendTo(this.$el.find(".buttons-container.form-footer"))},_renderError:function(t,e,i,a){var o=n.groupBy(e,function(t){var e=t.error;return"unauthorized"===e||"incapable"===e?e:"others"}),s=n.pluck(o.unauthorized,"instance"),r=n.pluck(o.others,"instance");s.length>0&&this.model.fetchAuthenticationStatuses(),i?r.length>0&&this._renderConnectionErrorBeforeData(t,r):s.length>0?this._renderAuthenticationError(t,s,r):a||r.length>0?this._renderConnectionError(t,r):this._renderNoPermissionToViewAllWarning(t)},_renderConnectionErrorBeforeData:function(t,e){this.getContentContainer(t).prepend(this.connectionProblemWarningTemplate({instances:e,showContactAdminForm:this.options.showContactAdminForm}))},_renderConnectionError:function(t,e,n){this.getContentContainer(t).html(this.connectionProblemTemplate({instances:e,adminError:n,showContactAdminForm:this.options.showContactAdminForm,title:this.getConnectionMessageInCanvas()}))},renderNoPermissionToViewAllWarningAtBottom:function(t,e){var n=this.model.get("tabs")[t]||{},i=this.model.get("contentMap")[t]||{};e<n.count&&(0===(i.errors||[]).length||JIRA.Users.LoggedInUser.isAnonymous())&&this.getContentContainer(t).append(this._getNoPermissionToViewAllHtml())},_getNoPermissionToViewAllHtml:function(){return this.noPermissionToViewAllTemplate({message:this.getNoPermissionToViewAllMessageInCanvas(),secondaryMessage:this.getContactAdmistratorsOrLoginMessageInCanvas()})},_renderNoPermissionToViewAllWarning:function(t){this.getContentContainer(t).html(this._getNoPermissionToViewAllHtml())},_renderAuthenticationError:function(t,e,i,a){var o=this.getContentContainer(t);o.html(this.authenticationTemplate({unauthInstances:e,title:this.getOAuthMessageInCanvas(),otherInstances:i,showContactAdminForm:this.options.showContactAdminForm,userError:a}));var s=n.map(e,this._createOAuthInstanceDiv),r=o.find(".instances");n.each(s,function(t,e){0!==e&&r.append(", "),r.append(t)})},_initFormDialog:function(){var t=this;this.dialog=new JIRA.FormDialog({id:this.options.id,width:this.options.width,content:function(e){t.setElement(this.$popup),t.delegateEvents(n.extend({},t.frameEvents,t.events)),t._renderFrame(),t._initAuthenticationCallbacks(),t._initFetchAuthenticationHandlers(),t.model.fetchAuthenticationStatuses();var a=i.getItem(t._getTabStorageId());t._tabHasContent(a)&&t._activateTab(a),t.model.switchTab(t._getActiveApplicationType()),t._initRemoveInlineDialogsOnDialogClose(),e()},autoClose:!0})},_postRender:function(){this.$el.find(".extra-content-in-title").tooltip(),this.dialog._positionInCenter(),this.$el.find(".active-pane a:eq(0)").focus()},_getActiveApplicationType:function(){return this.$el.find(".menu-item.active-tab").data("applicationType")},_getStorageRef:function(){var t=this.options.issueKey.split("-")[0];return t+"-"+this.options.type},_getTabStorageId:function(){return"stored-tab-"+this._getStorageRef()},_tabHasContent:function(t){return this.$el.find("#tab-menu-"+t).length>0},_activateTab:function(t){this.$el.find(".menu-item.active-tab").toggleClass("active-tab"),this.$el.find(".tabs-pane.active-pane").toggleClass("active-pane"),this.$el.find("#tab-menu-"+t).toggleClass("active-tab"),this.$el.find("#tab-content-"+t).toggleClass("active-pane")},_showLoadingIndicator:function(t){var e=this._getPane(t);e._removeClass("ready"),e.addClass("loading");var n=e.find(".status-loading");n.spin("large"),n.show()},_hideLoadingIndicator:function(t){var e=this._getPane(t);e.addClass("ready");var n=e.find(".status-loading");n&&(e.removeClass("loading"),n.hide(),n.spinStop())},_renderFrame:function(){this.$el.html(this.frameTemplate({title:this.getTitle(this.options.count,this.options.issueKey),tabs:this._convertTabsForSoy(),initialTab:this.options.initialTab})),this.options.height&&this.$el.find(".form-body").css("min-height",this.options.height)},_convertTabsForSoy:function(){return n.chain(this.model.get("tabs")).map(function(t,e){return n.extend({type:e},t)}).sortBy(function(t){return t.type}).value()},_sortReviewsByStatus:function(t){var e=["REVIEW","APPROVAL","SUMMARIZE","REJECTED","CLOSED"];return n.chain(t).filter(function(t){return n.contains(e,t.state)}).sortBy(function(t){return n.indexOf(e,t.state)}).value()}})}),Backbone.define("JIRA.DevStatus.BaseDetailDialogView",require("jira/devstatus/base-detail-dialog-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/BaseDetailDialogModel.js' */
"use strict";define("jira/devstatus/base-detail-dialog-model",["backbone","jquery","underscore"],function(t,e,s){return t.Model.extend({TAB_PREFIX:"#tab-menu-",PANE_PREFIX:"#tab-content-",properties:["tabs","contentMap","oauthStatuses","selectedTab","selectedPane"],namedEvents:["fetchRequested","fetchFailed","fetchSucceeded","fetchAuthRequested","fetchAuthFailed","fetchAuthSucceeded"],initialize:function(t){this.issueKey=t.issueKey,this.issueId=t.issueId,this.type=t.dataType,this.set("contentMap",{}),this.set("tabs",t.tabs)},switchTab:function(t,e){this.set("selectedTab",this.TAB_PREFIX+t),this.set("selectedPane",this.PANE_PREFIX+t),(null==this.get("contentMap")[t]||e)&&this._fetchContents(t)},_fetchContents:function(t){this.trigger("fetchRequested",t),this._handleFetch(t,e.ajax({url:AJS.contextPath()+"/rest/dev-status/1.0/issue/detail",data:{issueId:this.issueId,applicationType:t,dataType:this.type}}).promise())},_handleFetch:function(t,e){var s=this;e.done(function(e){s._fireSuccessResult(t,e)}).fail(function(e,i){s._fireFailResult(t,e)})},_fireSuccessResult:function(t,e){this._updateContents(t,e),this.trigger("fetchSucceeded",t,e)},_fireFailResult:function(t,e){this._updateContents(t),this.trigger("fetchFailed",t,e)},_updateContents:function(t,e){this.get("contentMap")[t]=e},fetchAuthenticationStatuses:function(){var t=s.keys(this.get("tabs")||{});if(!s.isEmpty(t)){var i=this;e.ajax({url:AJS.contextPath()+"/rest/dev-status/1.0/provider/auth-status",data:{applicationType:t}}).promise().done(function(t){t&&t.data?(i._updateOAuthStatuses(t.data),i.trigger("fetchAuthSucceeded",t.data)):(i._updateOAuthStatuses(),i.trigger("fetchAuthFailed",null,t))}).fail(function(t,e){i._updateOAuthStatuses(),i.trigger("fetchAuthFailed",t)})}},oauthStatusChanged:function(t){if(s.has(this.get("tabs"),t)){var e=this._getCurrentApplicationType();e===t?this._fetchContents(e):this.get("contentMap")[t]=null}},_getCurrentApplicationType:function(){var t=this.get("selectedTab");return t?t.slice(this.TAB_PREFIX.length):null},_updateOAuthStatuses:function(t){this.set("oauthStatuses",t)}})}),Backbone.define("JIRA.DevStatus.BaseDetailDialogModel",require("jira/devstatus/base-detail-dialog-model"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/build/DetailDialogBuildView.js' */
"use strict";define("jira/devstatus/detail-dialog-build-view",["underscore","jira/devstatus/base-detail-dialog-view"],function(t,e){return e.extend({template:JIRA.Templates.DevStatus.DetailDialog.build,events:{"click a.project-link":"_onClickProjectLink","click a.plan-link":"_onClickPlanLink","click a.build-link":"_onClickBuildLink"},initialize:function(n){this.analytics=JIRA.DevStatus.BuildsAnalytics,e.prototype.initialize.call(this,t.extend({type:"build",width:1e3,height:400},n))},renderSuccess:function(e,n){var i=t.reduce(n,function(t,e){return t.concat(e.projects||[])},[]),a=this.getContentContainer(e);return a.html(this.template({applicationType:e,projects:this.sortProjectsAndPlans(i),hasArtifacts:this.hasArtifacts(i)})),this.renderNoPermissionToViewAllWarningAtBottom(e,this.getBuildCount(i)),JIRA.DevStatus.Date.addTooltip(a),this},getTitle:function(t,e){return AJS.format("{1}: {0} {0,choice,1#build|1\u003cbuilds}",t,e)},getOAuthMessageInFooter:function(t){return AJS.format("You might be able to see more builds by authenticating with the following {0,choice,1#application|1\u003capplications}:",t.length)},getOAuthMessageInCanvas:function(){return "Authenticate to see related builds"},getConnectionMessageInCanvas:function(){return "Unable to retrieve build information"},getNoPermissionToViewAllMessageInCanvas:function(){return "You don\'t have access to view all related builds."},hasData:function(e){return t.reduce(e,function(t,e){return t.concat(e.projects||[])},[]).length>0},sortProjectsAndPlans:function(e){return e=t.sortBy(e,function(e){return t.last(t.sortBy(e.plans,function(t){return t.build.finishedDate})).build.finishedDate}).reverse(),t.each(e,function(e){e.plans=t.sortBy(e.plans,function(t){return t.build.finishedDate}).reverse()}),e},hasArtifacts:function(e){return t.any(e,function(e){return t.any(e.plans,function(t){return t.build&&t.build.artifacts&&t.build.artifacts.length})})},getBuildCount:function(e){return t.union.apply(null,t.map(e,function(e){return t.pluck(e.plans,"key")})).length},_onClickProjectLink:function(){JIRA.DevStatus.BuildsAnalytics.fireDetailProjectClicked()},_onClickPlanLink:function(){JIRA.DevStatus.BuildsAnalytics.fireDetailPlanClicked()},_onClickBuildLink:function(){JIRA.DevStatus.BuildsAnalytics.fireDetailBuildClicked()}})}),Backbone.define("JIRA.DevStatus.DetailDialogBuildView",require("jira/devstatus/detail-dialog-build-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/deployment/DetailDialogDeploymentView.js' */
"use strict";define("jira/devstatus/detail-dialog-deployment-view",["underscore","jira/devstatus/base-detail-dialog-view"],function(e,t){return t.extend({template:JIRA.Templates.DevStatus.DetailDialog.Deployment.deployment,events:{"click a.project-link":"_onClickProjectLink","click a.environment-link":"_onClickEnvironmentLink","click a.release-link":"_onClickReleaseLink"},initialize:function(n){this.analytics=JIRA.DevStatus.DeploymentsAnalytics,t.prototype.initialize.call(this,e.extend({type:"deployment",width:1e3,height:400},n))},renderSuccess:function(t,n){var i=e.reduce(n,function(e,t){return e.concat(t.deploymentProjects||[])},[]),o=this.getContentContainer(t);return o.html(this.template({applicationType:t,deploymentProjects:this.sortProjects(i)})),this.renderNoPermissionToViewAllWarningAtBottom(t,this.getEnvironmentCount(i)),JIRA.DevStatus.Date.addTooltip(o),this},getTitle:function(e,t){return AJS.format("{1}: {0} {0,choice,1#deployment|1\u003cdeployments}",e,t)},getOAuthMessageInFooter:function(e){return AJS.format("You might be able to see more deployments by authenticating with the following {0,choice,1#application|1\u003capplications}:",e.length)},getOAuthMessageInCanvas:function(){return "Authenticate to see related deployments"},getConnectionMessageInCanvas:function(){return "Unable to retrieve deployment information"},getNoPermissionToViewAllMessageInCanvas:function(){return "You don\'t have access to view all related deployments."},hasData:function(t){return e.reduce(t,function(e,t){return e.concat(t.deploymentProjects||[])},[]).length>0},sortProjects:function(t){return e.sortBy(t,function(t){return e.last(e.sortBy(t.environments,function(e){return new Date(e.lastDeployed||0).getTime()})).lastDeployed}).reverse()},getEnvironmentCount:function(t){return e.union.apply(null,e.map(t,function(t){return e.pluck(t.environments,"environmentId")})).length},_onClickProjectLink:function(){JIRA.DevStatus.DeploymentsAnalytics.fireDetailProjectClicked()},_onClickEnvironmentLink:function(){JIRA.DevStatus.DeploymentsAnalytics.fireDetailEnvironmentClicked()},_onClickReleaseLink:function(){JIRA.DevStatus.DeploymentsAnalytics.fireDetailReleaseClicked()}})}),Backbone.define("JIRA.DevStatus.DetailDialogDeploymentView",require("jira/devstatus/detail-dialog-deployment-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/DetailDialogCommitView.js' */
"use strict";define("jira/devstatus/detail-dialog-commit-view",["jquery","underscore","jira/devstatus/base-detail-dialog-view","jira/util/data/meta"],function(e,t,i,n){return i.extend({template:JIRA.Templates.DevStatus.DetailDialog.commit,events:{"click a.repository-link":"_onClickRepositoryLink","click a.changesetid":"_onClickChangesetId","click .filecount a":"_onClickFiles","click .file-expand a":"_onClickExpand","click .create-review-commit a":"_onClickCreateReview","mouseenter .review-tooltip":"_onHoverReviewsTooltip","click .detail-dialog-tooltip a":"_onClickReview","click .filename a":"_onClickFile"},initialize:function(e){this.analytics=JIRA.DevStatus.CommitsAnalytics,this.issueId=e.issueId;var a,s=n.get("fusion-open-detail-dialog");JIRA.DevStatus.URL.isCreateReviewDetailDialogLink(s)&&(a=JIRA.DevStatus.URL.getCreateReviewDetailDialogApplicationType(s)),i.prototype.initialize.call(this,t.extend({type:"commit",width:1e3,height:400,initialTab:a},e))},concatResults:function(e){return t.reduce(e,function(e,i){var n=i.repositories||[];return t.each(n,function(e){e.showInstance=i._instance&&!i._instance.singleInstance,e.instance=i._instance}),e.concat(n)},[])},_clipEllipsis:function(){function t(e){return e.outerWidth()}this.$el.find(".detail-content-container .file .ellipsis").each(function(i,n){var a=e(n),s=t(a);if(0!=s){var o=a.find("a");if(t(o)>s)for(var r=o.text();t(o)>s;)r=r.slice(1),o.text("…"+r)}})},renderSuccess:function(e,t){var i=this.concatResults(t),n=this.getContentContainer(e);this.transformedRepositories=this.transformRepositories(i);var a=this.setupCreateReviewDialog(this.transformedRepositories);return n.html(this.template({applicationType:e,repositories:this.transformedRepositories,canCreateReview:a})),this.renderNoPermissionToViewAllWarningAtBottom(e,this.getUniqueCommitCount(i)),JIRA.DevStatus.Date.addTooltip(n),this.setupBranchesTooltip(),this.createReviewDialog&&this.createReviewDialog.renderSuccess(),this},setupCreateReviewDialog:function(e){var i=t.chain(e).filter(function(e){return e.showCreateReview}).pluck("instance").value(),a=!1;if(i.length){var s=require("jira/devstatus/create-review-form-dialog");this.createReviewDialog=new s({analytics:this.analytics,applicationType:this._getActiveApplicationType(),issueId:this.issueId,instances:i}),a=!0}var o=n.get("fusion-open-detail-dialog");return JIRA.DevStatus.URL.isCreateReviewDetailDialogLink(o)&&JIRA.DevStatus.URL.getCreateReviewDetailDialogApplicationType(o)===this._getActiveApplicationType()&&(n.set("fusion-open-detail-dialog",void 0),a&&this.createReviewDialog.dialog.show()),a},setupBranchesTooltip:function(){var t=this;e(".branches-link").tooltip({title:function(){var i=t._getCommitDetails(e(this)).branches;return JIRA.DevStatus.CommitsAnalytics.fireDetailBranchesShown(t._getActiveApplicationType()),JIRA.Templates.DevStatus.DetailDialog.branchesTooltip({branchData:i})},html:!0})},getTitle:function(i,n){var a=t.chain(this.model.get("tabs")).map(function(e){return e.count}).reduce(function(e,t){return e+t},0).value(),s=Math.max(a-i,0);return e.trim(AJS.format("{1}: {0} unique {0,choice,1#commit|1\u003ccommits}{2,choice,0# |0\u003c (and {2} duplicates)}",i,n,s))},getOAuthMessageInFooter:function(e){return AJS.format("You might be able to see more commits by authenticating with the following {0,choice,1#application|1\u003capplications}:",e.length)},getOAuthMessageInCanvas:function(){return "Authenticate to see related commits"},getConnectionMessageInCanvas:function(){return "Unable to retrieve commit information"},getNoPermissionToViewAllMessageInCanvas:function(){return "You don\'t have access to view all related commits."},hasData:function(e){return this.concatResults(e).length>0},transformRepositories:function(e){e=this.sortRepositoriesAndCommits(e);var i=this,n=[["reviews","showReviews"],["branches","showBranches"],["files","showFiles"],["createReviewUrl","showCreateReview"]];return t.each(n,function(t){e=i._setRepositoryFromFromCommitField(e,t[0],t[1])}),e=this.prepareReviews(e)},_setRepositoryFromFromCommitField:function(e,i,n){return t.each(e,function(e){e[n]=null!=t.find(e.commits,function(e){return null!=e[i]})}),e},prepareReviews:function(e){var i=this;return t.each(e,function(e){t.each(e.commits,i._orderCommitReviews,i)}),e},_orderCommitReviews:function(e){e.reviews&&e.reviews.reviews&&(e.reviews.reviews=this._sortReviewsByStatus(e.reviews.reviews))},sortRepositoriesAndCommits:function(e){return e=t.sortBy(e,function(e){return e.name.toLowerCase()}),t.each(e,function(e){e.commits=t.sortBy(e.commits,"authorTimestamp").reverse()}),e},getUniqueCommitCount:function(e){return t.union.apply(null,t.map(e,function(e){return t.filter(t.pluck(e.commits,"id"),function(e){return e})})).length},_getRepoDetails:function(e){return this.transformedRepositories[parseInt(e.parents(".detail-commits-container").data("repository-index"))]},_getCommitDetails:function(e){return this._getRepoDetails(e).commits[parseInt(e.parents("tr").data("commit-index"))]},_onClickRepositoryLink:function(){JIRA.DevStatus.CommitsAnalytics.fireDetailRepoClicked(this._getActiveApplicationType())},_onClickChangesetId:function(){JIRA.DevStatus.CommitsAnalytics.fireDetailCommitClicked(this._getActiveApplicationType())},_onClickExpand:function(t){t.preventDefault();var i=this._getFileExpand(e(t.target));i.toggle(i.getRows())&&JIRA.DevStatus.CommitsAnalytics.fireDetailFilesExpandedClicked(this._getActiveApplicationType()),this._clipEllipsis()},_onClickFiles:function(t){t.preventDefault();var i=this._getFileExpand(e(t.target)).toggle(e(t.target).closest(".commitrow").next(".filerow"));this._clipEllipsis(),i&&JIRA.DevStatus.CommitsAnalytics.fireDetailFileExpandedClicked(this._getActiveApplicationType())},_onClickCreateReview:function(){JIRA.DevStatus.CommitsAnalytics.fireDetailCreateReviewClicked(this._getActiveApplicationType(),!1)},_onClickReview:function(){JIRA.DevStatus.CommitsAnalytics.fireDetailReviewClicked(this._getActiveApplicationType())},_onHoverReviewsTooltip:function(){JIRA.DevStatus.CommitsAnalytics.fireDetailReviewsShown(this._getActiveApplicationType())},_onClickFile:function(){JIRA.DevStatus.CommitsAnalytics.fireDetailFileClicked(this._getActiveApplicationType())},_getFileExpand:function(e){function t(e){return e.length>e.filter(".hidden").length}var i=e.closest(".detail-commits-container");return{getRows:function(){return i.find(".filerow")},toggle:function(e){var i=t(e);return e.toggleClass("hidden",i),this._updateExpandLabel(),!i},_updateExpandLabel:function(){i.find(".file-expand a").text(t(this.getRows())?"Hide files":"Show all files")}}}})}),Backbone.define("JIRA.DevStatus.DetailDialogCommitView",require("jira/devstatus/detail-dialog-commit-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/DetailDialogBranchView.js' */
"use strict";define("jira/devstatus/detail-dialog-branch-view",["jquery","underscore","jira/devstatus/base-detail-dialog-view"],function(t,e,i){return i.extend({template:JIRA.Templates.DevStatus.DetailDialog.branch,STATE_ORDER:["OPEN","MERGED","DECLINED"],events:{"click a.repository-link":"_onClickRepositoryLink","click a.branch-link":"_onClickBranchLink","click a.create-pullrequest-link":"_onClickCreatePullRequestLink","click a.create-review-link":"_onClickCreateReviewLink","mouseenter .pullrequest-tooltip":"_onHoverPullRequestsToolTip","mouseenter .review-tooltip":"_onHoverReviewsToolTip"},initialize:function(t){this.analyticIssueData=t.analyticIssueData||{},this.analytics=JIRA.DevStatus.BranchesAnalytics,i.prototype.initialize.call(this,e.extend({},t,{type:"branch",width:1e3,height:400,dataType:"pullrequest"}))},renderSuccess:function(t,e){var i=this._sortBranchesByName(this._removeWithNoRepos(this._extractAllBranches(e))),n=this._extractAllPullRequests(e);this._populatePullRequestStateByBranch(i,n),this._prepareBranchReviews(i);var a=this._getBranchFeatures(i),s=this._getBranchCount(i),r=this.getContentContainer(t);return s>0?(r.html(this.template({applicationType:t,branches:i,features:a,branchCount:s})),JIRA.DevStatus.Date.addTooltip(r)):r.empty(),this.renderNoPermissionToViewAllWarningAtBottom(t,s),this},getTitle:function(t,e){return AJS.format("{1}: {0} {0,choice,1#branch|1\u003cbranches}",t,e)},getOAuthMessageInFooter:function(t){return AJS.format("You might be able to see more branches by authenticating with the following {0,choice,1#application|1\u003capplications}:",t.length)},getOAuthMessageInCanvas:function(){return "Authenticate to see related branches"},getConnectionMessageInCanvas:function(){return "Unable to retrieve branch information"},getNoPermissionToViewAllMessageInCanvas:function(){return "You don\'t have access to view all related branches."},hasData:function(t){return this._removeWithNoRepos(this._extractAllBranches(t)).length>0},_extractAllBranches:function(t){return e.compact(e.flatten(e.pluck(t,"branches")))},_getBranchFeatures:function(t){return{pullRequests:null!=e.find(t,function(t){return t.createPullRequestUrl||t.pullRequestState&&t.pullRequestState.total}),lastCommitId:null!=e.find(t,function(t){return t.lastCommit&&t.lastCommit.displayId}),lastCommitTimestamp:null!=e.find(t,function(t){return t.lastCommit&&t.lastCommit.authorTimestamp}),reviews:null!=e.find(t,function(t){return t.createReviewUrl||t.reviews&&t.reviews.totalCount})}},_removeWithNoRepos:function(t){return e.filter(t,function(t){return t.repository})},_prepareBranchReviews:function(t){var i=this._sortReviewsByStatus;e.each(t,function(t){t.reviews&&t.reviews.reviews&&(t.reviews.reviews=i(t.reviews.reviews))})},_extractAllPullRequests:function(t){return e.flatten(e.compact(e.pluck(t,"pullRequests")))},_sortBranchesByName:function(t){return e.sortBy(t,function(t){return t.repository.name+t.name})},_onClickRepositoryLink:function(){this.analytics.fireDetailRepoClicked(this._getActiveApplicationType())},_onClickBranchLink:function(){this.analytics.fireDetailBranchClicked(this._getActiveApplicationType())},_onClickCreatePullRequestLink:function(){this.analytics.fireDetailCreatePullRequestClicked(this._getActiveApplicationType(),this.analyticIssueData.isAssignee,this.analyticIssueData.isAssignable)},_onClickCreateReviewLink:function(){this.analytics.fireDetailCreateReviewClicked(this._getActiveApplicationType(),this.analyticIssueData.isAssignee,this.analyticIssueData.isAssignable)},_onHoverPullRequestsToolTip:function(){this.analytics.fireDetailPullRequestLozengeClick(this._getActiveApplicationType())},_onHoverReviewsToolTip:function(){this.analytics.fireDetailReviewLozengeClick(this._getActiveApplicationType())},_getBranchCount:function(t){return t.length},_populatePullRequestStateByBranch:function(t,i){var n=this;return e.each(t,function(t){var a=e.filter(i,function(e){return e.source.url===t.url});t.pullRequestState=n._summarisePullRequestState(a)}),t},_sortPullRequestsByStatus:function(t){return e.sortBy(t,function(t){return("OPEN"===t.status?"2":"MERGED"===t.status?"1":"0")+t.lastUpdated}).reverse()},_getFirstStatusWithCount:function(t){return e.find(this.STATE_ORDER,function(e){return t[e]})},_summarisePullRequestState:function(t){var i=e.groupBy(t,function(t){return t.status});return{status:this._getFirstStatusWithCount(i),data:this._sortPullRequestsByStatus(t),total:e.size(t)}}})}),Backbone.define("JIRA.DevStatus.DetailDialogBranchView",require("jira/devstatus/detail-dialog-branch-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/DetailDialogPullRequestView.js' */
"use strict";define("jira/devstatus/detail-dialog-pull-request-view",["underscore","jira/devstatus/base-detail-dialog-view"],function(e,t){return t.extend({template:JIRA.Templates.DevStatus.DetailDialog.pullRequest,events:{"click a.pullrequest-link":"_onClickPullRequestLink"},initialize:function(i){this.analytics=JIRA.DevStatus.PullRequestsAnalytics,t.prototype.initialize.call(this,e.extend({type:"pullrequest",width:1e3,height:400},i))},renderSuccess:function(t,i){var n=this._removeAuthorFromReviewers(this._extractAllPullRequests(i)),s=this._getSortedPullRequestsByDate(n),r=e.size(s),u=this.getContentContainer(t);return r>0?(u.html(this.template({pullRequests:s,pullRequestCount:r,reviewersThreshold:this.options.reviewersThreshold})),JIRA.DevStatus.Date.addTooltip(u)):u.empty(),this.renderNoPermissionToViewAllWarningAtBottom(t,r),this},getTitle:function(e,t){return AJS.format("{1}: {0} {0,choice,1#pull request|1\u003cpull requests}",e,t)},getOAuthMessageInFooter:function(e){return AJS.format("You might be able to see more pull requests by authenticating with the following {0,choice,1#application|1\u003capplications}:",e.length)},getOAuthMessageInCanvas:function(){return "Authenticate to see related pull requests"},getConnectionMessageInCanvas:function(){return "Unable to retrieve pull request information"},getNoPermissionToViewAllMessageInCanvas:function(){return "You don\'t have access to view all related pull requests."},hasData:function(e){return this._extractAllPullRequests(e).length>0},_extractAllPullRequests:function(t){return e.compact(e.flatten(e.pluck(t,"pullRequests")))},_removeAuthorFromReviewers:function(t){return e.map(t,function(t){if(t.reviewers&&t.author){var i=e.filter(t.reviewers,function(e){return e.name!=t.author.name});if(t.reviewers.length==i.length)return t;var n=e.clone(t);return n.reviewers=i,n}return t})},_sortReviewers:function(t){var i=this.options.reviewersThreshold;e.each(t,function(t,n){e.size(t.reviewers)>0&&(t.reviewers=e.sortBy(e.filter(t.reviewers,function(e){return e.name}),function(e){return e.approved?"0"+e.name:"1"+e.name}),t.reviewers.length>i+1&&(t.extraReviewers=t.reviewers.slice(i)))})},_getSortedPullRequestsByDate:function(t){return this._sortReviewers(t),e.sortBy(t,"lastUpdate").reverse()},_onClickPullRequestLink:function(){this.analytics.fireDetailPullRequestClicked(this._getActiveApplicationType())}})}),Backbone.define("JIRA.DevStatus.DetailDialogPullRequestView",require("jira/devstatus/detail-dialog-pull-request-view"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:devstatus-dialog-all-resources', location = 'js/viewissue/dialog/DetailDialogReviewView.js' */
"use strict";define("jira/devstatus/detail-dialog-review-view",["underscore","jira/devstatus/base-detail-dialog-view"],function(e,t){return t.extend({template:JIRA.Templates.DevStatus.DetailDialog.review,events:{"click a.review-link":"_onClickReviewLink","click a.comment-link":"_onClickReviewLink"},initialize:function(i){this.analytics=JIRA.DevStatus.ReviewsAnalytics,this.finalStates=["REJECTED","CLOSED"],this.nonFinalStates=["REVIEW","APPROVAL","SUMMARIZE"],this.validStates=e.union(this.finalStates,this.nonFinalStates),t.prototype.initialize.call(this,e.extend({type:"review",width:1e3,height:400},i))},_updateReviewers:function(t){return t.reviewers=e.chain(t.reviewers).filter(function(i){return!(i&&t.author&&t.author.name&&i.name)||!e.isEqual(i.name,t.author.name)}).sortBy(function(e){return(e.complete?"0":"1")+e.name}).map(function(e){return e.approved=e.complete,e}).value(),t.moderator&&!e.isEqual(t.moderator,t.author)&&(t.reviewers=[e.extend(t.moderator,{name:"Moderator:"+" "+t.moderator.name})].concat(t.reviewers)),t},_updateReview:function(t){return function(i){return i.state&&i.dueDate&&e.contains(t,i.state)&&delete i.dueDate,i.dueDate&&moment(i.dueDate).isBefore(moment())&&(i.overDue=!0),i}},_addExtraReviewers:function(e){return function(t){return t.reviewers&&(t.extraReviewers=t.reviewers.slice(e)),t}},_reviewCompare:function(e,t){return e.dueDate&&!t.dueDate?-1:!e.dueDate&&t.dueDate?1:e.dueDate&&t.dueDate?e.dueDate.localeCompare(t.dueDate):e.lastModified&&t.lastModified?t.lastModified.localeCompare(e.lastModified):0},_mergeInstanceData:function(e,t){return e.concat(t.reviews||[])},_prepareReviews:function(t){var i=this;return e.chain(t).reduce(this._mergeInstanceData,[]).filter(function(t){return t.state=t.state&&t.state.toUpperCase(),e.contains(i.validStates,t.state)}).map(e.compose(this._addExtraReviewers(this.options.reviewersThreshold),this._updateReviewers,this._updateReview(this.finalStates))).sort(this._reviewCompare).value()},renderSuccess:function(e,t){var i=this._prepareReviews(t),a=this.getContentContainer(e);return i.length>0?(a.html(this.template({applicationType:e,reviews:i,reviewersThreshold:this.options.reviewersThreshold})),JIRA.DevStatus.Date.addTooltip(a)):a.empty(),this.renderNoPermissionToViewAllWarningAtBottom(e,i.length),this},getTitle:function(e,t){return AJS.format("{1}: {0} {0,choice,1#review|1\u003creviews}",e,t)},getNoPermissionToViewAllMessageInCanvas:function(){return "You don\'t have access to view all related reviews."},getOAuthMessageInCanvas:function(){return "Authenticate to see related reviews"},getOAuthMessageInFooter:function(e){return AJS.format("You might be able to see more reviews by authenticating with the following {0,choice,1#application|1\u003capplications}:",e.length)},getConnectionMessageInCanvas:function(){return "Unable to retrieve review information"},hasData:function(t){return e.flatten(e.pluck(t,"reviews"),!0).length>0},_onClickReviewLink:function(){this.analytics.fireDetailReviewClicked()}})}),Backbone.define("JIRA.DevStatus.DetailDialogReviewView",require("jira/devstatus/detail-dialog-review-view"));;